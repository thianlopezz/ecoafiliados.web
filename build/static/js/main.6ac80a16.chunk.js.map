{"version":3,"sources":["assets/img/logo.png","assets/img/nomadem_isotipo1.png","assets/img/nomademdotcom.png","assets/img/loadie.gif","assets/noti.mp3","assets/img/nomadem_imagotipo.png","assets/img/place-def.png","constants/index.js","components/common/Avatar.js","components/usuario/UsuarioAvatar.js","components/common/inputs/Button.js","components/header/Header.js","pages/shared/notFound/NotFoundPage.js","components/common/wrappers/Section.js","components/common/cards/DummyCards.js","components/reservation/ReservationRow.js","components/reservation/ReservationTable.js","components/traveler/TravelerRow.js","components/traveler/TravelerTable.js","theme/index.js","components/common/wrappers/Container.js","components/common/inputs/Select.js","components/common/inputs/Input.js","helpers/validations.js","components/common/inputs/SelectFilter.js","components/reviewAndPay/PassengerPaymentForm.js","components/common/wrappers/AsideGrid.js","components/common/cards/ImageCard.js","components/reviewAndPay/PlanInfoCard.js","pages/traveler/PayAndReview/ReviewPay.js","components/common/inputs/Range.js","components/trip/TripShortInfoItem.js","components/reservation/DeleteReservationConfirmModal.js","helpers/pdfHelper.js","pages/planner/reservation/ReservationPage.js","components/login/LoginForm.js","components/common/inputs/Datepicker.js","components/login/RegistroForm.js","components/login/LoginRegistroForm.js","pages/shared/login/LoginPage.js","components/common/SnackbarContentWrapper.js","components/common/cards/TitleDescriptionCard.js","pages/shared/account/AccountSettingsPage.js","components/common/TitleDescription.js","components/review/ReviewItem.js","components/review/ReviewList.js","components/plan/TravelerReviews.js","components/plan/PlanCard.js","components/common/wrappers/EntityFrame.js","components/plan/PlanList.js","components/common/modals/FullModal.js","components/common/MapContainer.js","components/common/calendar/Calendar.js","components/plan/ChooseDateItem.js","components/plan/PlanDetailModal.js","pages/shared/profile/AgencyPage.js","components/common/Spinner.js","components/plan/BasicInfoForm.js","components/common/inputs/File.js","components/plan/MainPictureForm.js","components/common/inputs/MultipleSelect.js","components/plan/IncluidosForm.js","components/common/inputs/Timepicker.js","components/plan/ItineraryForm.js","components/lugar/LugarCard.js","components/lugar/LugarList.js","components/plan/LugaresForm.js","components/plan/ActividadesForm.js","components/plan/PlanForm.js","pages/shared/plan/PlanCreatePage.js","components/login/LoginModal.js","components/agency/BasicInfoForm.js","components/agency/BasicInfo.js","components/agency/LocationForm.js","components/agency/LocationInfo.js","components/agency/BrandInfoForm.js","components/agency/BrandInfo.js","pages/shared/account/AgencyInfoPage.js","components/account/CambiarContrasenaForm.js","pages/shared/account/LoginAndSecurityPage.js","helpers/proxyConfig.js","contexts/UserProvider.js","components/common/MenuBar.js","theme/GlobalStyle.js","components/common/Layouts/AppLayout.js","components/usuario/PersonalInfoForm.js","components/usuario/PersonalInfo.js","pages/shared/account/PersonalInfoPage.js","components/common/ScrollTop.js","components/common/VerTodos.js","components/trip/TripShortInfoList.js","components/orders/OrderRow.js","components/orders/OrdersTable.js","components/orders/OrderDetailRow.js","components/orders/OrderDetailTable.js","components/orders/OrderDetailModal.js","pages/planner/dashboard/DashboardPage.js","components/plan/PlanShortInfoItem.js","components/trip/TripForm.js","components/trip/TripInfo.js","components/common/TitleAction.js","pages/planner/calendar/CalendarPage.js","components/common/ConfirmModal.js","pages/planner/planes/PlanesPage.js","components/common/wrappers/LoadieWrap.js","components/analytics/ConsolidadoChart.js","components/common/inputs/RangePickerHeader.js","components/analytics/ComprasCharts.js","queries/analytics.js","helpers/sesion.js","components/common/inputs/DateRangePicker.js","pages/planner/analytics/AnalyticsPage.js","theme/uiStrings.js","components/LeftSideBar/LeftSideBar.js","App.js","reducers/loginReducer.js","reducers/planReducer.js","reducers/ciudadReducer.js","reducers/lugarReducer.js","reducers/registroReducer.js","reducers/usuarioReducer.js","reducers/paisReducer.js","reducers/plannerReducer.js","reducers/snackbarReducer.js","reducers/incluidoReducer.js","reducers/actividadReducer.js","reducers/diaReducer.js","reducers/reservaReducer.js","reducers/salidaReducer.js","reducers/tripReducer.js","reducers/confirmReducer.js","reducers/sideBarReducer.js","reducers/orderReducer.js","reducers/comercioReducer.js","reducers/index.js","helpers/errorHandlers.js","sagas/loginSaga.js","sagas/registroSaga.js","sagas/usuarioSaga.js","sagas/ciudadSaga.js","sagas/planSaga.js","sagas/lugarSaga.js","sagas/paisSaga.js","sagas/plannerSagas.js","sagas/incluidoSaga.js","sagas/diaSaga.js","sagas/actividadSaga.js","sagas/reservaSaga.js","sagas/tripSaga.js","sagas/orderSaga.js","sagas/comercioSaga.js","sagas/index.js","store/index.js","index.js"],"names":["module","exports","LOGOTIPO_LIGHT","logotipo","logotipoLight","Avatar","isotipo","dotcom","loadie","image","size","style","backgroundImage","width","height","backgroundSize","backgroundPosition","borderRadius","margin","UsuarioAvatar","usuario","className","foto","src","nombre","toUpperCase","apellido","Button","text","type","loading","disabled","children","variant","color","onClick","startIcon","CircularProgress","connect","loginState","logged","menu","dispatch","logout","openLeftSideBar","agencia","history","useState","navigator","onLine","connected","setConnectedValue","useEffect","setInternetStatus","window","addEventListener","removeEventListener","path","idPlanner","id","IconButton","aria-label","goBack","to","NotFoundPage","sectionsStyle","marginBottom","marginTop","Section","title","description","button","DummyCards","cols","disablePhoto","disableTitle","disableDescription","dummyCards","Array","fill","map","card","index","key","ReservationRow","idCompra","pasajero","cupos","estadoFormat","estado","feCreacion","total","ganancia","onDetail","moment","utc","format","ReservationTable","ToShow","reservations","colSpan","length","reservation","scope","TravelerRow","idReserva","pais","identificacion","TravelerTable","travelers","traveler","idReservation","palette","primary","main","contrastText","secondary","error","light","dark","gray","gray100","gray200","gray300","metalblue","white","white0","white100","white200","white300","status","CSS_HELPERS_REACT","CENTER","display","alignItems","justifyContent","CENTER_VERTICAL","TRUNCATE","overflow","textOverflow","whiteSpace","BOX_SHADOW","boxShadow","CSS_HELPERS","CSS_FONTS","MENU","H1","H2","H3","H4","H5","H6","MD","SM","BODY","MEDIA_SCREENS","FROM","TO","Container","props","Component","JumboTron","Childs","styled","div","Select","label","name","value","options","onChange","InputLabel","htmlFor","fullWidth","undefined","inputProps","option","MenuItem","FormHelperText","DecimalFormat","inputRef","other","getInputRef","onValueChange","values","target","allowNegative","decimalScale","IntegerFormat","Input","InputProps","multiline","textColor","placeholder","rows","endAdornment","inputComponent","startAdornment","InputAdornment","position","TextField","helperText","email","phone","SelectFilter","autoSelect","autoComplete","disableClearable","valueText","find","x","Autocomplete","getOptionLabel","isNaN","getOptionSelected","renderInput","params","PassengerPaymentForm","reserva","onReservaChange","numberOptions","onSubmit","isAgency","onDelete","paisesOption","errors","setErrors","showNotas","setShowNotas","e","auxPasajeros","pasajeros","noPasajeros","i","auxPasajero","push","onChangePasajeros","preventDefault","valid","correo","RegExp","test","idPais","notas","noValidate","href","DialogActions","right","AsideGrid","web","left","mob","flexDirection","d","_Container","_MainSide","_SecondarySide","direction","Image","img","ImageCard","subtitle","imgClass","link","ButtonBase","outline","draggable","PlanInfoCard","plan","showTotalInput","onChangeTotal","onChangePrecio","salida","urlFoto","horaFin","diff","horaInicio","planner","feSalida","precio","fontSize","backgroundColor","useStyles","makeStyles","theme","appBar","marginLeft","spacing","flex","Transition","React","forwardRef","ref","Slide","reservaState","login","paisState","paises","reservaChange","booking","onSuccess","loadPaises","open","onClose","trip","planState","classes","tripsLeft","ocupados","generateNumberOptions","Dialog","fullScreen","TransitionComponent","AppBar","edge","idSalida","idPlan","idUsuario","valorUnitario","tipoCompra","planDetalle","CusomizedSlider","withStyles","root","thumb","track","rail","Slider","Range","step","marks","valueLabelDisplay","getAriaValueText","defaultValue","aria-labelledby","valuetext","TripShortInfoItem","cursorStyle","onSeeReservations","showOccupationSlide","cursor","fecha","Number","toFixed","DialogTitle","padding","closeButton","top","grey","disableTypography","Typography","DialogContent","MuiDialogContent","DeleteReservationConfirmModal","isOpen","onConfirm","onCloseModal","onCancel","cancelText","confirmText","notificar","setNotificar","maxWidth","dividers","FormControl","component","FormLabel","RadioGroup","FormControlLabel","control","Radio","pdfMake","vfs","pdfFonts","tripState","trips","loadingList","loadingReserva","reservaDelete","showConfirm","config","loadTrip","loadTrips","selectedView","setselectedView","isCheckingOut","setCheckingOut","isOpenConfirmDelete","setOpenConfirmDelete","match","idTrip","onCheckout","tripsComing","findIndex","inicio","final","slice","borderRight","lastSync","isValid","date","toDate","role","borderTopRightRadius","borderBottomRightRadius","borderTopLeftRadius","borderBottomLeftRadius","isBefore","reservas","filter","fileName","documentDefinition","pageSize","content","table","body","createPdf","download","console","log","Error","generatePassengerReport","LoginForm","state","bind","onInputChange","this","setState","trim","contrasena","Datepicker","disableToolbar","disablePast","utils","DateFnsUtils","KeyboardButtonProps","registroState","loginLoading","registroLoading","registro","navigate","loadOrders","idComercio","loadComercio","navigateToDashboardAndLoadData","replace","userPass","location","pathname","indexOf","floatRight","input","LoginPage","Card","CardContent","success","green","info","warning","amber","icon","iconVariant","opacity","marginRight","message","variantIcon","CheckCircleIcon","WarningIcon","ErrorIcon","InfoIcon","SnackbarContentWrapper","Icon","SnackbarContent","clsx","aria-describedby","action","TitleDescriptionCard","TitleDescription","ReviewItem","stars","comentario","initialRating","fullSymbol","emptySymbol","ReviewList","reviews","review","TravelerReviews","DangerChip","media","getContrastText","borderColor","Chip","PlanCard","descripcion","ciudad","logoAgencia","isInfoCompleted","onClickPlanner","onNewDate","onEdit","onWatch","showCardHeader","showStatus","CardHeader","avatar","subheader","imgclassName","clickable","CardActions","EntityFrame","PlanList","planes","onSync","dummySize","FullModal","MapContainer","googleMapRef","createRef","createGoogleMap","center","zoom","google","maps","Map","current","lat","lng","createMarker","Marker","googleMap","onCenterChange","googleMapScript","document","createElement","appendChild","marker","eventOnChange","addListener","getCenter","remove","setZoom","setPosition","isDisabled","textDecoration","background","isTrip","fontWeight","isSelected","day","datesChecked","emptyLabel","dates","Wrapper","DatePicker","autoOk","orientation","renderDay","selectedDate","dayInCurrentMonth","dayComponent","Day","cloneElement","stopPropagation","isSame","splice","selected","hidden","SelectedDay","ChooseDateItem","avalible","onClickFecha","PlanDetailModal","setSelectedDate","planDescription","fechasViajes","latitud","longitud","horaSalida","fechas","viajes","Detalle","plannerState","agency","loadingAgency","loadingPlanes","setPlan","loadPlan","getPlanner","loadPlanes","isModalOpen","setModalOpen","isOwnerOfAgency","returnValue","urlLogo","direccion","addText","addAction","Spinner","BasicInfoForm","onPlanChange","onChangeNumbers","File","accept","MainPictureForm","file","onImageChange","onFileTooBig","files","fr","FileReader","readAsDataURL","onload","result","getElementById","click","triggerFileInput","components","Control","innerProps","innerRef","selectProps","TextFieldProps","Menu","Paper","square","paper","MultiValue","tabIndex","chip","chipFocused","isFocused","removeProps","deleteIcon","NoOptionsMessage","noOptionsMessage","Option","Placeholder","ValueContainer","valueContainer","flexGrow","minWidth","flexWrap","emphasize","singleValue","bottom","zIndex","divider","MultipleSelect","groupedOptions","closeMenuOnSelect","useTheme","selectStyles","base","font","NoSsr","styles","inputId","InputLabelProps","shrink","isMulti","IncluidosForm","incluido","idIncluido","incluidosOption","incluidos","Timepicker","inputVariant","inpu","calcularTiempoPromedio","itinerario","sum","forEach","itinerarioItem","horaIni","LugarCard","idLugar","lugar","LugaresList","lugares","editAction","deleteAction","detailAction","horizontal","showEmpty","elemsToShow","elemIni","setElemIni","lugaresToRender","landscapeCardImage","handle","LugaresForm","lugaresOption","lugarSelected","ActividadesForm","actividades","actividad","idActividad","actividadesOption","TabPanel","Box","p","a11yProps","tabs","PlanForm","diasOption","onChangeStepForm","onSubmitBasicInfo","onSubmitMainPicture","onSubmitIncluidos","onSubmitLugares","onSubmitItinerario","onSubmitActividades","Tabs","event","newValue","Tab","incluidoState","diaState","lugarState","actividadState","stepForm","dias","incluidosGroup","Set","tipoEs","es","tipo","grupo","createIncluidosOptionGroups","dia","idDia","lugaresGroup","isla","createLugaresOptionGroups","changePlan","saveBasicInfo","saveMainPicture","saveIncluidos","saveItinerarios","saveLugares","saveActividades","changeStepForm","loadDias","loadLugares","loadIncluidos","loadActividades","showToast","mensaje","initStuff","showLoginModal","hideModal","show","about","contacto","onPlannerChange","BasicInfo","LocationForm","onChangeCenter","getLocation","geolocation","getCurrentPosition","coords","latitude","longitude","idCiudad","ciudadesOption","LocationInfo","BrandInfoForm","BrandInfo","ciudadState","ciudades","changePlanner","toAgencyPage","saveLocationInfo","saveBrandInfo","loadCiudades","isBasicFormToEdit","setBasicFormToEdit","isLocationFormToEdit","setLocationFormToEdit","isBrandFormToEdit","setBrandFormToEdit","Breadcrumbs","separator","Link","CambiarContrasenaForm","doublePassword","setDoublePassword","contrasena1","contrasena2","usuarioState","cambiarContrasena","usuarioContrasena","isPasswordFormToEdit","setPasswordFormToEdit","feUpdatePassword","proxyConfig","context","createContext","UserProvider","user","setUser","fetch","then","res","json","catch","err","Provider","defaultBottom","primaryBottom","span","hideTabs","GlobalStyle","createGlobalStyle","createMuiTheme","AppLayout","listenScrollEvent","currentTarget","prev","scrollY","ThemeProvider","genderOptions","PersonalInfoForm","onUsuarioChange","genero","feNacimiento","PersonalInfo","usuarioSesion","usuarioChange","saveUsuario","ScrollToTop","useLocation","scrollTo","propTypes","PropTypes","object","array","onClickTrip","func","onNewTrip","TripShortInfoList","onClickDetail","onClickSeeReservation","OrderRow","idOrden","idWoo","nombreEcobox","totalOrden","onChangeOrderState","OrdersTable","orders","order","class","OrderDetailRow","quantity","subtotal","OrderDetailTable","productos","producto","OrderDetailModal","fotoUsuario","contactoUsuario","invoice","titulo","referencia","orderState","comercioState","loadingOrder","lastSyncOrders","loadingComercioList","loadingComercio","comercio","updateOrderState","updateOpenComercio","hideConfirm","orderSelected","setOrderSelected","isDetailOrderOpen","setIsDetailOrderOpen","interval","setInterval","clearInterval","hasToAttend","autoPlay","loop","noti","Switch","checked","PlanShortInfoItem","TripForm","onTripChange","planOptions","planSelected","setPlanSelected","onChageTime","time","horario","seRepite","feHasta","isSameOrAfter","join","TripInfo","disableDelete","onReservas","TitleAction","text1","text2","action1","disableAction1","action2","isOnAction","lastSyncTrips","tripChange","saveTrip","updateTrip","deleteTrip","loadingConfirm","viewMode","setViewMode","dateTrips","tripsFilter","filterTripsByDate","onConfirmDelete","tripSelected","tripFinding","Date","confirmState","closeModal","lastSyncPlanes","onPublish","LoadieWrap","mini","LoadieMini","Loadie","ConsolidadoChart","data","colors","xScale","yScale","min","max","stacked","reverse","axisTop","axisRight","axisBottom","orient","tickSize","tickPadding","tickRotation","legend","legendOffset","legendPosition","axisLeft","pointSize","pointBorderWidth","pointLabel","pointLabelYOffset","useMesh","legends","anchor","justify","translateX","translateY","itemsSpacing","itemDirection","itemWidth","itemHeight","itemOpacity","symbolSize","symbolShape","symbolBorderColor","effects","on","itemBackground","paddingTop","expand","expandOpen","transform","red","ComprasChart","keys","ejeX","ejeY","labelTextColor","indexBy","from","modifiers","labelSkipWidth","labelSkipHeight","animate","motionStiffness","motionDamping","ActivitiesChart","innerRadius","padAngle","cornerRadius","scheme","borderWidth","radialLabelsSkipAngle","radialLabelsTextXOffset","radialLabelsTextColor","radialLabelsLinkOffset","radialLabelsLinkDiagonalLength","radialLabelsLinkHorizontalLength","radialLabelsLinkStrokeWidth","radialLabelsLinkColor","slicesLabelsSkipAngle","slicesLabelsTextColor","defs","stagger","rotation","lineWidth","itemTextColor","GET_BI_ACTIVITIES","gql","GET_BI_COMPRAS_AND_RESERVAS_MONTHLY","getSesion","JSON","parse","localStorage","getItem","getToken","logOut","removeItem","beginCap","endCap","setSelected","hover","setHover","picker","useRef","begin","end","sort","a","b","onMouseEnter","isSameOrBefore","labelFunc","invalid","AnalyticsPage","useMutation","getBiComprasAndReservas","biComprasYreservas","biComprasYreservasLoad","getBiActivities","biActivities","biActivitiesLoad","subtract","fechaIni","setFechaIni","fechaFin","setFechaFin","data1","item","1","2","3","4","5","6","7","8","9","10","11","12","month","y","compras","data2","data3","income","ini","fin","payload2","idAgencia","variables","handleChange","Grid","container","xs","disableSpacing","list","fullList","sideBarState","isLeftSideBarOpen","closeLeftSideBar","isComercio","linksToShow","toggleDrawer","Drawer","onKeyDown","List","ListItem","ListItemAvatar","ListItemText","ListItemIcon","Divider","locale","danger","client","ApolloClient","createHttpLink","uri","cache","InMemoryCache","App","close","publicRoutes","plannerRoutes","PlanCreatePage","AgencyInfoPage","DashboardPage","CalendarPage","PlanesPage","AgencyPage","AccountSettingsPage","PersonalInfoPage","LoginAndSecurityPage","ReservationPage","route","exact","NotFountPage","Snackbar","anchorOrigin","vertical","autoHideDuration","onExited","compose","withRouter","snackbarState","defaultState","loginReducer","initialState","registrado","registroReducer","verified","usuarioOldValue","plannerOldValue","snackbarReducer","salidas","comercios","combineReducers","newPlanesState","replaceArrayPlans","arr","Object","assign","replaceArrayTrips","replaceArrayLugar","salidaState","handleAxiosError","response","loginSaga","logoutSagas","axios","post","call","token","authToken","setItem","stringify","put","notification","registroSaga","verificarSaga","_registro","verificar","getUsuarioByIdSaga","saveProfileInfoSaga","savePersonalInfoSaga","cambiarContrasenaSaga","getUsuarioById","headers","get","saveProfileInfo","savePersonalInfo","getCiudadesSaga","getCiudadByIdSaga","getCiudadById","getCiudades","getPlanesSaga","getPlanesByPlannerSaga","getPlanesByCiudadSaga","getPlanByIdSaga","savePlanBasicInfoSaga","savePlanMainPictureSaga","savePlanIncluidosSaga","savePlanItinerarioSaga","savePlanLugaresSaga","savePlanActividadesSaga","getPlanes","getPlanesByPlanner","getPlanesByCiudad","getPlanById","savePlanMainPicture","FormData","append","_boundary","savePlanIncluidos","savePlanItinerario","savePlanLugares","savePlanActividades","toPlanPage","getLugaresSaga","getLugaresByCiudadSaga","getLugares","getLugaresByCiudad","getPaisesSaga","getPaises","getPlannerByIdSaga","getPlannerByIdUsuarioSaga","saveBasicInfoSaga","saveLocationInfoSaga","saveBrandInfoSaga","getPlannerById","getPlannerByIdUsuario","saveBrandnInfo","updateSessionInfo","getIncluidosSaga","getIncluidos","getDiasSaga","getDias","getActividadesSaga","getActividades","saveReservaSaga","deleteReservaSaga","saveReserva","deleteReserva","delete","getTripsByIdSaga","getTripsByUsuarioSaga","getTripsByPlannerSaga","getTripPlanSaga","saveTripSaga","updateTripSaga","deleteTripSaga","getTripsById","getTripsByUsuario","getTripsByPlanner","getTripPlan","getOrdersSaga","updateStateSaga","getOrders","updateState","getComercioById","updateIsOpen","getById","setIsOpen","watcherSaga","takeLatest","store","sagaMiddleware","createSagaMiddleware","__REDUX_DEVTOOLS_EXTENSION__","createStore","reducers","applyMiddleware","run","ReactDOM","render","getState"],"mappings":"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","file":"static/js/main.6ac80a16.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c2eb4d31.png\";","module.exports = __webpack_public_path__ + \"static/media/nomadem_isotipo1.bc8e230a.png\";","module.exports = __webpack_public_path__ + \"static/media/nomademdotcom.4eda8f96.png\";","module.exports = __webpack_public_path__ + \"static/media/loadie.5f9c942d.gif\";","module.exports = __webpack_public_path__ + \"static/media/noti.51968488.mp3\";","module.exports = __webpack_public_path__ + \"static/media/nomadem_imagotipo.0822d52f.png\";","module.exports = __webpack_public_path__ + \"static/media/place-def.b8d18214.png\";","import imagotipo from '../assets/img/nomadem_imagotipo.png';\r\nimport logotipo from '../assets/img/logo.png';\r\nimport logotipoLight from '../assets/img/logo.png';\r\nimport isotipo from '../assets/img/nomadem_isotipo1.png';\r\nimport dotcom from '../assets/img/nomademdotcom.png';\r\nimport placedef from '../assets/img/place-def.png';\r\nimport loadie from '../assets/img/loadie.gif';\r\n\r\n// export const IMAGOTIPO = '/assets/img/nomadem_imagotipo.png';\r\nexport const IMAGOTIPO =\r\n  'http://18.219.227.87/assets/img/nomadem_imagotipo.png';\r\nexport const LOGOTIPO = logotipo;\r\nexport const LOGOTIPO_LIGHT = logotipoLight;\r\nexport const ISOTIPO = isotipo;\r\nexport const DOTCOM = dotcom;\r\nexport const PLACEDEF = 'http://18.219.227.87/assets/img/place-def.png';\r\nexport const LOADIE = loadie;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Avatar = ({ image, size }) => {\r\n  const style = {\r\n    backgroundImage: `url('${image}')`,\r\n    width: size || '50px',\r\n    height: size || '50px',\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'top center',\r\n    borderRadius: '50%',\r\n    margin: 'auto',\r\n  };\r\n\r\n  return <div style={style} />;\r\n};\r\n\r\nAvatar.propTypes = {\r\n  image: PropTypes.string.isRequired,\r\n  width: PropTypes.string,\r\n};\r\n\r\nexport default Avatar;\r\n","import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nconst UsuarioAvatar = ({ usuario, className, size = '50px' }) => {\r\n  return usuario.foto ? (\r\n    <Avatar\r\n      src={usuario.foto}\r\n      className={className}\r\n      style={{ width: size, height: size }}\r\n    />\r\n  ) : (\r\n    <Avatar\r\n      className={className}\r\n      style={{ width: size, height: size }}\r\n    >{`${usuario.nombre[0].toUpperCase() +\r\n      ' ' +\r\n      usuario.apellido[0].toUpperCase()}`}</Avatar>\r\n  );\r\n};\r\n\r\nexport default UsuarioAvatar;\r\n","import React from 'react';\r\n\r\nimport MButton from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst Button = ({\r\n  text,\r\n  type,\r\n  className,\r\n  loading,\r\n  disabled,\r\n  children,\r\n  variant,\r\n  size,\r\n  color,\r\n  onClick,\r\n  style, //alternative colors fb/google/etc\r\n  startIcon,\r\n}) => {\r\n  return (\r\n    <MButton\r\n      startIcon={!loading && startIcon}\r\n      type={type || 'button'}\r\n      variant={variant}\r\n      className={className}\r\n      color={color}\r\n      size={size}\r\n      disabled={disabled || loading}\r\n      onClick={onClick || null}\r\n      style={style}\r\n    >\r\n      {loading ? (\r\n        <CircularProgress size={24} />\r\n      ) : (\r\n        <div>\r\n          {children}\r\n          {text && <span className=\"mx-1\">{text}</span>}\r\n        </div>\r\n      )}\r\n    </MButton>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\n\r\n// import { logoutAndRedirect } from \"../../../actions/\";\r\n\r\nimport { LOGOTIPO_LIGHT, DOTCOM } from '../../constants/index.js';\r\nimport HeaderList from './HeaderList';\r\nimport UserDropDown from './UserDropDown.js';\r\nimport AgencyDropDown from './AgencyDropDown';\r\nimport { IconButton } from '@material-ui/core';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport Button from '../common/inputs/Button.js';\r\n\r\nconst Header = ({ usuario, logged, openLeftSideBar, history }) => {\r\n  const [connected, setConnectedValue] = useState(navigator.onLine);\r\n\r\n  useEffect(() => {\r\n    const setInternetStatus = () => {\r\n      setConnectedValue(navigator.onLine);\r\n    };\r\n\r\n    window.addEventListener('online', setInternetStatus);\r\n    window.addEventListener('offline', setInternetStatus);\r\n\r\n    return () => {\r\n      window.removeEventListener('online', setInternetStatus);\r\n      window.removeEventListener('offline', setInternetStatus);\r\n    };\r\n  }, [setConnectedValue]);\r\n\r\n  let agencia;\r\n\r\n  if (usuario) {\r\n    agencia = usuario.agencia;\r\n  }\r\n\r\n  const guestLinks = [\r\n    { path: '/', text: 'Explore' },\r\n    { path: '/login', text: 'Login / Sign up' },\r\n  ];\r\n\r\n  const travelerLinks = [\r\n    { path: '/', text: 'Explore' },\r\n    { path: '/trips', text: 'Trips' },\r\n  ];\r\n\r\n  let agencyLinks = [];\r\n\r\n  if (agencia) {\r\n    agencyLinks = [\r\n      { path: '/dashboard', text: 'Dashboard' },\r\n      { path: '/calendar', text: 'Calendario' },\r\n      { path: '/plans', text: 'Planes' },\r\n      {\r\n        path: '/plan/create',\r\n        text: 'Crea un nuevo plan',\r\n      },\r\n      { path: '/analytics', text: 'Analytics' },\r\n      {\r\n        path: '/agency/' + agencia.idPlanner || '',\r\n        text: 'Perfil de agencia',\r\n      },\r\n    ];\r\n  }\r\n  return (\r\n    <div>\r\n      {/* Navbar web */}\r\n      <nav\r\n        id=\"navbar-main\"\r\n        className=\"ps-navbar-web navbar fixed-top navbar-expand-lg navbar-dark bg-dark\"\r\n      >\r\n        <div className=\"container-fluid py-2\">\r\n          {logged && (\r\n            <IconButton\r\n              aria-label=\"Back\"\r\n              color=\"primary\"\r\n              onClick={() => history.goBack()}\r\n            >\r\n              <ArrowBackIosIcon />\r\n            </IconButton>\r\n          )}\r\n          <IconButton\r\n            aria-label=\"Open Menú\"\r\n            color=\"primary\"\r\n            onClick={openLeftSideBar}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Link to=\"/dashboard\" className=\"navbar-brand mr-auto\">\r\n            <img src={LOGOTIPO_LIGHT} />\r\n          </Link>\r\n          <p>\r\n            {connected ? 'Conectado a internet' : 'No hay conexión a internet'}\r\n          </p>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Navs Mobiles */}\r\n      {/* <nav className=\"navbar ps-navbar-mob\">\r\n\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"btn btn-outline-primary btn-icon-only rounded-circle mt-2\"\r\n                        onClick={this.goBack.bind(this)}\r\n                    >\r\n                        <i className=\"fas fa-arrow-left\" />\r\n                    </button>\r\n\r\n                    <img className=\"ps-img-nav\" src={LOGOTIPO} />\r\n\r\n\r\n                    {\r\n                        carritoPlan.length ? (\r\n                            <CarritoMenuContainerMob/>\r\n\r\n                        ) : \r\n                        (\r\n                            <div type=\"button\"\r\n                            className=\"mt-2\">        \r\n                        </div>\r\n\r\n                        )\r\n                    }\r\n                </nav> */}\r\n\r\n      <div className=\"ps-menu-movil\">\r\n        {/* <MobileNavList\r\n            menus={this.props.menus}\r\n            menuAction={this.menuAction}\r\n            user={user}\r\n          /> */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ loginState }) => {\r\n  const { usuario, logged, menu } = loginState;\r\n\r\n  return {\r\n    usuario,\r\n    logged,\r\n    menu,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    logout: () => dispatch({ type: 'LOGOUT' }),\r\n    openLeftSideBar: () => dispatch({ type: 'OPEN_LEFT_SIDEBAR' }),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\r\n","import React from 'react';\r\n\r\nconst NotFoundPage = () => {\r\n  return <div className=\"container page\">Not found</div>;\r\n};\r\n\r\nexport default NotFoundPage;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Button from '../inputs/Button';\r\n\r\nconst sectionsStyle = {\r\n  marginBottom: '3em',\r\n  marginTop: '3em',\r\n};\r\n\r\nconst Section = ({\r\n  children,\r\n  className,\r\n  style,\r\n  title,\r\n  description,\r\n  button: Button,\r\n}) => {\r\n  return (\r\n    <section className={className} style={style || sectionsStyle}>\r\n      <div className=\"d-flex\">\r\n        {title && <h2>{title}</h2>}\r\n        {Button}\r\n      </div>\r\n\r\n      {description && <p>{description}</p>}\r\n\r\n      <div style={sectionsStyle}>{children}</div>\r\n    </section>\r\n  );\r\n};\r\n\r\nSection.propTypes = {\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.arrayOf(PropTypes.node),\r\n    PropTypes.node,\r\n  ]),\r\n};\r\n\r\nexport default Section;\r\n","import React from 'react';\r\n\r\nconst DummyCards = ({\r\n  size = 3,\r\n  cols,\r\n  disablePhoto,\r\n  disableTitle,\r\n  disableDescription,\r\n}) => {\r\n  if (!cols) {\r\n    cols = 'col-sm-12 col-md-6 col-lg-4 col-xl-4';\r\n  }\r\n\r\n  let dummyCards = new Array(size).fill(1);\r\n\r\n  return (\r\n    <div className=\"text-center w-100 ps-dummyCardWrapper\">\r\n      <div className=\"lds-facebook\" />\r\n      {dummyCards.map((card, index) => (\r\n        <div key={index}>\r\n          <div className={'ps-dummyCard my-1 ' + cols}>\r\n            {!disablePhoto && <div className=\"photo\" />}\r\n            {!disableTitle && <div className=\"title\" />}\r\n            {!disableDescription && <div className=\"description\" />}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DummyCards;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport Button from '../common/inputs/Button';\r\n\r\nconst ReservationRow = ({\r\n  idCompra,\r\n  pasajero,\r\n  cupos,\r\n  estado,\r\n  estadoFormat,\r\n  feCreacion,\r\n  total,\r\n  ganancia,\r\n  onDetail,\r\n}) => {\r\n  return (\r\n    <tr>\r\n      <th>{estadoFormat}</th>\r\n      <td>\r\n        {pasajero}\r\n        <br />\r\n        {cupos} pasajero(s)\r\n      </td>\r\n      <td>\r\n        {moment(feCreacion)\r\n          .utc()\r\n          .format('ddd DD, MMM YYYY')}\r\n      </td>\r\n      <td>${total}</td>\r\n      <td>${ganancia}</td>\r\n      <td className=\"text-center\">\r\n        <Button\r\n          type=\"button\"\r\n          onClick={() => onDetail(idCompra)}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n        >\r\n          Detalle\r\n        </Button>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nReservationRow.propTypes = {\r\n  idCompra: PropTypes.number,\r\n  pasajero: PropTypes.string,\r\n  cupos: PropTypes.number,\r\n  estado: PropTypes.string,\r\n  feCreacion: PropTypes.string,\r\n  total: PropTypes.number,\r\n  ganancia: PropTypes.number,\r\n};\r\n\r\nexport default ReservationRow;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport DummyCards from '../common/cards/DummyCards';\r\nimport ReservationRow from './ReservationRow';\r\n\r\nconst ReservationTable = ({ reservations, onDetail, loading }) => {\r\n  if (!reservations) {\r\n    reservations = [];\r\n  }\r\n\r\n  let ToShow;\r\n\r\n  if (loading) {\r\n    // ON LOADING\r\n    ToShow = (\r\n      <tr>\r\n        <td colSpan=\"6\" className=\"text-center px-0\">\r\n          <DummyCards cols=\"col-sm-12 px-0\" size={1} disablePhoto />\r\n        </td>\r\n      </tr>\r\n    );\r\n  } else if (reservations.length === 0) {\r\n    // NO EXISTEN RESERVACIONES\r\n    ToShow = (\r\n      <tr>\r\n        <td colSpan=\"6\" className=\"text-center\">\r\n          <h5>\r\n            <i className=\"far fa-sticky-note\" />\r\n          </h5>\r\n          <p>No existen reservas para mostrar.</p>\r\n        </td>\r\n      </tr>\r\n    );\r\n  } else {\r\n    ToShow = reservations.map((reservation, index) => {\r\n      return (\r\n        <ReservationRow\r\n          key={reservation.idCompra}\r\n          {...reservation}\r\n          onDetail={onDetail}\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <table className=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">Estado</th>\r\n          <th scope=\"col\">Pasajero</th>\r\n          <th scope=\"col\">Reservado</th>\r\n          <th scope=\"col\">Total</th>\r\n          <th scope=\"col\">Ganancias</th>\r\n          <th scope=\"col\"></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>{ToShow}</tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nReservationTable.propTypes = {\r\n  reservations: PropTypes.array,\r\n  onDetail: PropTypes.func,\r\n  loading: PropTypes.bool,\r\n};\r\n\r\nexport default ReservationTable;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\n\r\nconst TravelerRow = ({\r\n  idReserva,\r\n  nombre,\r\n  apellido,\r\n  pais,\r\n  identificacion,\r\n  estado,\r\n  feCreacion,\r\n  onDetail,\r\n}) => {\r\n  return (\r\n    <tr>\r\n      <td>{`${nombre} ${apellido}`}</td>\r\n      <td>{identificacion}</td>\r\n      <td>{pais}</td>\r\n      <td>\r\n        {moment(feCreacion)\r\n          .utc()\r\n          .format('ddd DD, MMM YYYY')}\r\n      </td>\r\n      {/* <td className=\"text-center\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={onDetail}\r\n          className=\"btn btn-secondary ml-auto\"\r\n        >\r\n          Detalle\r\n        </button>\r\n      </td> */}\r\n    </tr>\r\n  );\r\n};\r\n\r\nTravelerRow.propTypes = {\r\n  idReserva: PropTypes.number,\r\n  nombre: PropTypes.string,\r\n  apellido: PropTypes.string,\r\n  estado: PropTypes.string,\r\n  feCreacion: PropTypes.string,\r\n};\r\n\r\nexport default TravelerRow;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport DummyCards from '../common/cards/DummyCards';\r\nimport TravelerRow from './TravelerRow';\r\n\r\nconst TravelerTable = ({ travelers, onDetail, loading }) => {\r\n  if (!travelers) {\r\n    travelers = [];\r\n  }\r\n\r\n  let ToShow;\r\n\r\n  if (loading) {\r\n    // ON LOADING\r\n    ToShow = (\r\n      <tr>\r\n        <td colSpan=\"6\" className=\"text-center px-0\">\r\n          <DummyCards cols=\"col-sm-12 px-0\" size={1} disablePhoto />\r\n        </td>\r\n      </tr>\r\n    );\r\n  } else if (travelers.length === 0) {\r\n    // NO EXISTEN RESERVACIONES\r\n    ToShow = (\r\n      <tr>\r\n        <td colSpan=\"3\" className=\"text-center\">\r\n          <h5>\r\n            <i className=\"far fa-sticky-note\" />\r\n          </h5>\r\n          <p>No existen pasajeros para mostrar.</p>\r\n        </td>\r\n      </tr>\r\n    );\r\n  } else {\r\n    ToShow = travelers.map((traveler, index) => {\r\n      return (\r\n        <TravelerRow\r\n          key={traveler.idReservation}\r\n          {...traveler}\r\n          onDetail={onDetail}\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <table className=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">Pasajero</th>\r\n          <th scope=\"col\">Identificación</th>\r\n          <th scope=\"col\">País</th>\r\n          <th scope=\"col\">Reservado</th>\r\n          {/* <th scope=\"col\">Total</th>\r\n          <th scope=\"col\">Ganancias</th>\r\n          <th scope=\"col\"></th> */}\r\n        </tr>\r\n      </thead>\r\n      <tbody>{ToShow}</tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nTravelerTable.propTypes = {\r\n  travelers: PropTypes.array,\r\n  onDetail: PropTypes.func,\r\n  loading: PropTypes.bool,\r\n};\r\n\r\nexport default TravelerTable;\r\n","const palette = {\r\n  primary: {\r\n    main: '#03dda2',\r\n    contrastText: '#ffffff',\r\n  },\r\n  secondary: {\r\n    main: '#ff4762',\r\n    contrastText: '#ffffff',\r\n  },\r\n  error: {\r\n    light: '#e57373',\r\n    main: '#f44336',\r\n    dark: '#d32f2f',\r\n    contrastText: '#fff',\r\n  },\r\n  gray: {\r\n    gray100: '#FAFAFA',\r\n    gray200: '#F5F5F5',\r\n    gray300: '#ECECEC',\r\n  },\r\n  dark: {\r\n    dark: '#353535',\r\n    gray: '#919094',\r\n    metalblue: '#3E4A63',\r\n  },\r\n\r\n  white: {\r\n    white0: '#ffffff',\r\n    white100: '#FAFAFA',\r\n    white200: '#F5F5F5',\r\n    white300: '#ECECEC',\r\n  },\r\n};\r\n\r\nexport const status = {\r\n  danger: '#FA3E3E',\r\n  warning: '#F0AD4E',\r\n  success: '#5cb85c',\r\n};\r\n\r\nexport const CSS_HELPERS_REACT = {\r\n  CENTER: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  CENTER_VERTICAL: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  TRUNCATE: {\r\n    overflow: 'hidden',\r\n    textOverflow: 'ellipsis',\r\n    whiteSpace: 'nowrap',\r\n  },\r\n  BOX_SHADOW: {\r\n    boxShadow: 'rgba(0, 0, 0, 0.16) 0px 1px 4px !important',\r\n  },\r\n};\r\n\r\nexport const CSS_HELPERS = {\r\n  CENTER: `\r\n        display:flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        flex-direction:row;\r\n    `,\r\n  CENTER_HORIZONTAL: `\r\n        display:flex;\r\n        justify-content: center;\r\n    `,\r\n  ROUNDED: `border-radius:12pt`,\r\n  BOX_SHADOW: `\r\n    -webkit-box-shadow: 0px 8px 6px -6px rgba(0,0,0,0.123);\r\n    -moz-box-shadow: 0px 8px 6px -6px rgba(0,0,0,0.123);\r\n    box-shadow: 0px 8px 6px -6px rgba(0,0,0,0.123);\r\n  `,\r\n};\r\n\r\nexport const CSS_FONTS = {\r\n  SIZES: {\r\n    MENU: '.9em',\r\n    H1: '2.5rem',\r\n    H2: '2rem',\r\n    H3: '1.75rem',\r\n    H4: '1.5rem',\r\n    H5: '1.25rem',\r\n    H6: '1rem',\r\n    MD: '1.5rem',\r\n    SM: '1rem',\r\n  },\r\n  FONTS_URL: {\r\n    BODY: 'https://fonts.googleapis.com/css?family=Poppins&display=swap',\r\n    MENU: 'https://fonts.googleapis.com/css?family=Raleway&display=swap',\r\n  },\r\n  FONTS: {\r\n    BODY: \"'Poppins', sans-serif\",\r\n    MENU: \"'Raleway', sans-serif;\",\r\n  },\r\n};\r\n\r\nconst MEDIA_SCREENS = {\r\n  SMALL: {\r\n    FROM: '0',\r\n    TO: '768',\r\n  },\r\n  MEDIUM: {\r\n    FROM: '768',\r\n    TO: '4000',\r\n  },\r\n};\r\n\r\nexport { palette, MEDIA_SCREENS };\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { MEDIA_SCREENS } from '../../../theme';\r\n\r\nconst Container = props => {\r\n  return (\r\n    <Component>\r\n      {\r\n        <JumboTron>\r\n          {props.title && <h1>{props.title}</h1>}\r\n          {props.description && <p>{props.description}</p>}\r\n        </JumboTron>\r\n      }\r\n      <Childs>{props.children}</Childs>\r\n    </Component>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n\r\nconst JumboTron = styled.div`\r\n  margin-top: 2em;\r\n  margin-bottom: 2em;\r\n`;\r\n\r\nconst Component = styled.div`\r\n  padding-bottom: 10em;\r\n  padding-left: 6em;\r\n  padding-right: 6em;\r\n\r\n  flex-direction: row;\r\n  @media only screen and (min-width: ${MEDIA_SCREENS.SMALL\r\n      .FROM}px) and (max-width: ${MEDIA_SCREENS.SMALL.TO}px) {\r\n    padding-left: 1.5em;\r\n    padding-right: 1.5em;\r\n  }\r\n`;\r\n\r\nconst Childs = styled.div`\r\n  > * {\r\n    margin-top: 3em;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport {\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  FormHelperText,\r\n} from '@material-ui/core';\r\n\r\nimport MSelect from '@material-ui/core/Select';\r\n\r\nconst Select = ({\r\n  label,\r\n  name,\r\n  value,\r\n  variant,\r\n  options = [],\r\n  className,\r\n  error,\r\n  onChange,\r\n  disabled,\r\n}) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      {label && <InputLabel htmlFor=\"age-simple\">{label}</InputLabel>}\r\n      <MSelect\r\n        disabled={disabled}\r\n        fullWidth\r\n        variant={variant}\r\n        value={value != undefined ? value : ''}\r\n        className={className}\r\n        onChange={onChange}\r\n        inputProps={{\r\n          name,\r\n          id: name,\r\n        }}\r\n      >\r\n        {options.map(option => (\r\n          <MenuItem key={option.value} value={option.value}>\r\n            {option.text}\r\n          </MenuItem>\r\n        ))}\r\n      </MSelect>\r\n      {error && <FormHelperText error>{error}</FormHelperText>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Select;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { TextField, InputAdornment } from '@material-ui/core';\r\nimport NumberFormat from 'react-number-format';\r\n\r\nfunction DecimalFormat(props) {\r\n  const { inputRef, onChange, ...other } = props;\r\n\r\n  return (\r\n    <NumberFormat\r\n      {...other}\r\n      getInputRef={inputRef}\r\n      onValueChange={values => {\r\n        onChange({\r\n          target: {\r\n            value: values.value,\r\n          },\r\n        });\r\n      }}\r\n      allowNegative={false}\r\n      decimalScale={2}\r\n    />\r\n  );\r\n}\r\n\r\nDecimalFormat.propTypes = {\r\n  inputRef: PropTypes.func.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n};\r\n\r\nfunction IntegerFormat(props) {\r\n  const { inputRef, onChange, ...other } = props;\r\n\r\n  return (\r\n    <NumberFormat\r\n      {...other}\r\n      getInputRef={inputRef}\r\n      onValueChange={values => {\r\n        onChange({\r\n          target: {\r\n            value: values.value,\r\n          },\r\n        });\r\n      }}\r\n      allowNegative={false}\r\n      decimalScale={0}\r\n    />\r\n  );\r\n}\r\n\r\nIntegerFormat.propTypes = {\r\n  inputRef: PropTypes.func.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n};\r\n\r\nconst Input = ({\r\n  label,\r\n  name,\r\n  type,\r\n  value,\r\n  className,\r\n  disabled,\r\n  textColor,\r\n  multiline,\r\n  placeholder,\r\n  rows,\r\n  error,\r\n  variant,\r\n  onChange,\r\n  endAdornment,\r\n}) => {\r\n  let InputProps;\r\n  if (type === 'decimal') {\r\n    InputProps = {\r\n      name,\r\n      inputComponent: DecimalFormat,\r\n      startAdornment: <InputAdornment position=\"start\">$</InputAdornment>,\r\n    };\r\n  }\r\n\r\n  if (type === 'integer') {\r\n    InputProps = { name, inputComponent: IntegerFormat };\r\n  }\r\n\r\n  if (endAdornment) {\r\n    InputProps = InputProps\r\n      ? { ...InputProps, endAdornment }\r\n      : { endAdornment };\r\n  }\r\n\r\n  return (\r\n    <div className=\"form-group\">\r\n      <TextField\r\n        id={name}\r\n        name={name}\r\n        placeholder={placeholder}\r\n        label={label}\r\n        fullWidth\r\n        type={type || 'text'}\r\n        value={value || ''}\r\n        disabled={disabled}\r\n        error={error}\r\n        helperText={error}\r\n        multiline={multiline}\r\n        rows={rows}\r\n        //   autoComplete=\"email\"\r\n        // margin=\"normal\"\r\n        InputProps={InputProps}\r\n        onChange={onChange}\r\n        variant={variant}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","export const email = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\nexport const phone = /^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]*$/;\r\n","import React from 'react';\r\nimport { InputLabel, TextField, FormHelperText } from '@material-ui/core';\r\n\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\n\r\nconst SelectFilter = ({\r\n  label,\r\n  name,\r\n  value,\r\n  variant,\r\n  options = [],\r\n  className,\r\n  error,\r\n  onChange,\r\n  autoSelect,\r\n  autoComplete,\r\n  disableClearable,\r\n  disabled,\r\n}) => {\r\n  let valueText = options.find(x => x.value == value);\r\n  valueText = valueText ? valueText.text : '';\r\n\r\n  return (\r\n    <div className=\"form-group\">\r\n      {/* {label && <InputLabel htmlFor={name}>{label}</InputLabel>} */}\r\n      <Autocomplete\r\n        disabled={disabled}\r\n        id={name}\r\n        options={options}\r\n        getOptionLabel={option => {\r\n          if (isNaN(option)) {\r\n            return option.text;\r\n          } else {\r\n            return valueText;\r\n          }\r\n        }}\r\n        getOptionSelected={option => option.value == value}\r\n        autoSelect={autoSelect}\r\n        autoComplete={autoComplete}\r\n        disableClearable={disableClearable}\r\n        value={value}\r\n        // inputValue={valueText}\r\n        onChange={onChange}\r\n        // style={{ width: 300 }}\r\n\r\n        renderInput={params => (\r\n          <TextField\r\n            {...params}\r\n            label={label}\r\n            variant={variant}\r\n            fullWidth\r\n            error={error}\r\n          />\r\n        )}\r\n      />\r\n      {/* <MSelect\r\n        disabled={disabled}\r\n        fullWidth\r\n        variant={variant}\r\n        value={value || ''}\r\n        className={className}\r\n        onChange={onChange}\r\n        inputProps={{\r\n          name,\r\n          id: name,\r\n        }}\r\n      >\r\n        {options.map(option => (\r\n          <MenuItem key={option.value} value={option.value}>\r\n            {option.text}\r\n          </MenuItem>\r\n        ))}\r\n      </MSelect> */}\r\n      {error && <FormHelperText error>{error}</FormHelperText>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectFilter;\r\n","import React, { useState } from 'react';\r\nimport Select from '../common/inputs/Select';\r\nimport UsuarioAvatar from '../usuario/UsuarioAvatar';\r\nimport Input from '../common/inputs/Input';\r\nimport { email } from '../../helpers/validations';\r\nimport Button from '../common/inputs/Button';\r\nimport Section from '../common/wrappers/Section';\r\nimport Container from '../common/wrappers/Container';\r\nimport { DialogActions } from '@material-ui/core';\r\nimport { uiCopys } from '../../theme/uiStrings';\r\n\r\nimport SelectFilter from '../common/inputs/SelectFilter';\r\n\r\nconst PassengerPaymentForm = ({\r\n  title,\r\n  description,\r\n  loading,\r\n  reserva = {},\r\n  onReservaChange,\r\n  numberOptions = [],\r\n  usuario,\r\n  onSubmit,\r\n  isAgency,\r\n  onDelete,\r\n  paisesOption,\r\n}) => {\r\n  let [errors, setErrors] = useState({});\r\n  let [showNotas, setShowNotas] = useState(false);\r\n\r\n  const submit = e => {\r\n    e.preventDefault();\r\n    setErrors({});\r\n    let errors = {};\r\n    let valid = true;\r\n    // if (!reserva.tarjeta) {\r\n    //   errors = { ...errors, tarjeta: 'Payment method is required' };\r\n    //   valid = false;\r\n    // }\r\n\r\n    errors.pasajeros = reserva.pasajeros.map((pasajero, index) => {\r\n      let nombre;\r\n      let apellido;\r\n      let correo;\r\n      let idPais;\r\n\r\n      if (!pasajero.nombre || pasajero.nombre.length == 0) {\r\n        nombre = 'El nombre es requerido';\r\n        valid = false;\r\n      }\r\n\r\n      if (!pasajero.apellido || pasajero.apellido.length == 0) {\r\n        apellido = 'El apellido es requerido';\r\n        valid = false;\r\n      }\r\n\r\n      // if (index == 0 && !pasajero.idPais) {\r\n      //   idPais = 'El país es requerido';\r\n      //   valid = false;\r\n      // }\r\n\r\n      // VALIDACION DE CORREO DE PASAJERO MAIN\r\n      // if (index == 0 && !new RegExp(email).test(pasajero.correo)) {\r\n      //   correo = 'Ingresa un correo válido';\r\n      //   valid = false;\r\n      // } else\r\n\r\n      if (\r\n        pasajero.correo &&\r\n        pasajero.correo.length > 0 &&\r\n        !new RegExp(email).test(pasajero.correo)\r\n      ) {\r\n        correo = 'Ingresa un correo válido';\r\n        valid = false;\r\n      }\r\n\r\n      return { nombre, apellido, correo, idPais };\r\n    });\r\n    if (!valid) {\r\n      setErrors({ ...errors });\r\n      return;\r\n    }\r\n\r\n    if (!showNotas) reserva.notas = undefined;\r\n\r\n    onSubmit(reserva);\r\n  };\r\n\r\n  let pasajerosAux = !isAgency ? 0 : 0;\r\n  let indexAux = !isAgency ? 1 : 1;\r\n\r\n  const onChange = e => {\r\n    const auxPasajeros = reserva.pasajeros;\r\n\r\n    reserva[e.target.name] = e.target.value;\r\n    if (e.target.name == 'cupos') {\r\n      reserva.total = undefined;\r\n\r\n      if (+e.target.value > 0) {\r\n        let noPasajeros = +e.target.value + pasajerosAux;\r\n        reserva.pasajeros = [];\r\n        for (let i = 0; i < noPasajeros; i++) {\r\n          const auxPasajero = auxPasajeros[i];\r\n          reserva.pasajeros.push(auxPasajero ? auxPasajero : {});\r\n        }\r\n      } else {\r\n        reserva.pasajeros = [];\r\n      }\r\n    }\r\n    onReservaChange(reserva);\r\n  };\r\n\r\n  const onChangePasajeros = (e, index) => {\r\n    reserva.pasajeros[index][e.target.name] = e.target.value;\r\n    onReservaChange(reserva);\r\n  };\r\n\r\n  return (\r\n    <Section title={title} description={description}>\r\n      <h3>¿Quién viene?</h3>\r\n      <form onSubmit={submit} noValidate>\r\n        <Section>\r\n          <Select\r\n            disabled={reserva.idCompra}\r\n            label=\"Número de pasajeros\"\r\n            name=\"cupos\"\r\n            variant=\"outlined\"\r\n            value={reserva.cupos}\r\n            options={numberOptions}\r\n            onChange={onChange}\r\n            error={errors.cupos}\r\n          />\r\n\r\n          <div className=\"form-group\">\r\n            <h5>Detalle de pasajeros</h5>\r\n            {/* <p>\r\n              The info entered will be used to add people to this reservation.\r\n            </p> */}\r\n            <p>\r\n              La información ingresada será utilizada para ingresar pasajeros a\r\n              esta reserva.\r\n            </p>\r\n          </div>\r\n          <hr className=\"w-100 my-1 mb-2\" />\r\n\r\n          {usuario && (\r\n            <>\r\n              {/* <hr className=\"w-100 my-1 mb-2\" /> */}\r\n\r\n              <div className=\"col-12 px-0\">\r\n                <div className=\"d-flex\">\r\n                  <p className=\"font-weight-bold my-auto\">{`${usuario.nombre} ${usuario.apellido}`}</p>\r\n                  <div className=\"ml-auto\">\r\n                    <UsuarioAvatar usuario={usuario} />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <hr className=\"w-100 my-1 mb-3\" />\r\n            </>\r\n          )}\r\n\r\n          {reserva.pasajeros &&\r\n            reserva.pasajeros.map((pasajero, index) => (\r\n              <div className=\"w-100 mb-3\">\r\n                <div className=\"form-group\">\r\n                  {index != 0 ? (\r\n                    <h5>Pasajero {index + indexAux}</h5>\r\n                  ) : (\r\n                    isAgency && <h5>Pasajero principal</h5>\r\n                  )}\r\n                  {index == 0 && (\r\n                    <p>\r\n                      Mantén a tus pasajeros informados. Ingresa su información\r\n                      y les enviaremos un correo con el itinerario.\r\n                    </p>\r\n                    // <p>\r\n                    //   Keep your passengers in the loop. Add their email and\r\n                    //   we'll send them the itinerary.\r\n                    // </p>\r\n                  )}\r\n                </div>\r\n                {index != 0 ? (\r\n                  <div className=\"form-row\">\r\n                    <div className=\"col-6\">\r\n                      <Input\r\n                        disabled={reserva.idCompra}\r\n                        label=\"Nombre\"\r\n                        name={`nombre`}\r\n                        value={pasajero.nombre}\r\n                        onChange={e => onChangePasajeros(e, index)}\r\n                        variant=\"outlined\"\r\n                        error={\r\n                          errors.pasajeros && errors.pasajeros[index]\r\n                            ? errors.pasajeros[index].nombre\r\n                            : null\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                      <Input\r\n                        disabled={reserva.idCompra}\r\n                        label=\"Apellido\"\r\n                        name={`apellido`}\r\n                        value={pasajero.apellido}\r\n                        onChange={e => onChangePasajeros(e, index)}\r\n                        variant=\"outlined\"\r\n                        error={\r\n                          errors.pasajeros && errors.pasajeros[index]\r\n                            ? errors.pasajeros[index].apellido\r\n                            : null\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                      <Input\r\n                        disabled={reserva.idCompra}\r\n                        label=\"Indentificación (Opcional)\"\r\n                        name={`identificacion`}\r\n                        value={pasajero.identificacion}\r\n                        onChange={e => onChangePasajeros(e, index)}\r\n                        variant=\"outlined\"\r\n                        error={\r\n                          errors.pasajeros && errors.pasajeros[index]\r\n                            ? errors.pasajeros[index].identificacion\r\n                            : null\r\n                        }\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"col-4\">\r\n                      <SelectFilter\r\n                        disabled={reserva.idCompra}\r\n                        className=\"mt-2\"\r\n                        label=\"País (Opcional)\"\r\n                        name=\"idPais\"\r\n                        variant=\"outlined\"\r\n                        value={pasajero.idPais}\r\n                        options={paisesOption}\r\n                        onChange={(e, value) =>\r\n                          onChangePasajeros(\r\n                            {\r\n                              target: { name: 'idPais', value: value.value },\r\n                            },\r\n                            index\r\n                          )\r\n                        }\r\n                        error={\r\n                          errors.pasajeros && errors.pasajeros[index]\r\n                            ? errors.pasajeros[index].idPais\r\n                            : null\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                      <Input\r\n                        disabled={reserva.idCompra}\r\n                        label=\"Correo electrónico (Opcional)\"\r\n                        name={`correo`}\r\n                        value={pasajero.correo}\r\n                        onChange={e => onChangePasajeros(e, index)}\r\n                        variant=\"outlined\"\r\n                        error={\r\n                          errors.pasajeros && errors.pasajeros[index]\r\n                            ? errors.pasajeros[index].correo\r\n                            : null\r\n                        }\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  isAgency && (\r\n                    <div className=\"form-row\">\r\n                      <div className=\"col-6\">\r\n                        <Input\r\n                          disabled={reserva.idCompra}\r\n                          label=\"Nombre\"\r\n                          name={`nombre`}\r\n                          value={pasajero.nombre}\r\n                          onChange={e => onChangePasajeros(e, index)}\r\n                          variant=\"outlined\"\r\n                          error={\r\n                            errors.pasajeros && errors.pasajeros[index]\r\n                              ? errors.pasajeros[index].nombre\r\n                              : null\r\n                          }\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-6\">\r\n                        <Input\r\n                          disabled={reserva.idCompra}\r\n                          label=\"Apellido\"\r\n                          name={`apellido`}\r\n                          value={pasajero.apellido}\r\n                          onChange={e => onChangePasajeros(e, index)}\r\n                          variant=\"outlined\"\r\n                          error={\r\n                            errors.pasajeros && errors.pasajeros[index]\r\n                              ? errors.pasajeros[index].apellido\r\n                              : null\r\n                          }\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-4\">\r\n                        <Input\r\n                          disabled={reserva.idCompra}\r\n                          label=\"Indentificación (Opcional)\"\r\n                          name={`identificacion`}\r\n                          value={pasajero.identificacion}\r\n                          onChange={e => onChangePasajeros(e, index)}\r\n                          variant=\"outlined\"\r\n                          error={\r\n                            errors.pasajeros && errors.pasajeros[index]\r\n                              ? errors.pasajeros[index].identificacion\r\n                              : null\r\n                          }\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-4\">\r\n                        <SelectFilter\r\n                          disabled={reserva.idCompra}\r\n                          className=\"mt-2\"\r\n                          label=\"País (Opcional)\"\r\n                          name=\"idPais\"\r\n                          variant=\"outlined\"\r\n                          value={pasajero.idPais}\r\n                          options={paisesOption}\r\n                          onChange={(e, value) =>\r\n                            onChangePasajeros(\r\n                              {\r\n                                target: { name: 'idPais', value: value.value },\r\n                              },\r\n                              index\r\n                            )\r\n                          }\r\n                          error={\r\n                            errors.pasajeros && errors.pasajeros[index]\r\n                              ? errors.pasajeros[index].idPais\r\n                              : null\r\n                          }\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-4\">\r\n                        <Input\r\n                          disabled={reserva.idCompra}\r\n                          label=\"Correo electrónico (Opcional)\"\r\n                          name={`correo`}\r\n                          value={pasajero.correo}\r\n                          onChange={e => onChangePasajeros(e, index)}\r\n                          variant=\"outlined\"\r\n                          error={\r\n                            errors.pasajeros && errors.pasajeros[index]\r\n                              ? errors.pasajeros[index].correo\r\n                              : null\r\n                          }\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                )}\r\n              </div>\r\n            ))}\r\n\r\n          <div className=\"form-group\">\r\n            <div className=\"form-row\">\r\n              {!reserva.idCompra && (\r\n                <div className=\"col-12 mb-2\">\r\n                  <a\r\n                    href=\"javascript:;\"\r\n                    onClick={() => setShowNotas(!showNotas)}\r\n                  >\r\n                    {!showNotas ? 'Agregar notas' : 'Cancelar'}\r\n                  </a>\r\n                </div>\r\n              )}\r\n              {(showNotas || reserva.idCompra) && (\r\n                <div className=\"col-12\">\r\n                  <Input\r\n                    disabled={reserva.idCompra}\r\n                    label=\"Notas\"\r\n                    name=\"notas\"\r\n                    variant=\"outlined\"\r\n                    multiline={true}\r\n                    rows={3}\r\n                    placeholder=\"Ingresa notas adicionales para tu reserva\"\r\n                    value={reserva.notas}\r\n                    onChange={onChange}\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Section>\r\n        <DialogActions>\r\n          {!reserva.idCompra ? (\r\n            <Button\r\n              type=\"submit\"\r\n              loading={loading}\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              right\r\n            >\r\n              Confirmar reserva\r\n            </Button>\r\n          ) : (\r\n            <Button\r\n              loading={loading}\r\n              color=\"secondary\"\r\n              variant=\"contained\"\r\n              onClick={onDelete}\r\n              right\r\n            >\r\n              Eliminar reserva\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </form>\r\n    </Section>\r\n  );\r\n};\r\n\r\nexport default PassengerPaymentForm;\r\n","import React from 'react';\r\nimport { flexbox } from '@material-ui/system';\r\nimport styled from 'styled-components';\r\nimport { MEDIA_SCREENS, palette } from '../../../theme';\r\n\r\nexport default function AsideGrid(props) {\r\n  const maxWidthLeft =\r\n    (props.web.left * 100) / (props.web.left + props.web.right);\r\n  const maxWidthRigth =\r\n    (props.web.right * 100) / (props.web.left + props.web.right);\r\n\r\n  const web = {\r\n    left: maxWidthLeft,\r\n    right: maxWidthRigth,\r\n  };\r\n  const mob = {\r\n    flexDirection: props.mob.d,\r\n  };\r\n\r\n  return (\r\n    <_Container web={web} mob={mob}>\r\n      <_MainSide web={web} mob={mob}>\r\n        {props.children[0]}\r\n      </_MainSide>\r\n      <_SecondarySide web={web} mob={mob}>\r\n        {props.children[1]}\r\n      </_SecondarySide>\r\n    </_Container>\r\n  );\r\n}\r\n\r\nconst _Container = styled.div`\r\n  display: flex;\r\n  flex-direction: ${props =>\r\n    props.web.direction ? props.web.direction : 'row'};\r\n  @media only screen and (max-width: ${MEDIA_SCREENS.SMALL\r\n      .TO}px) and (min-width: ${MEDIA_SCREENS.SMALL.FROM}px) {\r\n    flex-direction: ${props =>\r\n      props.mob.flexDirection ? props.mob.flexDirection : 'row'};\r\n  }\r\n`;\r\nconst _MainSide = styled.div`\r\n  @media only screen and (max-width: ${MEDIA_SCREENS.MEDIUM\r\n      .TO}px) and (min-width: ${MEDIA_SCREENS.MEDIUM.FROM}px) {\r\n    max-width: ${props => props.web.left}%;\r\n    flex: ${props => props.web.left};\r\n  }\r\n\r\n  @media only screen and (max-width: ${MEDIA_SCREENS.SMALL\r\n      .TO}px) and (min-width: ${MEDIA_SCREENS.SMALL.FROM}px) {\r\n    padding: 0;\r\n    flex: 1;\r\n  }\r\n`;\r\n\r\nconst _SecondarySide = styled.div`\r\n  padding: 0 0.9em 0 0.9em;\r\n  @media only screen and (max-width: ${MEDIA_SCREENS.MEDIUM\r\n      .TO}px) and (min-width: ${MEDIA_SCREENS.MEDIUM.FROM}px) {\r\n    max-width: ${props => props.web.right}%;\r\n    flex: ${props => props.web.right};\r\n  }\r\n  @media only screen and (max-width: ${MEDIA_SCREENS.SMALL\r\n      .FROM}px) and (min-width: ${MEDIA_SCREENS.SMALL.FROM}px) {\r\n    flex: 1;\r\n  }\r\n`;\r\n","import React, { Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport { MEDIA_SCREENS, CSS_HELPERS_REACT } from '../../../theme';\r\nimport { ButtonBase } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\nconst ImageCard = ({\r\n  id,\r\n  title,\r\n  subtitle,\r\n  description,\r\n  image,\r\n  imgClass,\r\n  onClick,\r\n  link,\r\n}) => {\r\n  let style = {};\r\n  return (\r\n    // marginBottom: '3em' Saque esto no creo que este margin vaya en la carta sino en un componente que contenga las cartas\r\n    <div onClick={onClick} style={{ display: 'flex', flexDirection: 'column' }}>\r\n      <ButtonBase style={{ outline: 'none', borderRadius: '.2em' }}>\r\n        <Link to={link}>\r\n          <Image\r\n            src={image}\r\n            draggable=\"false\"\r\n            style={{ borderRadius: '.6em', ...CSS_HELPERS_REACT.BOX_SHADOW }}\r\n          />\r\n        </Link>\r\n      </ButtonBase>\r\n\r\n      <div className=\"card-body px-0 pt-3 pb-0\">\r\n        {subtitle && <p className=\"mb-1 text-muted\">{subtitle}</p>}{' '}\r\n        {title && <h5 style={CSS_HELPERS_REACT.TRUNCATE}>{title}</h5>}\r\n        {description && <p>{description}</p>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Image = styled.img`\r\n  /* border-radius: 0.3em; */\r\n\r\n  @media only screen and (min-width: ${MEDIA_SCREENS.MEDIUM.FROM +\r\n      'px'}) and (max-width: ${MEDIA_SCREENS.MEDIUM.TO + 'px'}) {\r\n    src: url(${props => props.src});\r\n    height: 30vh;\r\n    object-fit: cover;\r\n    width: 100%;\r\n  }\r\n\r\n  @media only screen and (min-width: ${MEDIA_SCREENS.SMALL.FROM +\r\n      'px'}) and (max-width: ${MEDIA_SCREENS.SMALL.TO + 'px'}) {\r\n    src: url(${props => props.src});\r\n    height: 20vh;\r\n    object-fit: cover;\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nexport default ImageCard;\r\n","import React, { useState } from 'react';\r\nimport ImageCard from '../common/cards/ImageCard';\r\nimport moment from 'moment';\r\nimport Input from '../common/inputs/Input';\r\nimport Down from '@material-ui/icons/ArrowDropDown';\r\nimport Close from '@material-ui/icons/Close';\r\nimport { IconButton, InputAdornment } from '@material-ui/core';\r\n\r\nconst PlanInfoCard = ({\r\n  plan = {},\r\n  reserva = {},\r\n  showTotalInput,\r\n  total,\r\n  onChangePrecio: onChangeTotal,\r\n  salida = {},\r\n}) => {\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-body\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <ImageCard image={plan.urlFoto} />\r\n          </div>\r\n          <div className=\"col-12\">\r\n            <h5 className=\"card-title mt-2 mb-0\">{plan.plan}</h5>\r\n            <p className=\"text-muted mb-0\">\r\n              {moment(salida.horaFin).diff(moment(salida.horaInicio), 'hour')}H\r\n              duración\r\n            </p>\r\n            {plan.planner && (\r\n              <p className=\"text-muted\">Ofrecido por {plan.planner.agencia}</p>\r\n            )}\r\n          </div>\r\n          <hr className=\"w-100 mx-2 my-1 mb-3\" />\r\n          <div className=\"col-12\">\r\n            <p className=\"text-muted mb-0\">\r\n              {moment(salida.feSalida).format('ddd[,] MMM DD')}\r\n            </p>\r\n            <p className=\"text-muted\">\r\n              {moment(salida.horaInicio).format('hh:mm A')} {' – '}\r\n              {moment(salida.horaFin).format('hh:mm A')}\r\n            </p>\r\n          </div>\r\n          <hr className=\"w-100 mx-2 my-1 mb-3\" />\r\n          {total == undefined && (\r\n            <>\r\n              <div className=\"col-12\">\r\n                <div className=\"d-flex\">\r\n                  <p className=\"text-muted\">\r\n                    ${plan.precio} x {reserva.cupos} pasajero(s)\r\n                  </p>\r\n                  <p className=\"text-muted ml-auto\">\r\n                    {`${plan.precio * reserva.cupos}` || 0}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <hr className=\"w-100 mx-2 my-1 mb-3\" />\r\n            </>\r\n          )}\r\n          <div className=\"col-12\">\r\n            {!showTotalInput ? (\r\n              <div className=\"d-flex\">\r\n                <p className=\"font-weight-bold\">Total(USD)</p>\r\n                <p\r\n                  className=\"font-weight-bold ml-auto\"\r\n                  onClick={() => onChangeTotal(plan.precio * reserva.cupos)}\r\n                >\r\n                  ${plan.precio * reserva.cupos}{' '}\r\n                  <IconButton\r\n                    aria-label=\"go\"\r\n                    style={{\r\n                      borderRadius: 'unset',\r\n                      backgroundColor: 'unset',\r\n                    }}\r\n                    className=\"h-100 ml-auto p-0\"\r\n                    size=\"medium\"\r\n                  >\r\n                    <Down fontSize=\"inherit\" />\r\n                  </IconButton>\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <Input\r\n                type=\"decimal\"\r\n                label=\"Total\"\r\n                name=\"total\"\r\n                value={total}\r\n                onChange={e => {\r\n                  onChangeTotal(e.target.value);\r\n                }}\r\n                endAdornment={\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"go\"\r\n                      size=\"medium\"\r\n                      onClick={() => {\r\n                        onChangeTotal(undefined);\r\n                      }}\r\n                    >\r\n                      <Close fontSize=\"inherit\" />\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                }\r\n                error={total == '' && 'Ingresa un valor válido'}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlanInfoCard;\r\n","import React, { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { connect } from 'react-redux';\r\nimport Container from '../../../components/common/wrappers/Container';\r\nimport PassengerPaymentForm from '../../../components/reviewAndPay/PassengerPaymentForm';\r\nimport AsideGrid from '../../../components/common/wrappers/AsideGrid';\r\nimport PlanInfoCard from '../../../components/reviewAndPay/PlanInfoCard';\r\n\r\nconst generateNumberOptions = trip => {\r\n  let numberOptions = [];\r\n  const tripsLeft = trip.cupos - trip.ocupados;\r\n  for (let i = 0; i < tripsLeft; i++) {\r\n    numberOptions.push({ text: i + 1, value: i + 1 });\r\n  }\r\n\r\n  return numberOptions;\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  appBar: {\r\n    position: 'relative',\r\n    // background: 'white',\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst ReviewPay = ({\r\n  //\r\n  history,\r\n  open,\r\n  onClose,\r\n  trip,\r\n  //rx\r\n  reservaState,\r\n  planState,\r\n  login,\r\n  //rx\r\n  reservaChange,\r\n  // loadTrip,\r\n  booking,\r\n  loadPaises,\r\n  paisesOption,\r\n  onDelete,\r\n}) => {\r\n  useEffect(() => {\r\n    // loadTrip(idTrip, idPlan);\r\n    reservaChange({ cupos: 1, pasajeros: [{}] });\r\n    loadPaises();\r\n  }, []);\r\n\r\n  const classes = useStyles();\r\n\r\n  let options = generateNumberOptions(trip);\r\n\r\n  const hasToShowPriceInput = () => {\r\n    if (reservaState.reserva.idCompra) {\r\n      return false;\r\n    } else if (reservaState.reserva.total == undefined) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      fullScreen\r\n      open={open}\r\n      onClose={onClose}\r\n      TransitionComponent={Transition}\r\n    >\r\n      <AppBar className={classes.appBar}>\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            onClick={onClose}\r\n            aria-label=\"close\"\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Container>\r\n        <AsideGrid\r\n          web={{ left: 9, right: 3 }}\r\n          mob={{ left: 1, right: 1, direction: 'column-reverse' }}\r\n        >\r\n          <PassengerPaymentForm\r\n            // formErrors={reservaState.error || null}\r\n            title=\"Nueva reserva\"\r\n            loading={reservaState.loading}\r\n            reserva={reservaState.reserva}\r\n            numberOptions={options}\r\n            onReservaChange={reservaChange}\r\n            paisesOption={paisesOption}\r\n            isAgency\r\n            onSubmit={reserva => {\r\n              if (!reserva.pasajeros) reserva.pasajeros = [];\r\n              booking(\r\n                {\r\n                  ...reserva,\r\n                  idSalida: trip.idSalida,\r\n                  idPlan: trip.idPlan,\r\n                  idUsuario: login.usuario.idUsuario,\r\n                  valorUnitario: trip.precio,\r\n                  tipoCompra: 'AGCY',\r\n                },\r\n                () => {\r\n                  // loadTrip(idTrip, idPlan);\r\n                  reservaChange({ cupos: 1, pasajeros: [{}] });\r\n                  onClose();\r\n                }\r\n              );\r\n            }}\r\n            onDelete={onDelete}\r\n          ></PassengerPaymentForm>\r\n\r\n          <PlanInfoCard\r\n            plan={trip.planDetalle}\r\n            reserva={reservaState.reserva}\r\n            total={reservaState.reserva.total}\r\n            onChangePrecio={total =>\r\n              reservaChange({ ...reservaState.reserva, total })\r\n            }\r\n            showTotalInput={hasToShowPriceInput()}\r\n            salida={trip}\r\n          />\r\n        </AsideGrid>\r\n      </Container>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({\r\n  reservaState,\r\n  loginState,\r\n  // tripState,\r\n  paisState,\r\n}) => {\r\n  const { paises } = paisState;\r\n  let paisesOption = paises.map(pais => {\r\n    return { value: pais.idPais, text: pais.pais };\r\n  });\r\n\r\n  return {\r\n    reservaState,\r\n    login: loginState,\r\n    paisesOption,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    // loadTrip: (idSalida, idPlan) =>\r\n    //   dispatch({ type: 'TRIP_PLAN_GET', idSalida, idPlan }),\r\n    reservaChange: reserva => dispatch({ type: 'RESERVA_CHANGE', reserva }),\r\n    booking: (reserva, onSuccess) =>\r\n      dispatch({ type: 'RESERVA_SAVE', reserva, onSuccess }),\r\n    loadPaises: () => dispatch({ type: 'PAISES_GET' }),\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ReviewPay);\r\n","import React from 'react';\r\nimport { withStyles, Slider, InputLabel } from '@material-ui/core';\r\n\r\nconst CusomizedSlider = withStyles({\r\n  root: {\r\n    // color: '#52af77',\r\n    // height: 8,\r\n  },\r\n  thumb: {\r\n    // height: 24,\r\n    // width: 24,\r\n    // backgroundColor: '#fff',\r\n    // border: '2px solid currentColor',\r\n    marginTop: '-1.75px',\r\n    // marginLeft: -12,\r\n    '&:focus,&:hover,&$active': {\r\n      boxShadow: 'inherit',\r\n    },\r\n  },\r\n  track: {\r\n    height: 8,\r\n    borderRadius: 4,\r\n  },\r\n  rail: {\r\n    height: 8,\r\n    borderRadius: 4,\r\n  },\r\n})(Slider);\r\n\r\nconst Range = ({\r\n  label,\r\n  className,\r\n  value,\r\n  step = 10,\r\n  marks,\r\n  valueLabelDisplay,\r\n  getAriaValueText,\r\n}) => {\r\n  return (\r\n    <div className={`form-group ${className}`}>\r\n      {label && <InputLabel htmlFor=\"age-simple\">{label}</InputLabel>}\r\n      <CusomizedSlider\r\n        // disabled\r\n        defaultValue={value}\r\n        getAriaValueText={getAriaValueText}\r\n        aria-labelledby=\"discrete-slider-always\"\r\n        step={step}\r\n        marks={marks}\r\n        valueLabelDisplay={valueLabelDisplay}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Range;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport Button from '../common/inputs/Button';\r\nimport styled from 'styled-components';\r\nimport Right from '@material-ui/icons/ChevronRight';\r\n\r\nimport { MEDIA_SCREENS, CSS_HELPERS_REACT } from '../../theme';\r\nimport { IconButton, Slider } from '@material-ui/core';\r\nimport Range from '../common/inputs/Range';\r\nimport DummyCards from '../common/cards/DummyCards';\r\n\r\nconst marks = [\r\n  {\r\n    value: 0,\r\n    label: '0%',\r\n  },\r\n  {\r\n    value: 25,\r\n    label: '25%',\r\n  },\r\n  {\r\n    value: 50,\r\n    label: '50%',\r\n  },\r\n  {\r\n    value: 75,\r\n    label: '75%',\r\n  },\r\n  {\r\n    value: 100,\r\n    label: '100%',\r\n  },\r\n];\r\n\r\nfunction valuetext(value) {\r\n  return `${value}%`;\r\n}\r\n\r\nconst TripShortInfoItem = ({\r\n  loading,\r\n  idSalida,\r\n  plan,\r\n  urlFoto,\r\n  feSalida,\r\n  horaInicio,\r\n  horaFin,\r\n  cupos,\r\n  ocupados,\r\n  onClick,\r\n  onDetail,\r\n  onSeeReservations,\r\n  showOccupationSlide = false,\r\n}) => {\r\n  let left;\r\n\r\n  if (ocupados >= cupos) {\r\n    left = 'Todos los cupos llenos.';\r\n  } else {\r\n    left = `${ocupados} de ${cupos} reservados.`;\r\n  }\r\n\r\n  let cursorStyle;\r\n  if (onClick) {\r\n    cursorStyle = { cursor: 'pointer' };\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-100 mb-4\">\r\n      {loading ? (\r\n        <DummyCards size={1} cols=\"col-12\" disablePhoto />\r\n      ) : (\r\n        <div\r\n          className=\"d-flex\"\r\n          style={cursorStyle}\r\n          onClick={() => onClick && onClick({ idSalida, fecha: feSalida })}\r\n        >\r\n          <div className=\"col-3\">\r\n            <Image src={urlFoto} draggable=\"false\" />\r\n          </div>\r\n          <div className=\"col\">\r\n            <h6 style={CSS_HELPERS_REACT.TRUNCATE}> {plan}</h6>\r\n            <p className=\"mb-1\">{moment(feSalida).format('ddd[,] MMM DD')}</p>\r\n            <p className=\"mb-1\">\r\n              {moment(horaInicio).format('hh:mm A')} {' - '}\r\n              {moment(horaFin).format('hh:mm A')}\r\n            </p>\r\n            <p>{left}</p>\r\n            {showOccupationSlide && (\r\n              <Range\r\n                className=\"mb-0\"\r\n                value={+Number((ocupados / cupos) * 100).toFixed(1)}\r\n                getAriaValueText={valuetext}\r\n                step={5}\r\n                marks={marks}\r\n                valueLabelDisplay=\"auto\"\r\n              />\r\n            )}\r\n            {onDetail && (\r\n              <Button\r\n                color=\"primary\"\r\n                onClick={() => onDetail({ idSalida, fecha: feSalida })}\r\n              >\r\n                Detalles\r\n              </Button>\r\n            )}\r\n            {onSeeReservations && (\r\n              <Button\r\n                color=\"primary\"\r\n                onClick={() => onSeeReservations(idSalida)}\r\n              >\r\n                Ver reservas\r\n              </Button>\r\n            )}\r\n          </div>\r\n          {onClick && (\r\n            <div className=\"ml-auto\">\r\n              <IconButton\r\n                aria-label=\"go\"\r\n                style={{ borderRadius: 'unset', backgroundColor: 'unset' }}\r\n                className=\"h-100\"\r\n                size=\"medium\"\r\n              >\r\n                <Right fontSize=\"inherit\" />\r\n              </IconButton>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n      <hr className=\"w-100\"></hr>\r\n    </div>\r\n  );\r\n};\r\n\r\nTripShortInfoItem.propTypes = {\r\n  idSalida: PropTypes.number,\r\n  plan: PropTypes.string,\r\n  urlFoto: PropTypes.string,\r\n  feSalida: PropTypes.oneOf([PropTypes.object, PropTypes.string]),\r\n  horaInicio: PropTypes.oneOf([PropTypes.object, PropTypes.string]),\r\n  horaFin: PropTypes.oneOf([PropTypes.object, PropTypes.string]),\r\n  pasajeros: PropTypes.array,\r\n  cupos: PropTypes.number,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default TripShortInfoItem;\r\n\r\nconst Image = styled.img`\r\n  border-radius: 0.3em;\r\n\r\n  @media only screen and (min-width: ${MEDIA_SCREENS.MEDIUM.FROM +\r\n      'px'}) and (max-width: ${MEDIA_SCREENS.MEDIUM.TO + 'px'}) {\r\n    src: url(${props => props.src});\r\n    height: 100%;\r\n    object-fit: cover;\r\n    width: 100%;\r\n  }\r\n\r\n  @media only screen and (min-width: ${MEDIA_SCREENS.SMALL.FROM +\r\n      'px'}) and (max-width: ${MEDIA_SCREENS.SMALL.TO + 'px'}) {\r\n    src: url(${props => props.src});\r\n    height: 100%;\r\n    object-fit: cover;\r\n    width: 100%;\r\n  }\r\n`;\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {\r\n  DialogActions,\r\n  FormControl,\r\n  FormLabel,\r\n  Radio,\r\n  FormControlLabel,\r\n  RadioGroup,\r\n} from '@material-ui/core';\r\nimport Button from '../common/inputs/Button';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)(props => {\r\n  const { children, classes, onClose } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton\r\n          aria-label=\"close\"\r\n          className={classes.closeButton}\r\n          onClick={onClose}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles(theme => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nfunction DeleteReservationConfirmModal({\r\n  isOpen,\r\n  loading,\r\n  onConfirm,\r\n  onCloseModal,\r\n  onCancel,\r\n  cancelText,\r\n  confirmText,\r\n}) {\r\n  const [notificar, setNotificar] = useState(1);\r\n\r\n  let onClose = () => {\r\n    onCancel && onCancel();\r\n    onCloseModal();\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      onClose={!loading && onClose}\r\n      aria-labelledby=\"customized-dialog-title\"\r\n      open={isOpen}\r\n      maxWidth=\"sm\"\r\n      fullWidth\r\n    >\r\n      <DialogTitle id=\"customized-dialog-title\" onClose={!loading && onClose}>\r\n        Eliminar reserva\r\n      </DialogTitle>\r\n      <DialogContent dividers>\r\n        <FormControl component=\"fieldset\">\r\n          <FormLabel component=\"legend\">\r\n            ¿Deseas notificar a tus pasajeros de la cancelación de esta reserva?\r\n          </FormLabel>\r\n          <RadioGroup\r\n            aria-label=\"avisar\"\r\n            name=\"avisar\"\r\n            value={notificar}\r\n            onChange={e => setNotificar(+e.target.value)}\r\n          >\r\n            <FormControlLabel\r\n              value={1}\r\n              control={<Radio />}\r\n              label=\"Sí, avisar.\"\r\n            />\r\n            <FormControlLabel\r\n              value={0}\r\n              control={<Radio />}\r\n              label=\"No avisar (Considera esta opción si estas eliminando esta reserva para crearla de nuevo).\"\r\n            />\r\n          </RadioGroup>\r\n        </FormControl>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        {!loading && (\r\n          <Button onClick={onClose} color=\"primary\">\r\n            {cancelText ? cancelText : 'No'}\r\n          </Button>\r\n        )}\r\n        <Button\r\n          onClick={() => onConfirm(notificar)}\r\n          color=\"primary\"\r\n          loading={loading}\r\n        >\r\n          {confirmText ? confirmText : 'yes'}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nDeleteReservationConfirmModal.propTypes = {};\r\n\r\nexport default DeleteReservationConfirmModal;\r\n","import pdfMake from 'pdfmake/build/pdfmake';\r\nimport pdfFonts from 'pdfmake/build/vfs_fonts';\r\nimport moment from 'moment';\r\npdfMake.vfs = pdfFonts.pdfMake.vfs;\r\n\r\nexport const generatePassengerReport = ({ pasajeros }) => {\r\n  try {\r\n    const fileName = moment().format('DDMMYYYHHmmss') + '.pdf';\r\n    // Create a new PDFDocument\r\n\r\n    const rows = pasajeros.map(pasajero => {\r\n      return [\r\n        { text: pasajero.nombre },\r\n        { text: pasajero.apellido },\r\n        { text: pasajero.identificacion || '' },\r\n        { text: pasajero.pais || '' },\r\n        {\r\n          text: moment(pasajero.feCreacion).format('ddd DD, MMM YYYY'),\r\n        },\r\n      ];\r\n    });\r\n\r\n    const content = [\r\n      {\r\n        // style: \"tableExample\",\r\n        table: {\r\n          body: [\r\n            [\r\n              'Nombre',\r\n              'Apellido',\r\n              'Identificación',\r\n              'Pais',\r\n              'Fecha de reserva',\r\n            ],\r\n            ...rows,\r\n          ],\r\n        },\r\n      },\r\n    ];\r\n\r\n    const documentDefinition = {\r\n      pageSize: 'A4',\r\n      // pageOrientation: 'landscape',\r\n      content,\r\n    };\r\n\r\n    // console.log(JSON.stringify(content));\r\n    pdfMake.createPdf(documentDefinition).download(fileName);\r\n  } catch (e) {\r\n    console.log(new Error(e));\r\n  }\r\n};\r\n","import React, { Component, useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Section from '../../../components/common/wrappers/Section';\r\nimport ReservationTable from '../../../components/reservation/ReservationTable';\r\nimport TravelerTable from '../../../components/traveler/TravelerTable';\r\nimport ReviewPayModal from '../../traveler/PayAndReview/ReviewPay';\r\nimport Button from '../../../components/common/inputs/Button';\r\nimport TripShortInfoItem from '../../../components/trip/TripShortInfoItem';\r\nimport { Link } from 'react-router-dom';\r\nimport { palette } from '../../../theme';\r\nimport moment from 'moment';\r\nimport SyncIcon from '@material-ui/icons/Sync';\r\nimport TimeAgo from 'react-timeago';\r\nimport DeleteReservationConfirmModal from '../../../components/reservation/DeleteReservationConfirmModal';\r\nimport { generatePassengerReport } from '../../../helpers/pdfHelper';\r\n\r\nconst ReservationPage = props => {\r\n  const [selectedView, setselectedView] = useState('RESERVA');\r\n  const [isCheckingOut, setCheckingOut] = useState(false);\r\n  const [isOpenConfirmDelete, setOpenConfirmDelete] = useState(false);\r\n\r\n  useEffect(() => {\r\n    props.loadTrip(match.params.idTrip);\r\n    props.loadTrips();\r\n  }, []);\r\n\r\n  const {\r\n    trip,\r\n    trips = [],\r\n    match,\r\n    history,\r\n    loadingList,\r\n    loadingReserva,\r\n    reservaChange,\r\n    showConfirm,\r\n    reserva,\r\n    reservaDelete,\r\n  } = props;\r\n  // const trip = trips.find(item => item.idSalida == match.params.idTrip) || {};\r\n  const onCheckout = reserva => {\r\n    reserva && reservaChange(reserva);\r\n    setCheckingOut(true);\r\n  };\r\n\r\n  let tripsComing = (() => {\r\n    let index = trips.findIndex(trip => trip.idSalida == match.params.idTrip);\r\n    let inicio = index - 2;\r\n    let final = index + 3;\r\n\r\n    inicio = inicio < 0 ? 0 : inicio;\r\n    final = final > trips.length - 1 ? trips.length : final;\r\n\r\n    return trips.slice(inicio, final);\r\n  })();\r\n\r\n  return (\r\n    <>\r\n      {trip.idSalida && (\r\n        <ReviewPayModal\r\n          open={isCheckingOut}\r\n          onClose={() => setCheckingOut(false)}\r\n          trip={trip}\r\n          history={history}\r\n          onDelete={() => setOpenConfirmDelete(true)}\r\n        />\r\n      )}\r\n      <div className=\"container-fluid2\" style={{ marginTop: '6rem' }}>\r\n        <div className=\"row p-0 m-0\">\r\n          <div className=\"col-sm-12 col-md-2\">\r\n            <Section\r\n              title=\"Viajes\"\r\n              // description=\"Mostrar por\"\r\n            >\r\n              {tripsComing.map(trip => (\r\n                <div\r\n                  style={{\r\n                    borderRight:\r\n                      trip.idSalida == match.params.idTrip\r\n                        ? `solid ${palette.primary.main}`\r\n                        : 'unset',\r\n                  }}\r\n                >\r\n                  <Link\r\n                    to={'/reservation/' + trip.idSalida}\r\n                    onClick={() => props.loadTrip(trip.idSalida)}\r\n                  >\r\n                    {trip.plan}\r\n                  </Link>\r\n                  <p>{moment(trip.feSalida).format('ddd[,] DD MMM YYYY')}</p>\r\n                  {/* <hr className=\"w-100\"></hr> */}\r\n                </div>\r\n              ))}\r\n            </Section>\r\n          </div>\r\n          <div className=\"col-sm-12 col-md-10\">\r\n            <Section\r\n              title={selectedView == 'RESERVA' ? 'Reservas' : 'Pasajeros'}\r\n              button={\r\n                <Button\r\n                  className=\"ml-auto\"\r\n                  startIcon={<SyncIcon />}\r\n                  text={\r\n                    moment(trip.lastSync).isValid() && (\r\n                      <TimeAgo\r\n                        date={moment(trip.lastSync).toDate()}\r\n                        // minPeriod={60}\r\n                      />\r\n                    )\r\n                  }\r\n                  color=\"primary\"\r\n                  loading={loadingList}\r\n                  onClick={() => {\r\n                    props.loadTrip(match.params.idTrip);\r\n                    props.loadTrips();\r\n                  }}\r\n                />\r\n              }\r\n              // description=\"Mostrar por\"\r\n            >\r\n              <div className=\"d-flex\">\r\n                <div\r\n                  className=\"btn-group\"\r\n                  role=\"group\"\r\n                  aria-label=\"Basic example\"\r\n                >\r\n                  <Button\r\n                    type=\"button\"\r\n                    color=\"primary\"\r\n                    style={{\r\n                      borderTopRightRadius: 0,\r\n                      borderBottomRightRadius: 0,\r\n                    }}\r\n                    variant={`${\r\n                      selectedView == 'RESERVA' ? 'contained' : 'outlined'\r\n                    }`}\r\n                    onClick={() => setselectedView('RESERVA')}\r\n                  >\r\n                    Reservas\r\n                  </Button>\r\n                  <Button\r\n                    type=\"button\"\r\n                    color=\"primary\"\r\n                    style={{\r\n                      borderTopLeftRadius: 0,\r\n                      borderBottomLeftRadius: 0,\r\n                    }}\r\n                    variant={`${\r\n                      selectedView == 'PASAJERO' ? 'contained' : 'outlined'\r\n                    }`}\r\n                    onClick={() => setselectedView('PASAJERO')}\r\n                  >\r\n                    Pasajeros\r\n                  </Button>\r\n                </div>\r\n                {!loadingList && trip.ocupados < trip.cupos ? (\r\n                  <Button\r\n                    onClick={() => onCheckout({ cupos: 1, pasajeros: [{}] })}\r\n                    disabled={moment(trip.feSalida).isBefore(moment(), 'day')}\r\n                    type=\"button\"\r\n                    color=\"primary\"\r\n                    variant=\"outlined\"\r\n                    className=\"ml-auto\"\r\n                  >\r\n                    Agregar\r\n                  </Button>\r\n                ) : (\r\n                  <Button\r\n                    type=\"button\"\r\n                    color=\"primary\"\r\n                    variant=\"contained\"\r\n                    className=\"ml-auto\"\r\n                    disabled\r\n                  >\r\n                    {loadingList ? 'Cargando' : 'Agotado'}\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </Section>\r\n            <Section>\r\n              <TripShortInfoItem\r\n                loading={loadingList}\r\n                {...trip}\r\n                feSalida={trip.feSalida}\r\n                // onClick={onClickTrip}\r\n                showOccupationSlide\r\n              />\r\n            </Section>\r\n            <Section>\r\n              {selectedView == 'RESERVA' ? (\r\n                <ReservationTable\r\n                  loading={loadingList}\r\n                  reservations={trip.reservas}\r\n                  onDetail={idCompra => {\r\n                    let reserva = trip.reservas.find(\r\n                      reserva => reserva.idCompra == idCompra\r\n                    );\r\n                    onCheckout({\r\n                      ...reserva,\r\n                      pasajeros: trip.pasajeros.filter(\r\n                        pasajero => pasajero.idCompra == idCompra\r\n                      ),\r\n                    });\r\n                  }}\r\n                />\r\n              ) : (\r\n                <>\r\n                  <div className=\"d-flex\">\r\n                    <Button\r\n                      onClick={() =>\r\n                        generatePassengerReport({\r\n                          pasajeros: trip.pasajeros.filter(\r\n                            pasajero => pasajero.estado == 'A'\r\n                          ),\r\n                        })\r\n                      }\r\n                      // disabled={moment(trip.feSalida).isBefore(moment())}\r\n                      type=\"button\"\r\n                      color=\"primary\"\r\n                      variant=\"outlined\"\r\n                      className=\"ml-auto mb-1\"\r\n                    >\r\n                      Generar pdf\r\n                    </Button>\r\n                  </div>\r\n                  <TravelerTable\r\n                    loading={loadingList}\r\n                    travelers={trip.pasajeros.filter(\r\n                      pasajero => pasajero.estado == 'A'\r\n                    )}\r\n                  />\r\n                </>\r\n              )}\r\n            </Section>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {isOpenConfirmDelete && (\r\n        <DeleteReservationConfirmModal\r\n          loading={loadingReserva}\r\n          isOpen={isOpenConfirmDelete}\r\n          onCloseModal={() => setOpenConfirmDelete(false)}\r\n          onConfirm={notificar =>\r\n            reservaDelete(reserva.idCompra, notificar, () => {\r\n              setOpenConfirmDelete(false);\r\n              setCheckingOut(false);\r\n              reservaChange({ cupos: 1, pasajeros: [{}] });\r\n            })\r\n          }\r\n          confirmText=\"Eliminar\"\r\n          cancelText=\"Cancelar\"\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ tripState, loginState, reservaState }, props) => {\r\n  const { trip, trips, loadingList } = tripState;\r\n  const { usuario } = loginState;\r\n  const { reserva, loading: loadingReserva } = reservaState;\r\n  return {\r\n    trip,\r\n    trips,\r\n    loadingReserva,\r\n    loadingList,\r\n    usuario,\r\n    reserva,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    reservaChange: reserva => dispatch({ type: 'RESERVA_CHANGE', reserva }),\r\n    reservaDelete: (idCompra, notificar, onSuccess) =>\r\n      dispatch({ type: 'RESERVA_DELETE', idCompra, notificar, onSuccess }),\r\n    showConfirm: config => dispatch({ type: 'OPEN_CONFIRM', config }),\r\n    loadTrip: idSalida => dispatch({ type: 'TRIP_GET_BY_ID', idSalida }),\r\n    loadTrips: () => dispatch({ type: 'TRIP_GET_BY_PLANNER' }),\r\n  };\r\n};\r\n\r\nReservationPage.propTypes = {};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ReservationPage);\r\n","import React, { Component } from 'react';\r\n\r\nimport Input from '../common/inputs/Input';\r\nimport Button from '../common/inputs/Button';\r\n\r\nclass LoginForm extends Component {\r\n  state = { login: {}, errors: {} };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.onInputChange = this.onInputChange.bind(this);\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    this.setState({ errors: {} });\r\n\r\n    const { login } = this.state;\r\n    let errors = {};\r\n    let valid = true;\r\n\r\n    if (!login.usuario || login.usuario.trim() === '') {\r\n      valid = false;\r\n      errors = { ...errors, usuario: 'El usuario es requerido' };\r\n    }\r\n\r\n    if (!login.contrasena || login.contrasena.trim() === '') {\r\n      valid = false;\r\n      errors = { ...errors, contrasena: 'La contraseña es requerida' };\r\n    }\r\n\r\n    if (!valid) {\r\n      this.setState({ errors });\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(login);\r\n  }\r\n\r\n  onInputChange(e) {\r\n    let { login } = this.state;\r\n    login[e.target.name] = e.target.value;\r\n    this.setState({ login });\r\n  }\r\n\r\n  render() {\r\n    const { login, errors } = this.state;\r\n    const { loading } = this.props;\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit} noValidate>\r\n        <Input\r\n          label=\"Usuario\"\r\n          name=\"usuario\"\r\n          value={login.usuario}\r\n          onChange={this.onInputChange}\r\n          error={errors.usuario}\r\n        />\r\n        <Input\r\n          type=\"password\"\r\n          label=\"Contraseña\"\r\n          name=\"contrasena\"\r\n          value={login.contrasena}\r\n          onChange={this.onInputChange}\r\n          error={errors.contrasena}\r\n        />\r\n        <Button\r\n          type=\"submit\"\r\n          text=\"Login\"\r\n          className=\"btn btn-block\"\r\n          loading={loading}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginForm;\r\n","import React from 'react';\r\nimport DateFnsUtils from '@date-io/moment';\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n} from '@material-ui/pickers';\r\n\r\nimport { FormHelperText } from '@material-ui/core';\r\n\r\nconst Datepicker = ({\r\n  label,\r\n  name,\r\n  value,\r\n  format,\r\n  disablePast,\r\n  disableToolbar,\r\n  error,\r\n  variant,\r\n  onChange,\r\n  className,\r\n}) => {\r\n  return (\r\n    <div className=\"form-group\" className={className}>\r\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <KeyboardDatePicker\r\n          fullWidth\r\n          disablePast\r\n          disableToolbar={disableToolbar}\r\n          variant={variant}\r\n          format={format || 'YYYY-MM-DD'}\r\n          id={name}\r\n          label={label}\r\n          value={value}\r\n          error={error}\r\n          onChange={onChange}\r\n          KeyboardButtonProps={{\r\n            'aria-label': 'change date',\r\n          }}\r\n        />\r\n        {error && <FormHelperText error>{error}</FormHelperText>}\r\n      </MuiPickersUtilsProvider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Datepicker;\r\n","import React, { Component } from 'react';\r\n\r\nimport Input from '../common/inputs/Input';\r\nimport Button from '../common/inputs/Button';\r\nimport { email } from '../../helpers/validations';\r\nimport Datepicker from '../common/inputs/Datepicker';\r\nimport moment from 'moment';\r\n\r\nclass RegistroForm extends Component {\r\n  state = { user: { feNacimiento: moment() }, errors: {} };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.onInputChange = this.onInputChange.bind(this);\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    this.setState({ errors: {} });\r\n\r\n    const { user } = this.state;\r\n    let errors = {};\r\n    let valid = true;\r\n\r\n    if (!new RegExp(email).test(user.correo)) {\r\n      valid = false;\r\n      errors = { ...errors, correo: 'A valid email is required' };\r\n    }\r\n\r\n    if (!user.nombre || user.nombre.trim() === '') {\r\n      valid = false;\r\n      errors = { ...errors, nombre: 'Name is required' };\r\n    }\r\n\r\n    if (!user.apellido || user.apellido.trim() === '') {\r\n      valid = false;\r\n      errors = { ...errors, apellido: 'Last name is required' };\r\n    }\r\n\r\n    if (!user.contrasena1 || user.contrasena1 === '') {\r\n      valid = false;\r\n      errors = { ...errors, contrasena1: 'Password is required' };\r\n    }\r\n\r\n    if (user.contrasena1 && user.contrasena1.length < 8) {\r\n      valid = false;\r\n      errors = {\r\n        ...errors,\r\n        contrasena1: 'Password must be at least 8 characters long',\r\n      };\r\n    }\r\n\r\n    if (user.contrasena1 !== user.contrasena2) {\r\n      valid = false;\r\n      errors = {\r\n        ...errors,\r\n        contrasena1: 'Passwords must match',\r\n        contrasena2: 'Passwords must match',\r\n      };\r\n    }\r\n\r\n    if (!user.feNacimiento) {\r\n      valid = false;\r\n      errors = { ...errors, feNacimiento: 'Your date of birth is required' };\r\n    }\r\n\r\n    let edad = moment().diff(moment(user.feNacimiento), 'year');\r\n\r\n    if (moment().diff(moment(user.feNacimiento), 'year') < 18) {\r\n      valid = false;\r\n      errors = { ...errors, feNacimiento: 'You need to be at least 18' };\r\n    }\r\n\r\n    if (!valid) {\r\n      this.setState({ errors });\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(user);\r\n  }\r\n\r\n  onInputChange(e) {\r\n    let { user } = this.state;\r\n\r\n    if (e.target) {\r\n      user[e.target.name] = e.target.value;\r\n    } else {\r\n      user['feNacimiento'] = e.toDate();\r\n    }\r\n\r\n    this.setState({ user: { ...user } });\r\n  }\r\n\r\n  render() {\r\n    const { user, errors } = this.state;\r\n    const { loading } = this.props;\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit} noValidate>\r\n        <Input\r\n          label=\"Email\"\r\n          name=\"correo\"\r\n          value={user.correo}\r\n          onChange={this.onInputChange}\r\n          error={errors.correo}\r\n        />\r\n        <Input\r\n          label=\"Name\"\r\n          name=\"nombre\"\r\n          value={user.nombre}\r\n          onChange={this.onInputChange}\r\n          error={errors.nombre}\r\n        />\r\n        <Input\r\n          label=\"Last name\"\r\n          name=\"apellido\"\r\n          value={user.apellido}\r\n          onChange={this.onInputChange}\r\n          error={errors.apellido}\r\n        />\r\n        <Input\r\n          type=\"password\"\r\n          label=\"Password\"\r\n          name=\"contrasena1\"\r\n          value={user.contrasena1}\r\n          onChange={this.onInputChange}\r\n          error={errors.contrasena1}\r\n        />\r\n        <Input\r\n          type=\"password\"\r\n          label=\"Repeat password\"\r\n          name=\"contrasena2\"\r\n          value={user.contrasena2}\r\n          onChange={this.onInputChange}\r\n          error={errors.contrasena2}\r\n        />\r\n        <Datepicker\r\n          label=\"Date of birth\"\r\n          name=\"feNacimiento\"\r\n          variant=\"inline\"\r\n          value={user.feNacimiento}\r\n          onChange={this.onInputChange}\r\n          error={errors.feNacimiento}\r\n        />\r\n        <Button\r\n          type=\"submit\"\r\n          text=\"Register\"\r\n          className=\"btn btn-block\"\r\n          loading={loading}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RegistroForm;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport LoginForm from './LoginForm';\r\nimport RegistroForm from './RegistroForm';\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `full-width-tab-${index}`,\r\n    'aria-controls': `full-width-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <Typography\r\n      component=\"div\"\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      <Box p={1}>{children}</Box>\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst LoginRegistroForm = ({\r\n  history,\r\n  loginLoading,\r\n  login,\r\n  registro,\r\n  loadOrders,\r\n  loadComercio,\r\n}) => {\r\n  let [tabIndex, setTabIndex] = useState(0);\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setTabIndex(newValue);\r\n  };\r\n\r\n  const navigateToDashboardAndLoadData = idComercio => {\r\n    loadOrders(idComercio);\r\n    loadComercio(idComercio);\r\n    history.replace('/dashboard');\r\n  };\r\n\r\n  const _login = userPass => {\r\n    login(\r\n      { ...userPass },\r\n      history.location.pathname.indexOf('login') !== 0\r\n        ? navigateToDashboardAndLoadData\r\n        : null\r\n    );\r\n  };\r\n\r\n  const navigateToSuccess = () => {\r\n    // history.replace('/register/success');\r\n    window.location = '/register/success';\r\n  };\r\n\r\n  const _registro = _registro => {\r\n    registro({ ..._registro }, navigateToSuccess);\r\n  };\r\n\r\n  return <LoginForm onSubmit={_login} loading={loginLoading} />;\r\n};\r\n\r\nconst mapStateToProps = ({ loginState, registroState }, props) => {\r\n  const { loading: loginLoading, usuario, logged } = loginState;\r\n  const { loading: registroLoading } = registroState;\r\n\r\n  return {\r\n    loginLoading,\r\n    registroLoading,\r\n    usuario,\r\n    logged,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    login: (login, onSuccess) => dispatch({ type: 'LOGIN', login, onSuccess }),\r\n    registro: (registro, navigate) =>\r\n      dispatch({ type: 'REGISTRO', registro, navigate }),\r\n    loadOrders: idComercio => dispatch({ type: 'ORDERS_GET', idComercio }),\r\n    loadComercio: idComercio =>\r\n      dispatch({ type: 'COMERCIO_GET_BY_ID', idComercio }),\r\n  };\r\n};\r\n\r\nLoginRegistroForm.propTypes = {};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginRegistroForm);\r\n","import React from 'react';\r\nimport LoginRegistroForm from '../../../components/login/LoginRegistroForm';\r\nimport { makeStyles, Card, CardContent } from '@material-ui/core';\r\n\r\nimport { palette, CSS_HELPERS_REACT } from '../../../theme';\r\nimport { LOGOTIPO_LIGHT } from '../../../constants';\r\n\r\nconst LoginPage = ({ history }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div\r\n      style={{\r\n        height: '100vh',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n      }}\r\n      className=\"container\"\r\n    >\r\n      <div className=\"row mt-4\">\r\n        <div className=\"col-sm-12 text-center mb-4 d-flex\">\r\n          <div className=\"bg-dark rounded-circle m-auto\">\r\n            <img width=\"150\" className=\"px-2 py-4\" src={LOGOTIPO_LIGHT}></img>\r\n          </div>\r\n        </div>\r\n        <h5 className=\"col-12 text-center my-2\">Afiliados</h5>\r\n        <div className=\"col-sm-12\">\r\n          <Card className={classes.card}>\r\n            <CardContent>\r\n              <LoginRegistroForm history={history} />\r\n            </CardContent>\r\n          </Card>\r\n          <p className=\"text-center\">V. 0.3.2</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  card: {\r\n    ...CSS_HELPERS_REACT.BOX_SHADOW,\r\n    borderRadius: '.6em',\r\n  },\r\n  floatRight: {\r\n    marginLeft: 'auto',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  input: {\r\n    marginLeft: '2em',\r\n  },\r\n}));\r\n\r\nexport default LoginPage;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700],\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nfunction SnackbarContentWrapper(props) {\r\n  const classes = useStyles();\r\n  const { className, message, onClose, variant, ...other } = props;\r\n  const Icon = variantIcon[variant];\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={clsx(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton\r\n          key=\"close\"\r\n          aria-label=\"Close\"\r\n          color=\"inherit\"\r\n          onClick={onClose}\r\n        >\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>,\r\n      ]}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nSnackbarContentWrapper.propTypes = {\r\n  className: PropTypes.string,\r\n  message: PropTypes.node,\r\n  onClose: PropTypes.func,\r\n  variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\r\n};\r\n\r\nexport default SnackbarContentWrapper;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst TitleDescriptionCard = ({ icon, title, description, onClick }) => {\r\n  let style;\r\n  if (onClick) {\r\n    style = { cursor: 'pointer' };\r\n  }\r\n\r\n  return (\r\n    <div\r\n      onClick={onClick}\r\n      style={style}\r\n      className=\"card border border-dark rounded\"\r\n    >\r\n      <div className=\"card-body p-4\">\r\n        {icon && (\r\n          <h2>\r\n            <i className={icon} />\r\n          </h2>\r\n        )}\r\n        <h6 className=\"font-weight-bold\">{title}</h6>\r\n        <p>{description}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nTitleDescriptionCard.propTypes = {\r\n  icon: PropTypes.string,\r\n  title: PropTypes.string,\r\n  description: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default TitleDescriptionCard;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Section from '../../../components/common/wrappers/Section';\r\nimport TitleDescriptionCard from '../../../components/common/cards/TitleDescriptionCard';\r\n\r\nconst AccountSettingsPage = ({ history, usuario }) => {\r\n  return (\r\n    <div className=\"container\" style={{ marginTop: '4rem' }}>\r\n      <Section className=\"mt-4\">\r\n        <h2>Configuración de cuenta</h2>\r\n        <p>\r\n          <strong>\r\n            {usuario.nombre} {usuario.apellido}\r\n          </strong>\r\n          , {usuario.correo} ·{' '}\r\n          {/* <Link to={'/profile/' + usuario.idUsuario}>Go to profile</Link> */}\r\n        </p>\r\n      </Section>\r\n      <Section>\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-12 col-md-4 mb-4\">\r\n            <TitleDescriptionCard\r\n              onClick={() => history.push('/account/personal-info')}\r\n              icon=\"far fa-address-card\"\r\n              title=\"Información personal\"\r\n              description=\"Provee tu información personal y como se te puede contactar.\"\r\n            />\r\n          </div>\r\n          <div className=\"col-sm-12 col-md-4 mb-4\">\r\n            <TitleDescriptionCard\r\n              onClick={() => history.push('/account/login-security')}\r\n              icon=\"fas fa-key\"\r\n              title=\"Inicio de sesión y seguradad\"\r\n              description=\"Actualiza tu contraseña y asegura tu cuenta.\"\r\n            />\r\n          </div>\r\n          {/* <div className=\"col-sm-12 col-md-4 mb-4\">\r\n            <TitleDescriptionCard\r\n              onClick={() => history.push('/account/payment')}\r\n              icon=\"far fa-money-bill-alt\"\r\n              title=\"Payments & payouts\"\r\n              description=\"Review payments, payouts, coupons, gift cards, and taxes\"\r\n            />\r\n          </div> */}\r\n        </div>\r\n      </Section>\r\n      <Section className=\"my-4\">\r\n        <h2>Agency</h2>\r\n        {/* <p>Become an agency partner</p> */}\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-12 col-md-4 mb-4\">\r\n            {usuario.agencia && usuario.agencia.idPlanner ? (\r\n              <TitleDescriptionCard\r\n                onClick={() => history.push('/account/agency-info')}\r\n                icon=\"far fa-address-card\"\r\n                title=\"Información de tu cuenta de agencia\"\r\n                description=\"Mira y actualiza los detalles de tu cuenta de agencia.\"\r\n              />\r\n            ) : (\r\n              <TitleDescriptionCard\r\n                onClick={() => history.push('/account/become-provider')}\r\n                icon=\"far fa-address-card\"\r\n                title=\"Become an agency partner\"\r\n                description=\"You can apply with your agency to offer touristic plans\"\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </Section>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ loginState }, props) => {\r\n  const { usuario } = loginState;\r\n\r\n  return {\r\n    usuario,\r\n  };\r\n};\r\n\r\nAccountSettingsPage.propTypes = {};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  null\r\n)(AccountSettingsPage);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst TitleDescription = ({ icon, title, description }) => {\r\n  return (\r\n    <div>\r\n      {icon && <i className={icon} />}\r\n      <h6 className=\"mt-2 mb-0 font-weight-bold\">{title}</h6>\r\n      <p className=\"p-x-sm-0\">{description}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nTitleDescription.propTypes = {\r\n  icon: PropTypes.string,\r\n  title: PropTypes.string,\r\n  description: PropTypes.string,\r\n};\r\n\r\nexport default TitleDescription;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport TitleDescriptionCard from '../common/cards/TitleDescriptionCard';\r\nimport IncluidoList from '../incluido/IncluidoList';\r\nimport Avatar from '../common/Avatar';\r\nimport TitleDescription from '../common/TitleDescription';\r\nimport Rating from 'react-rating';\r\n\r\nconst ReviewItem = ({ image, stars, comentario, nombre, fecha }) => {\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col-12 px-0\">\r\n        <div className=\"d-flex\">\r\n          <div className=\"p-2\">\r\n            <Avatar image={image} size=\"50px\" />\r\n          </div>\r\n          <div className=\"p-2 author\">\r\n            <div>{nombre}</div>\r\n            <div className=\"text-muted\">\r\n              <Rating\r\n                initialRating={stars}\r\n                fullSymbol={<i className=\"fas fa-star\" />}\r\n                emptySymbol={<i className=\"far fa-star\" />}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"ml-auto p-2 my-auto\">\r\n            <span className=\"text-muted\">{fecha}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-12 px-0\">\r\n        <p>{comentario}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nReviewItem.propTypes = {\r\n  image: PropTypes.string,\r\n  stars: PropTypes.number,\r\n  comentario: PropTypes.string,\r\n  nombre: PropTypes.string,\r\n  fecha: PropTypes.string,\r\n};\r\n\r\nexport default ReviewItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReviewItem from './ReviewItem';\r\n\r\nconst ReviewList = ({ reviews }) => {\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col-12 px-0\">\r\n        {reviews.map((review, index) => (\r\n          <ReviewItem key=\"index\" {...review} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nReviewList.propTypes = {\r\n  reviews: PropTypes.array,\r\n};\r\n\r\nexport default ReviewList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReviewList from '../review/ReviewList';\r\nimport Rating from 'react-rating';\r\n\r\nconst TravelerReviews = ({ stars, reviews }) => {\r\n  return (\r\n    <div className=\"row mt-4\">\r\n      <div className=\"col-md-4 col-sm-12\">\r\n        <h2>Traveler reviews</h2>\r\n        <p>\r\n          {stars} &nbsp;\r\n          <Rating\r\n            initialRating={stars}\r\n            fullSymbol={<i className=\"fas fa-star\" />}\r\n            emptySymbol={<i className=\"far fa-star\" />}\r\n          />\r\n        </p>\r\n      </div>\r\n      <div className=\"col-md-8 col-sm-12\">\r\n        <ReviewList reviews={reviews} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nTravelerReviews.propTypes = {\r\n  stars: PropTypes.number,\r\n  reviews: PropTypes.array,\r\n};\r\n\r\nexport default TravelerReviews;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport Right from '@material-ui/icons/ChevronRight';\r\nimport { status } from '../../theme';\r\n\r\nimport {\r\n  CardActions,\r\n  Avatar,\r\n  CardHeader,\r\n  IconButton,\r\n  FormControlLabel,\r\n  Switch,\r\n  Chip,\r\n  withStyles,\r\n} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport ImageCard from '../common/cards/ImageCard';\r\nimport { PLACEDEF } from '../../constants';\r\n\r\nconst useStyles = makeStyles({\r\n  card: {\r\n    width: '100%',\r\n  },\r\n  media: {\r\n    height: 140,\r\n  },\r\n});\r\n\r\nconst PlanCard = ({\r\n  idPlan,\r\n  plan,\r\n  descripcion,\r\n  idPlanner,\r\n  agencia,\r\n  ciudad,\r\n  logoAgencia,\r\n  isInfoCompleted,\r\n  urlFoto,\r\n  onClick,\r\n  onClickPlanner,\r\n  onNewDate,\r\n  onEdit,\r\n  onWatch,\r\n  onDelete,\r\n  showCardHeader = true,\r\n  showStatus = false,\r\n}) => {\r\n  return (\r\n    <div className=\"w-100\">\r\n      {showCardHeader && (\r\n        <CardHeader\r\n          className=\"px-1 py-2\"\r\n          style={onClickPlanner && { cursor: 'pointer' }}\r\n          onClick={() => (onClickPlanner ? onClickPlanner(idPlanner) : null)}\r\n          avatar={\r\n            logoAgencia ? (\r\n              <Avatar aria-label=\"recipe\" src={logoAgencia}></Avatar>\r\n            ) : (\r\n              <Avatar aria-label=\"recipe\" src={logoAgencia}>\r\n                {agencia && agencia[0]}\r\n              </Avatar>\r\n            )\r\n          }\r\n          action={\r\n            <IconButton aria-label=\"settings\">\r\n              {/* <MoreVertIcon /> */}\r\n            </IconButton>\r\n          }\r\n          title={agencia}\r\n          subheader={ciudad}\r\n        />\r\n      )}\r\n      <ImageCard\r\n        id={idPlan}\r\n        title={plan}\r\n        description={descripcion}\r\n        image={urlFoto || PLACEDEF}\r\n        imgclassName=\"card-img-20\"\r\n        onClick={() => onClick(idPlan)}\r\n      />\r\n      {showStatus &&\r\n        (isInfoCompleted ? (\r\n          <>\r\n            <Chip\r\n              // icon={<FaceIcon />}\r\n              label=\"Disponible\"\r\n              clickable\r\n              className=\"mb-1 mt-2\"\r\n              size=\"small\"\r\n              color=\"primary\"\r\n              // onDelete={handleDelete}\r\n              // deleteIcon={<DoneIcon />}\r\n              variant=\"outlined\"\r\n            />\r\n            <p>Listo para añadir fechas</p>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <DangerChip\r\n              // icon={<FaceIcon />}\r\n              label=\"En progreso\"\r\n              clickable\r\n              className=\"mb-1\"\r\n              size=\"small\"\r\n              // onDelete={handleDelete}\r\n              // deleteIcon={<DoneIcon />}\r\n              variant=\"outlined\"\r\n            />\r\n            <p>Continua con la creación de tu plan</p>\r\n          </>\r\n        ))}\r\n      {onNewDate && (\r\n        <>\r\n          <hr className=\"mt-2 mb-3\"></hr>\r\n          <div\r\n            onClick={e => onNewDate(idPlan)}\r\n            style={{ cursor: 'pointer' }}\r\n            className=\"d-flex\"\r\n          >\r\n            <p>\r\n              <Link to=\"#\">Agrega una nueva fecha</Link>\r\n            </p>\r\n            <IconButton\r\n              aria-label=\"go\"\r\n              style={{ borderRadius: 'unset', backgroundColor: 'unset' }}\r\n              className=\"h-100 ml-auto p-0\"\r\n              size=\"medium\"\r\n            >\r\n              <Right fontSize=\"inherit\" />\r\n            </IconButton>\r\n          </div>\r\n          <hr className=\"mt-3 mb-1\"></hr>\r\n        </>\r\n      )}\r\n      {(onEdit || onWatch || onDelete) && (\r\n        <CardActions className=\"px-0\">\r\n          {onEdit && (\r\n            <Link\r\n              color=\"default\"\r\n              className=\"mr-2\"\r\n              onClick={e => onEdit(idPlan)}\r\n            >\r\n              {isInfoCompleted ? 'Editar' : 'Continuar'}\r\n            </Link>\r\n          )}\r\n          {isInfoCompleted == 1 && onWatch && (\r\n            <Link\r\n              color=\"default\"\r\n              className=\"mr-2\"\r\n              onClick={e => onWatch(idPlan)}\r\n            >\r\n              Ver\r\n            </Link>\r\n          )}\r\n          {onDelete && (\r\n            <Link\r\n              color=\"default\"\r\n              className=\"mr-2\"\r\n              onClick={e => onDelete(idPlan)}\r\n            >\r\n              Eliminar\r\n            </Link>\r\n          )}\r\n        </CardActions>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst DangerChip = withStyles(theme => ({\r\n  root: {\r\n    color: status.danger,\r\n    backgroundColor: theme.palette.getContrastText(status.danger),\r\n    borderColor: status.danger,\r\n  },\r\n}))(Chip);\r\n\r\nPlanCard.propTypes = {\r\n  idPlan: PropTypes.number,\r\n  plan: PropTypes.string,\r\n  descripcion: PropTypes.string,\r\n  agencia: PropTypes.string,\r\n  ciudad: PropTypes.string,\r\n  logoAgencia: PropTypes.string,\r\n  foto: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default PlanCard;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst EntityFrame = ({ title, button: Button, children }) => {\r\n  let content = '';\r\n\r\n  if (title && Button) {\r\n    content = (\r\n      <div className=\"d-flex\" style={{ marginBottom: '3rem' }}>\r\n        <h3>{title}</h3>\r\n        {Button}\r\n      </div>\r\n    );\r\n  } else if (title) {\r\n    content = <h2 className=\"align-items-center mt-4 mb-1\">{title}</h2>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {content}\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nEntityFrame.propTypes = {\r\n  title: PropTypes.string,\r\n};\r\n\r\nexport default EntityFrame;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport PlanCard from './PlanCard';\r\n\r\nimport DummyCards from '../common/cards/DummyCards';\r\nimport EntityFrame from '../common/wrappers/EntityFrame';\r\nimport SyncIcon from '@material-ui/icons/Sync';\r\nimport TimeAgo from 'react-timeago';\r\nimport Button from '../common/inputs/Button';\r\nimport moment from 'moment';\r\n\r\nconst PlanList = ({\r\n  planes,\r\n  lastSync,\r\n  onSync,\r\n  onClickPlanner,\r\n  onClick,\r\n  showCardHeader,\r\n  showStatus,\r\n  onNewDate,\r\n  onEdit,\r\n  onWatch,\r\n  onDelete,\r\n  title,\r\n  loading,\r\n  cols,\r\n  dummySize,\r\n  button,\r\n}) => {\r\n  let [elemIni, setElemIni] = useState(0);\r\n\r\n  if (!planes) {\r\n    planes = [];\r\n  }\r\n\r\n  if (!cols) {\r\n    cols = 'col-sm-12 col-md-4 col-lg-3 col-xl-3';\r\n  }\r\n\r\n  let ToShow;\r\n\r\n  if (loading) {\r\n    // ON LOADING\r\n    ToShow = <DummyCards size={dummySize} cols={cols} />;\r\n  } else if (planes.length === 0) {\r\n    // NO EXISTEN CIUDADES\r\n    ToShow = (\r\n      <div className=\"card w-100\">\r\n        <div className=\"card-body\">\r\n          <h1 className=\"text-center\">\r\n            <i className=\"far fa-sticky-note\" />\r\n          </h1>\r\n          <p className=\"text-center\">No existen planes para mostrar</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    ToShow = planes.map(plan => {\r\n      return (\r\n        <div className={'my-1 ' + cols} key={plan.idPlan}>\r\n          <PlanCard\r\n            {...plan}\r\n            showCardHeader={showCardHeader}\r\n            showStatus={showStatus}\r\n            onClickPlanner={onClickPlanner}\r\n            onClick={onClick}\r\n            onNewDate={onNewDate}\r\n            onEdit={onEdit}\r\n            onWatch={onWatch}\r\n            onDelete={onDelete}\r\n          />\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <EntityFrame title={title} button={button}>\r\n      <div className=\"row flex\">{ToShow}</div>\r\n    </EntityFrame>\r\n  );\r\n};\r\n\r\nPlanList.propTypes = {\r\n  loading: PropTypes.bool,\r\n  title: PropTypes.string,\r\n  planes: PropTypes.array,\r\n  addAction: PropTypes.func,\r\n  onClick: PropTypes.func,\r\n  cols: PropTypes.string,\r\n};\r\n\r\nexport default PlanList;\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  appBar: {\r\n    position: 'relative',\r\n    // background: 'white',\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function FullModal({ isOpen, children, onClose }) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Dialog\r\n      fullScreen\r\n      open={isOpen}\r\n      onClose={onClose}\r\n      TransitionComponent={Transition}\r\n    >\r\n      <AppBar className={classes.appBar}>\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            onClick={onClose}\r\n            aria-label=\"close\"\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      {children}\r\n    </Dialog>\r\n  );\r\n}\r\n","import React, { Component, createRef } from 'react';\r\nconst GOOGLE_MAP_API_KEY = 'AIzaSyB0gLcuepbnqwTpe66w0IW2IIavCxP83Rw';\r\nclass MapContainer extends Component {\r\n  googleMapRef = React.createRef();\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.createGoogleMap = this.createGoogleMap.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { center = {}, onCenterChange } = this.props;\r\n\r\n    const googleMapScript = document.createElement('script');\r\n    googleMapScript.src = `https://maps.googleapis.com/maps/api/js?key=${GOOGLE_MAP_API_KEY}&libraries=places`;\r\n    window.document.body.appendChild(googleMapScript);\r\n\r\n    googleMapScript.addEventListener('load', () => {\r\n      this.googleMap = this.createGoogleMap();\r\n\r\n      this.marker = this.createMarker(\r\n        center.lat || -0.3830876,\r\n        center.lng || -90.983792\r\n      );\r\n\r\n      this.eventOnChange = this.googleMap.addListener(\r\n        'center_changed',\r\n        () => onCenterChange && onCenterChange(this.googleMap.getCenter())\r\n      );\r\n    });\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { onCenterChange } = this.props;\r\n\r\n    if (this.eventOnChange) {\r\n      this.eventOnChange.remove();\r\n      this.eventOnChange = this.googleMap.addListener(\r\n        'center_changed',\r\n        () => onCenterChange && onCenterChange(this.googleMap.getCenter())\r\n      );\r\n    }\r\n\r\n    if (this.googleMap) {\r\n      this.googleMap.setZoom(this.props.zoom);\r\n    }\r\n\r\n    if (this.marker) {\r\n      this.marker.setPosition(this.props.center);\r\n    }\r\n  }\r\n\r\n  createGoogleMap = () => {\r\n    const { center = {}, zoom } = this.props;\r\n\r\n    return new window.google.maps.Map(this.googleMapRef.current, {\r\n      zoom: zoom || 8,\r\n      center: {\r\n        lat: center.lat || -0.3830876,\r\n        lng: center.lng || -90.983792,\r\n      },\r\n      // disableDefaultUI: true,\r\n    });\r\n  };\r\n\r\n  createMarker = (lat, lng) => {\r\n    return new window.google.maps.Marker({\r\n      position: { lat, lng },\r\n      map: this.googleMap,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        id=\"google-map\"\r\n        ref={this.googleMapRef}\r\n        style={{ width: '100%', height: '100%' }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default MapContainer;\r\n","import React, { useState, useContext, useRef } from 'react';\r\nimport clsx from 'clsx';\r\nimport { DatePicker } from '@material-ui/pickers';\r\nimport { withStyles, makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport {\r\n  MuiPickersContext,\r\n  MuiPickersUtilsProvider,\r\n} from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/moment';\r\nimport moment from 'moment';\r\nimport styled from 'styled-components';\r\nimport { palette, MEDIA_SCREENS } from '../../../theme';\r\n\r\nlet Calendar = ({\r\n  classes,\r\n  value,\r\n  datesChecked = [],\r\n  onChange,\r\n  format,\r\n  emptyLabel,\r\n  onClose,\r\n  ...props\r\n}) => {\r\n  let dates = datesChecked;\r\n\r\n  function renderDay(day, selectedDate, dayInCurrentMonth, dayComponent) {\r\n    const Day = () =>\r\n      React.cloneElement(dayComponent, {\r\n        onClick: e => {\r\n          e.stopPropagation();\r\n          const i = dates.findIndex(d => moment(day).isSame(d, 'day'));\r\n          if (i >= 0) {\r\n            const nextDates = [...dates];\r\n            nextDates.splice(i, 1);\r\n            // setDates(nextDates);\r\n          } else {\r\n            // setDates([...dates, day]);\r\n          }\r\n\r\n          onChange && onChange(moment(day));\r\n        },\r\n        selected: !!dates.find(d => moment(day).isSame(d, 'day')),\r\n        className: clsx(classes.day, {\r\n          [classes.hidden]: dayComponent.props.hidden,\r\n          [classes.current]: dayComponent.props.current,\r\n          [classes.isTrip]: (() => {\r\n            if (dates && dates.length > 0) {\r\n              return dates.find(date => moment(date).isSame(day, 'day'));\r\n            } else return false;\r\n          })(),\r\n          [classes.isSelected]: moment(day).isSame(moment(value), 'day'),\r\n        }),\r\n      });\r\n\r\n    if (moment(day).isSame(value, 'day')) {\r\n      return (\r\n        <SelectedDay>\r\n          <Day />\r\n        </SelectedDay>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Day />\r\n      </div>\r\n    );\r\n  }\r\n  //   const formatDate = date => utils.format(date, format || utils.dateFormat);\r\n  const formatDate = 'DD-MM-YYYY';\r\n\r\n  return (\r\n    <Wrapper>\r\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <DatePicker\r\n          {...props}\r\n          variant=\"static\"\r\n          autoOk\r\n          orientation=\"landscape\"\r\n          disableToolbar\r\n          value={value}\r\n          renderDay={renderDay}\r\n        />\r\n      </MuiPickersUtilsProvider>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport const styles = theme => {\r\n  // const base = makeStyles(theme);\r\n  // const base = useTheme();\r\n  return {\r\n    // ...base,\r\n    isDisabled: {\r\n      textDecoration: 'line-through',\r\n      opacity: 0.7,\r\n      '&:hover': {\r\n        cursor: 'unset',\r\n        background: 'rgba(0,0,0,0)',\r\n      },\r\n    },\r\n    isTrip: {\r\n      backgroundColor: '#009ada21',\r\n      color: palette.primary.main,\r\n      fontWeight: 'bold',\r\n    },\r\n    isSelected: {\r\n      backgroundColor: palette.primary.main,\r\n      color: palette.primary.contrastText,\r\n    },\r\n    day: {\r\n      // ...base.day,\r\n      // color: '#ffffff',\r\n      // fontWeight: 500,\r\n      // backgroundColor: '#343a40ed',\r\n      // margin: 0,\r\n      width: '2.5rem',\r\n      height: '2.5rem',\r\n      borderRadius: '5%',\r\n    },\r\n  };\r\n};\r\n\r\nexport default withStyles(styles, { name: 'Calendar' })(Calendar);\r\n\r\n// trabajar responsive\r\nconst Wrapper = styled.div`\r\n  // @media only screen and (min-width: ${MEDIA_SCREENS.MEDIUM.FROM + 'px'}) {\r\n  //   height: 100vh;\r\n  //   overflow-y: scroll;\r\n  // }\r\n  .MuiPickersBasePicker-pickerView {\r\n    transform: scale(2);\r\n    transform-origin: 0 0;\r\n  }\r\n  .MuiPickersStaticWrapper-staticWrapperRoot {\r\n    overflow: unset;     \r\n  }  \r\n  // zoom: 2;\r\n`;\r\n\r\nconst SelectedDay = styled.div`\r\n  .MuiPickersDay-daySelected {\r\n    color: #ffffff;\r\n    font-weight: 500;\r\n    background-color: #343a40ed;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport Button from '../common/inputs/Button';\r\n\r\nconst ChooseDateItem = ({\r\n  idSalida,\r\n  feSalida,\r\n  horaInicio,\r\n  horaFin,\r\n  ocupados,\r\n  cupos,\r\n  onClickFecha,\r\n}) => {\r\n  let left;\r\n  let avalible;\r\n\r\n  if (ocupados === cupos) {\r\n    left = 'No available left.';\r\n    avalible = false;\r\n  } else {\r\n    left = `${cupos - ocupados} of ${cupos} spots left.`;\r\n    avalible = true;\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-100 mb-4\">\r\n      <h3 className=\"mb-1\">{moment(feSalida).format('ddd[,] DD MMM YYYY')}</h3>\r\n      <hr className=\"w-100\"></hr>\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <p className=\"mb-1\">\r\n            {moment(horaInicio).format('hh:mm A')} {' - '}\r\n            {moment(horaFin).format('hh:mm A')}\r\n          </p>\r\n          <p>{left}</p>\r\n        </div>\r\n        {onClickFecha && (\r\n          <div className=\"col m-auto text-center\">\r\n            <Button\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              onClick={() => onClickFecha({ idSalida, fecha: feSalida })}\r\n              disabled={!avalible}\r\n            >\r\n              Choose\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <hr className=\"w-100\"></hr>\r\n    </div>\r\n  );\r\n};\r\n\r\nChooseDateItem.propTypes = {\r\n  fecha: PropTypes.string,\r\n  horaInicio: PropTypes.string,\r\n  horaFin: PropTypes.string,\r\n  ocupados: PropTypes.number,\r\n  cupos: PropTypes.number,\r\n};\r\n\r\nexport default ChooseDateItem;\r\n","import React, { useState } from 'react';\r\nimport FullModal from '../common/modals/FullModal';\r\nimport MapContainer from '../common/MapContainer';\r\nimport moment from 'moment';\r\nimport ImageCard from '../common/cards/ImageCard';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { MEDIA_SCREENS } from '../../theme';\r\nimport Calendar from '../common/calendar/Calendar';\r\nimport Section from '../common/wrappers/Section';\r\nimport ChooseDateItem from './ChooseDateItem';\r\nimport Button from '../common/inputs/Button';\r\n\r\nexport default function PlanDetailModal({ isOpen, plan, onClose }) {\r\n  const [selectedDate, setSelectedDate] = useState(moment());\r\n\r\n  const {\r\n    idPlan,\r\n    feSalida,\r\n    urlFoto,\r\n    plan: planDescription,\r\n    ciudad,\r\n    descripcion,\r\n    latitud,\r\n    longitud,\r\n    horaInicio,\r\n    horaSalida,\r\n  } = plan;\r\n\r\n  let fechasViajes = plan.fechas\r\n    ? plan.fechas.map(fecha => moment(fecha.fecha))\r\n    : [];\r\n\r\n  let viajes = plan.fechas\r\n    ? plan.fechas.filter(fecha =>\r\n        moment(fecha.fecha).isSame(selectedDate, 'day')\r\n      )\r\n    : [];\r\n\r\n  return (\r\n    <FullModal isOpen={isOpen} onClose={onClose}>\r\n      <div className=\"row p-0 m-0\">\r\n        <Detalle className=\"col-sm-12 col-md-3 mt-4\">\r\n          <ImageCard\r\n            onClick={() => window.open('/plan/' + idPlan, '_newtab')}\r\n            image={urlFoto}\r\n            title={planDescription}\r\n            subtitle={ciudad}\r\n            description={descripcion}\r\n          />\r\n          {/* <hr></hr>\r\n          <p>\r\n            <Link>Contact agency</Link>\r\n          </p> */}\r\n        </Detalle>\r\n        <div className=\"col-sm-12 col-md-9 p-0 m-0\" style={{ height: '100vh' }}>\r\n          <div className=\"container page mt-4\">\r\n            <Section>\r\n              <h1>Próximas fechas</h1>\r\n              <p>\r\n                Estas son las próximas fechas que tienes previsto realizar este\r\n                viaje\r\n              </p>\r\n              <div className=\"row\">\r\n                <div className=\"col\">\r\n                  <Calendar\r\n                    datesChecked={fechasViajes}\r\n                    format={'DD-MM-YYYY'}\r\n                    onChange={date => setSelectedDate(moment(date))}\r\n                  ></Calendar>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <div className=\"row p-0 m-0\">\r\n                    {viajes.length > 0 ? (\r\n                      viajes.map(date => (\r\n                        <div className=\"col-12 p-0 m-0\">\r\n                          <ChooseDateItem\r\n                            key={moment(date.fecha).format('DDMMYYY')}\r\n                            {...date}\r\n                            // onClickFecha={onClickFecha}\r\n                          />\r\n                        </div>\r\n                      ))\r\n                    ) : (\r\n                      <>\r\n                        <h3 className=\"mb-1\">\r\n                          {moment(selectedDate).format('ddd[,] DD MMM YYYY')}\r\n                        </h3>\r\n                        <hr className=\"w-100\"></hr>\r\n                        <p>No tienes viajes planificados para este día.</p>\r\n                        <hr className=\"w-100\"></hr>\r\n                      </>\r\n                    )}\r\n                    <div className=\"col-12 p-0 m-0\">\r\n                      <Button className=\"btn btn-block\">\r\n                        Crear un nuevo viaje\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Section>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </FullModal>\r\n  );\r\n}\r\n\r\nconst Detalle = styled.div`\r\n  @media only screen and (min-width: ${MEDIA_SCREENS.MEDIUM.FROM + 'px'}) {\r\n    height: 100vh;\r\n    overflow-y: scroll;\r\n  }\r\n`;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Section from '../../../components/common/wrappers/Section';\r\nimport TravelerReviews from '../../../components/plan/TravelerReviews';\r\nimport Rating from 'react-rating';\r\nimport PlanList from '../../../components/plan/PlanList';\r\nimport moment from 'moment';\r\nimport { Avatar } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\nimport PlanDetailModal from '../../../components/plan/PlanDetailModal';\r\n\r\nconst reviews = [\r\n  {\r\n    image:\r\n      'https://miro.medium.com/fit/c/256/256/1*85AoiyLeFdu9Qqhr4niO3Q.jpeg',\r\n    nombre: 'Thian Lopez',\r\n    stars: 4.5,\r\n    fecha: '23 Ago, 2019',\r\n    comentario:\r\n      \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.\",\r\n  },\r\n];\r\n\r\nconst AgencyPage = ({\r\n  match,\r\n  history,\r\n  loadPlan,\r\n  setPlan,\r\n  loadPlanes,\r\n  getPlanner,\r\n  agency,\r\n  plan,\r\n  planes,\r\n  usuario,\r\n  loadingPlanes,\r\n  loadingAgency,\r\n}) => {\r\n  const [isModalOpen, setModalOpen] = useState(false);\r\n  const [planSelected, setPlanSelected] = useState({});\r\n\r\n  useEffect(() => {\r\n    getPlanner(match.params.idPlanner);\r\n    loadPlanes(match.params.idPlanner);\r\n    setPlan({});\r\n  }, []);\r\n\r\n  const onSeeDates = idPlan => {\r\n    let plan = planes.find(plan => plan.idPlan == idPlan);\r\n    setPlan(plan);\r\n\r\n    if (plan.isInfoCompleted) {\r\n      // history.push('/plan/' + idPlan);\r\n      loadPlan(idPlan);\r\n      setModalOpen(true);\r\n    }\r\n  };\r\n\r\n  const onSeeReservation = idPlan => {\r\n    history.push('/reservation/' + idPlan);\r\n  };\r\n\r\n  let isOwnerOfAgency = (() => {\r\n    let returnValue = true;\r\n    if (!usuario) {\r\n      returnValue = false;\r\n    } else if (!usuario.agencia) {\r\n      returnValue = false;\r\n    } else if (usuario.agencia.idPlanner != match.params.idPlanner) {\r\n      returnValue = false;\r\n    }\r\n\r\n    return returnValue;\r\n  })();\r\n\r\n  return (\r\n    <div className=\"container-fluid2 page\">\r\n      <Section>\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-md-3 col-sm-12\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <Avatar\r\n                  className=\"mx-auto\"\r\n                  src={agency.urlLogo}\r\n                  style={{ width: '120px', height: '120px' }}\r\n                />\r\n                <p className=\"my-2 text-center\">\r\n                  {4.5} &nbsp;\r\n                  <Rating\r\n                    initialRating={4.5}\r\n                    fullSymbol={<i className=\"fas fa-star\" />}\r\n                    emptySymbol={<i className=\"far fa-star\" />}\r\n                  />\r\n                </p>\r\n                <hr className=\"w-100\" />\r\n                <p className=\"text-muted\">\r\n                  <span className=\"mx-1\">\r\n                    <i className=\"fas fa-home\"></i>\r\n                  </span>\r\n                  <a href=\"javascript:;\">\r\n                    {agency.ciudad}, {agency.pais}\r\n                  </a>\r\n                </p>\r\n                <p className=\"text-muted\">\r\n                  <span className=\"mx-1\">\r\n                    <i className=\"fas fa-map-marker\"></i>\r\n                  </span>\r\n                  {agency.direccion}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-9 col-sm-12\">\r\n            <h1 className=\"mb-0\">{agency.agencia}</h1>\r\n            <div className=\"d-flex\">\r\n              <div className=\"p-2\">\r\n                <p className=\"text-muted\">\r\n                  Joined on{' '}\r\n                  {agency.feCreacion &&\r\n                    moment(agency.feCreacion).format('YYYY')}\r\n                </p>\r\n              </div>\r\n              {isOwnerOfAgency && (\r\n                <div className=\"p-2\">\r\n                  <Link to=\"/account/agency-info\">Edit agency profile</Link>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <hr className=\"w-100\" />\r\n            <Section>\r\n              <div>\r\n                <PlanList\r\n                  cols=\"col-sm-12 col-md-4 col-lg-4 col-xl-4\"\r\n                  title={`Plans ofered by ${agency.agencia || ''}`}\r\n                  addText=\"Empieza a ofrecer un plan\"\r\n                  addAction={() => history.push('/plan/create')}\r\n                  planes={planes}\r\n                  onClick={idPlan => window.open('/plan/' + idPlan, '_newtab')}\r\n                  loading={loadingPlanes}\r\n                />\r\n              </div>\r\n            </Section>\r\n            <hr className=\"w-100\" />\r\n            <Section>\r\n              <TravelerReviews stars={4} reviews={reviews} />\r\n            </Section>\r\n          </div>\r\n        </div>\r\n      </Section>\r\n      {isModalOpen && (\r\n        <PlanDetailModal\r\n          isOpen={isModalOpen}\r\n          plan={plan}\r\n          onClose={() => setModalOpen(false)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ plannerState, planState, loginState }, props) => {\r\n  const { planner: agency, loadingList: loadingAgency } = plannerState;\r\n  const { plan, planes, loadingList: loadingPlanes } = planState;\r\n  const { usuario } = loginState;\r\n\r\n  return {\r\n    plan,\r\n    usuario,\r\n    agency,\r\n    loadingAgency,\r\n    planes,\r\n    loadingPlanes,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setPlan: plan => dispatch({ type: 'PLAN_CHANGE', plan }),\r\n    loadPlan: idPlan => dispatch({ type: 'PLAN_GET_BY_ID', idPlan }),\r\n    getPlanner: idPlanner => dispatch({ type: 'PLANNER_GET_BY_ID', idPlanner }),\r\n    loadPlanes: idPlanner =>\r\n      dispatch({ type: 'PLANES_GET_BY_PLANNER', idPlanner }),\r\n  };\r\n};\r\n\r\nAgencyPage.propTypes = {};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(AgencyPage);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst Spinner = ({}) => {\r\n  return (\r\n    <div className=\"w-100 text-center\">\r\n      <CircularProgress />\r\n    </div>\r\n  );\r\n};\r\n\r\nSpinner.propTypes = {};\r\n\r\nexport default Spinner;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Input from '../common/inputs/Input';\r\nimport Button from '../common/inputs/Button';\r\n\r\nimport Section from '../common/wrappers/Section';\r\n\r\nclass BasicInfoForm extends Component {\r\n  state = { errors: {} };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    this.setState({ errors: {} });\r\n\r\n    const { plan } = this.props;\r\n    let errors = {};\r\n    let valid = true;\r\n\r\n    if (!plan.plan || plan.plan.trim() === '') {\r\n      valid = false;\r\n      errors = { ...errors, plan: 'The name of the plan is required' };\r\n    }\r\n\r\n    if (!plan.descripcion || plan.descripcion.trim() === '') {\r\n      valid = false;\r\n      errors = {\r\n        ...errors,\r\n        descripcion: 'The description of the plan is required',\r\n      };\r\n    }\r\n\r\n    if (!plan.cupos || Number(plan.cupos) === 0) {\r\n      valid = false;\r\n      errors = {\r\n        ...errors,\r\n        cupos: 'The group size of the plan is required',\r\n      };\r\n    }\r\n\r\n    if (!plan.precio || Number(plan.precio) === 0) {\r\n      valid = false;\r\n      errors = {\r\n        ...errors,\r\n        precio: 'The price of the plan is required',\r\n      };\r\n    }\r\n\r\n    if (!valid) {\r\n      this.setState({ errors });\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(plan);\r\n  }\r\n\r\n  onChange(e) {\r\n    let { plan, onPlanChange } = this.props;\r\n\r\n    plan[e.target.name] = e.target.value;\r\n    onPlanChange(plan);\r\n  }\r\n\r\n  onChangeNumbers(e, name) {\r\n    let { plan, onPlanChange } = this.props;\r\n\r\n    plan[name] = e.target.value;\r\n    onPlanChange(plan);\r\n  }\r\n\r\n  render() {\r\n    const { errors } = this.state;\r\n    const { loading, plan } = this.props;\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit} noValidate>\r\n        <Section\r\n          title=\"Dale un nombre a tu plan\"\r\n          description=\"Hazlo corto, descriptivo y emocionante.\"\r\n          style={{ marginBottom: '4rem' }}\r\n        >\r\n          <Input\r\n            label=\"Nombre del plan\"\r\n            name=\"plan\"\r\n            value={plan.plan}\r\n            onChange={this.onChange}\r\n            error={errors.plan}\r\n          />\r\n        </Section>\r\n        <Section\r\n          title=\"Haz un pequeño resumen de lo que harás\"\r\n          description=\"Describe el plan desde principio a fin, trata de explicar las\r\n            actividades que se realizarán.\"\r\n          style={{ marginBottom: '4rem' }}\r\n        >\r\n          <Input\r\n            label=\"Descripción\"\r\n            name=\"descripcion\"\r\n            multiline={true}\r\n            rows={3}\r\n            value={plan.descripcion}\r\n            onChange={this.onChange}\r\n            error={errors.descripcion}\r\n          />\r\n        </Section>\r\n        <Section\r\n          title=\"Máximo tamaño del grupo\"\r\n          description=\"Piensa en el tamaño del grupo con el que puedas trabajar mejor.\"\r\n          style={{ marginBottom: '4rem' }}\r\n        >\r\n          <Input\r\n            type=\"integer\"\r\n            label=\"Tamaño de grupo\"\r\n            name=\"cupos\"\r\n            value={plan.cupos}\r\n            onChange={e => this.onChangeNumbers(e, 'cupos')}\r\n            error={errors.cupos}\r\n          />\r\n        </Section>\r\n        <Section\r\n          title=\"Configura el precio por pasajero\"\r\n          description=\"El precio de tu plan lo pones tu, según la conveniencia de tu\r\n            negocio.\"\r\n          style={{ marginBottom: '4rem' }}\r\n        >\r\n          <Input\r\n            type=\"decimal\"\r\n            label=\"Precio por pasajero\"\r\n            name=\"precio\"\r\n            value={plan.precio}\r\n            onChange={e => this.onChangeNumbers(e, 'precio')}\r\n            error={errors.precio}\r\n          />\r\n        </Section>\r\n        <Button\r\n          type=\"submit\"\r\n          text=\"Guardar\"\r\n          variant=\"contained\"\r\n          className=\"mr-2\"\r\n          color=\"primary\"\r\n          loading={loading}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nBasicInfoForm.propTypes = {\r\n  plan: PropTypes.object,\r\n  onPlanChange: PropTypes.func,\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default BasicInfoForm;\r\n","import React from 'react';\r\n\r\n// import ErrorSpan from './errorSpan';\r\n\r\nconst File = ({ name, error, onChange, accept, hidden }) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <input\r\n        hidden={hidden}\r\n        id={name}\r\n        name={name}\r\n        type=\"file\"\r\n        onChange={onChange}\r\n        accept={accept}\r\n      />\r\n      {/* {error && <ErrorSpan error={error} />} */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default File;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { FormHelperText } from '@material-ui/core';\r\nimport File from '../common/inputs/File';\r\nimport Button from '../common/inputs/Button';\r\nimport PlanCard from './PlanCard';\r\nimport Section from '../common/wrappers/Section';\r\n\r\nclass MainPictureForm extends Component {\r\n  state = { file: {} };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n\r\n    this.onImageChange = this.onImageChange.bind(this);\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    this.setState({ errors: {} });\r\n\r\n    const { file } = this.state;\r\n    let errors = {};\r\n    let valid = true;\r\n\r\n    if (!file || !file.name) {\r\n      valid = false;\r\n      errors = {\r\n        ...errors,\r\n        file: 'Select a file',\r\n      };\r\n    }\r\n\r\n    if (!valid) {\r\n      this.setState({ errors });\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(file);\r\n  }\r\n\r\n  onChange(e) {\r\n    let { plan, onPlanChange } = this.props;\r\n\r\n    plan[e.target.name] = e.target.value;\r\n    onPlanChange(plan);\r\n  }\r\n\r\n  onImageChange(e) {\r\n    let { plan, onPlanChange, onFileTooBig } = this.props;\r\n\r\n    let file = e.target.files[0];\r\n\r\n    if (!file) return;\r\n\r\n    if (file.size / 1024 / 1024 > 3) {\r\n      return onFileTooBig();\r\n    }\r\n\r\n    let fr = new FileReader();\r\n    fr.readAsDataURL(file);\r\n    fr.onload = e => {\r\n      onPlanChange({ ...plan, urlFoto: fr.result });\r\n    };\r\n\r\n    this.setState({ file });\r\n  }\r\n\r\n  triggerFileInput() {\r\n    // FIXME: no creo que este bien hacer esto\r\n    document.getElementById('file').click();\r\n  }\r\n\r\n  render() {\r\n    const { errors, file } = this.state;\r\n    const { loading, plan } = this.props;\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit} noValidate>\r\n        <Section\r\n          title=\"Agrega una foto de portada para tu plan\"\r\n          description=\"Elige una foto que represente tu plan. Esta es la foto principal, la\r\n            que aparecerá cuando tus pasajeros busquen tu oferta.\"\r\n          style={{ marginBottom: '4rem' }}\r\n        >\r\n          <div className=\"row form-group my-3\">\r\n            <div className=\"col-md-12\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-5 col-sm-12 my-auto\">\r\n                  <p className=\"text-center\">\r\n                    <a\r\n                      href=\"javascript:;\"\r\n                      onClick={this.triggerFileInput}\r\n                      text={(file && file.name) || 'Subir archivo'}\r\n                    >\r\n                      {(file && file.name) || 'Elige una imagen'}\r\n                    </a>\r\n                  </p>\r\n                </div>\r\n                <div className=\"col-md-7 col-sm-12\">\r\n                  <p className=\"text-muted text-center\">Preview</p>\r\n                  <PlanCard {...plan} />\r\n                </div>\r\n              </div>\r\n              <File\r\n                hidden\r\n                name=\"file\"\r\n                value={file && file.name}\r\n                onChange={this.onImageChange}\r\n                accept=\"image/*\"\r\n              />\r\n            </div>\r\n            {errors && (\r\n              <div className=\"col-12\">\r\n                <FormHelperText error>{errors.file}</FormHelperText>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </Section>\r\n        <Button\r\n          type=\"submit\"\r\n          text=\"Guardar\"\r\n          variant=\"contained\"\r\n          className=\"mr-2\"\r\n          color=\"primary\"\r\n          loading={loading}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nMainPictureForm.propTypes = {\r\n  plan: PropTypes.object,\r\n  onPlanChange: PropTypes.func,\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default MainPictureForm;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport NoSsr from '@material-ui/core/NoSsr';\r\nimport {\r\n  InputLabel,\r\n  MenuItem,\r\n  FormHelperText,\r\n  Chip,\r\n  TextField,\r\n  Paper,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport clsx from 'clsx';\r\nimport { emphasize, makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\nimport MSelect from 'react-select';\r\n\r\nfunction inputComponent({ inputRef, ...props }) {\r\n  return <div ref={inputRef} {...props} />;\r\n}\r\n\r\nfunction Control(props) {\r\n  const {\r\n    children,\r\n    innerProps,\r\n    innerRef,\r\n    selectProps: { classes, TextFieldProps },\r\n  } = props;\r\n\r\n  return (\r\n    <TextField\r\n      fullWidth\r\n      InputProps={{\r\n        inputComponent,\r\n        inputProps: {\r\n          className: classes.input,\r\n          ref: innerRef,\r\n          children,\r\n          ...innerProps,\r\n        },\r\n      }}\r\n      {...TextFieldProps}\r\n    />\r\n  );\r\n}\r\n\r\nControl.propTypes = {\r\n  /**\r\n   * Children to render.\r\n   */\r\n  children: PropTypes.node,\r\n  /**\r\n   * The mouse down event and the innerRef to pass down to the controller element.\r\n   */\r\n  innerProps: PropTypes.shape({\r\n    onMouseDown: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n  innerRef: PropTypes.oneOfType([\r\n    PropTypes.oneOf([null]),\r\n    PropTypes.func,\r\n    PropTypes.shape({\r\n      current: PropTypes.any.isRequired,\r\n    }),\r\n  ]).isRequired,\r\n  selectProps: PropTypes.object.isRequired,\r\n};\r\n\r\nfunction Menu(props) {\r\n  return (\r\n    <Paper\r\n      square\r\n      className={props.selectProps.classes.paper}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Paper>\r\n  );\r\n}\r\n\r\nMenu.propTypes = {\r\n  /**\r\n   * The children to be rendered.\r\n   */\r\n  children: PropTypes.element.isRequired,\r\n  /**\r\n   * Props to be passed to the menu wrapper.\r\n   */\r\n  innerProps: PropTypes.object.isRequired,\r\n  selectProps: PropTypes.object.isRequired,\r\n};\r\n\r\nfunction MultiValue(props) {\r\n  return (\r\n    <Chip\r\n      tabIndex={-1}\r\n      label={props.children}\r\n      className={clsx(props.selectProps.classes.chip, {\r\n        [props.selectProps.classes.chipFocused]: props.isFocused,\r\n      })}\r\n      onDelete={props.removeProps.onClick}\r\n      deleteIcon={<CancelIcon {...props.removeProps} />}\r\n    />\r\n  );\r\n}\r\n\r\nMultiValue.propTypes = {\r\n  children: PropTypes.node,\r\n  isFocused: PropTypes.bool.isRequired,\r\n  removeProps: PropTypes.shape({\r\n    onClick: PropTypes.func.isRequired,\r\n    onMouseDown: PropTypes.func.isRequired,\r\n    onTouchEnd: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n  selectProps: PropTypes.object.isRequired,\r\n};\r\n\r\nfunction NoOptionsMessage(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.noOptionsMessage}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nNoOptionsMessage.propTypes = {\r\n  /**\r\n   * The children to be rendered.\r\n   */\r\n  children: PropTypes.node,\r\n  /**\r\n   * Props to be passed on to the wrapper.\r\n   */\r\n  innerProps: PropTypes.object.isRequired,\r\n  selectProps: PropTypes.object.isRequired,\r\n};\r\n\r\nfunction Option(props) {\r\n  return (\r\n    <MenuItem\r\n      ref={props.innerRef}\r\n      selected={props.isFocused}\r\n      component=\"div\"\r\n      style={{\r\n        fontWeight: props.isSelected ? 500 : 400,\r\n      }}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </MenuItem>\r\n  );\r\n}\r\n\r\nOption.propTypes = {\r\n  /**\r\n   * The children to be rendered.\r\n   */\r\n  children: PropTypes.node,\r\n  /**\r\n   * props passed to the wrapping element for the group.\r\n   */\r\n  innerProps: PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    key: PropTypes.string.isRequired,\r\n    onClick: PropTypes.func.isRequired,\r\n    onMouseMove: PropTypes.func.isRequired,\r\n    onMouseOver: PropTypes.func.isRequired,\r\n    tabIndex: PropTypes.number.isRequired,\r\n  }).isRequired,\r\n  /**\r\n   * Inner ref to DOM Node\r\n   */\r\n  innerRef: PropTypes.oneOfType([\r\n    PropTypes.oneOf([null]),\r\n    PropTypes.func,\r\n    PropTypes.shape({\r\n      current: PropTypes.any.isRequired,\r\n    }),\r\n  ]).isRequired,\r\n  /**\r\n   * Whether the option is focused.\r\n   */\r\n  isFocused: PropTypes.bool.isRequired,\r\n  /**\r\n   * Whether the option is selected.\r\n   */\r\n  isSelected: PropTypes.bool.isRequired,\r\n};\r\n\r\nfunction Placeholder(props) {\r\n  const { selectProps, innerProps = {}, children } = props;\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={selectProps.classes.placeholder}\r\n      {...innerProps}\r\n    >\r\n      {children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nPlaceholder.propTypes = {\r\n  /**\r\n   * The children to be rendered.\r\n   */\r\n  children: PropTypes.node,\r\n  /**\r\n   * props passed to the wrapping element for the group.\r\n   */\r\n  innerProps: PropTypes.object,\r\n  selectProps: PropTypes.object.isRequired,\r\n};\r\n\r\nfunction ValueContainer(props) {\r\n  return (\r\n    <div className={props.selectProps.classes.valueContainer}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n}\r\n\r\nValueContainer.propTypes = {\r\n  /**\r\n   * The children to be rendered.\r\n   */\r\n  children: PropTypes.node,\r\n  selectProps: PropTypes.object.isRequired,\r\n};\r\n\r\nconst components = {\r\n  Control,\r\n  Menu,\r\n  MultiValue,\r\n  NoOptionsMessage,\r\n  Option,\r\n  Placeholder,\r\n  ValueContainer,\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    height: 250,\r\n    minWidth: 290,\r\n  },\r\n  input: {\r\n    display: 'flex',\r\n    padding: 0,\r\n    height: 'auto',\r\n  },\r\n  valueContainer: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  chip: {\r\n    margin: theme.spacing(0.5, 0.25),\r\n  },\r\n  chipFocused: {\r\n    backgroundColor: emphasize(\r\n      theme.palette.type === 'light'\r\n        ? theme.palette.grey[300]\r\n        : theme.palette.grey[700],\r\n      0.08\r\n    ),\r\n  },\r\n  noOptionsMessage: {\r\n    padding: theme.spacing(1, 2),\r\n  },\r\n  singleValue: {\r\n    fontSize: 16,\r\n  },\r\n  placeholder: {\r\n    position: 'absolute',\r\n    left: 2,\r\n    bottom: 6,\r\n    fontSize: 16,\r\n  },\r\n  paper: {\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    marginTop: theme.spacing(1),\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  divider: {\r\n    height: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst MultipleSelect = ({\r\n  label,\r\n  name,\r\n  value,\r\n  options,\r\n  groupedOptions,\r\n  closeMenuOnSelect,\r\n  placeholder,\r\n  error,\r\n  onChange,\r\n}) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const selectStyles = {\r\n    input: base => ({\r\n      ...base,\r\n      color: theme.palette.text.primary,\r\n      '& input': {\r\n        font: 'inherit',\r\n      },\r\n    }),\r\n  };\r\n\r\n  options =\r\n    groupedOptions ||\r\n    options.map(option => {\r\n      return { value: option.value, label: option.text };\r\n    });\r\n\r\n  return (\r\n    <div className=\"form-group\">\r\n      {label && <InputLabel htmlFor={name}>{label}</InputLabel>}\r\n      {/* <MSelect\r\n        fullWidth\r\n        className={className}\r\n        multiple\r\n        value={value}\r\n        onChange={onChange}\r\n        input={<Input id=\"select-multiple-chip\" />}\r\n        renderValue={selected => (\r\n          <div>\r\n            {selected.map(value => {\r\n              let option = options.find(x => x.value == value);\r\n              return (\r\n                <Chip\r\n                  key={value}\r\n                  label={option && option.text}\r\n                  style={{ margin: '.3rem' }}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n        inputProps={{\r\n          name,\r\n          id: name,\r\n        }}\r\n        MenuProps={{\r\n          PaperProps: {\r\n            style: {\r\n              maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n              width: 250,\r\n            },\r\n          },\r\n        }}\r\n      >\r\n        {options.map(option => (\r\n          <MenuItem key={option.value} value={option.value}>\r\n            {option.text}\r\n          </MenuItem>\r\n        ))}\r\n      </MSelect> */}\r\n      <NoSsr>\r\n        <MSelect\r\n          closeMenuOnSelect={closeMenuOnSelect}\r\n          classes={classes}\r\n          styles={selectStyles}\r\n          inputId={name}\r\n          name={name}\r\n          components={components}\r\n          TextFieldProps={{\r\n            // label: label,\r\n            InputLabelProps: {\r\n              htmlFor: name,\r\n              shrink: true,\r\n            },\r\n          }}\r\n          placeholder={placeholder}\r\n          options={options || groupedOptions}\r\n          value={value}\r\n          onChange={onChange}\r\n          isMulti\r\n        />\r\n      </NoSsr>\r\n      {error && <FormHelperText error>{error}</FormHelperText>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MultipleSelect;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Button from '../common/inputs/Button';\r\nimport MultipleSelect from '../common/inputs/MultipleSelect';\r\nimport Section from '../common/wrappers/Section';\r\n\r\nclass IncluidosForm extends Component {\r\n  state = { errors: {} };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    this.setState({ errors: {} });\r\n\r\n    const { plan } = this.props;\r\n    let errors = {};\r\n    let valid = true;\r\n\r\n    // if (!plan.plan || plan.plan.trim() === '') {\r\n    //   valid = false;\r\n    //   errors = { ...errors, plan: 'The name of the plan is required' };\r\n    // }\r\n\r\n    if (!valid) {\r\n      this.setState({ errors });\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(plan);\r\n  }\r\n\r\n  onChange(value) {\r\n    if (!value) {\r\n      value = [];\r\n    }\r\n\r\n    let { plan, onPlanChange } = this.props;\r\n\r\n    plan['incluidos'] = value.map(incluido => {\r\n      return { idIncluido: incluido.value, incluido: incluido.label };\r\n    });\r\n    onPlanChange(plan);\r\n  }\r\n\r\n  onChangeNumbers(e, name) {\r\n    let { plan, onPlanChange } = this.props;\r\n\r\n    plan[name] = e.target.value;\r\n    onPlanChange(plan);\r\n  }\r\n\r\n  render() {\r\n    const { errors } = this.state;\r\n    const { loading, plan, incluidosOption } = this.props;\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit} noValidate>\r\n        <Section style={{ marginBottom: '4rem' }}>\r\n          <h2>Agrega detalles de lo que incluye tu plan</h2>\r\n          <p>\r\n            Puedes ofrecer comida y bebidas, equipo especial, o cualquier cosa\r\n            que haga que tus pasajeros se sientan cómodos.\r\n          </p>\r\n          <MultipleSelect\r\n            closeMenuOnSelect={false}\r\n            className=\"mt-2\"\r\n            label=\"Incluye\"\r\n            name=\"incluidos\"\r\n            value={(() => {\r\n              if (plan.incluidos) {\r\n                return plan.incluidos.map(incluido => {\r\n                  return {\r\n                    value: incluido.idIncluido,\r\n                    label: incluido.incluido,\r\n                  };\r\n                });\r\n              }\r\n              return [];\r\n            })()}\r\n            groupedOptions={incluidosOption}\r\n            onChange={this.onChange}\r\n            error={errors.incluidos}\r\n          />\r\n        </Section>\r\n        <Button\r\n          type=\"submit\"\r\n          text=\"Guardar\"\r\n          variant=\"contained\"\r\n          className=\"mr-2\"\r\n          color=\"primary\"\r\n          loading={loading}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nIncluidosForm.propTypes = {\r\n  plan: PropTypes.object,\r\n  onPlanChange: PropTypes.func,\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default IncluidosForm;\r\n","import React from 'react';\r\nimport DateFnsUtils from '@date-io/moment';\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardTimePicker,\r\n} from '@material-ui/pickers';\r\n\r\nimport { FormHelperText } from '@material-ui/core';\r\n\r\nconst Timepicker = ({\r\n  label,\r\n  name,\r\n  value,\r\n  error,\r\n  variant,\r\n  inputVariant,\r\n  onChange,\r\n}) => {\r\n  return (\r\n    <div className=\"form-group mb-0\">\r\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <KeyboardTimePicker\r\n          margin=\"normal\"\r\n          variant={variant}\r\n          inputVariant={inputVariant}\r\n          id={name}\r\n          label={label}\r\n          value={value}\r\n          onChange={onChange}\r\n          inpu\r\n          KeyboardButtonProps={{\r\n            'aria-label': 'change time',\r\n          }}\r\n        />\r\n      </MuiPickersUtilsProvider>\r\n      {error && <FormHelperText error>{error}</FormHelperText>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Timepicker;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Button from '../common/inputs/Button';\r\n\r\nimport Timepicker from '../common/inputs/Timepicker';\r\nimport MultipleSelect from '../common/inputs/MultipleSelect';\r\nimport { FormHelperText } from '@material-ui/core';\r\nimport moment from 'moment';\r\nimport Section from '../common/wrappers/Section';\r\n\r\nconst calcularTiempoPromedio = (itinerario = []) => {\r\n  if (itinerario.length == 0) return 0;\r\n\r\n  let sum = 0;\r\n  itinerario.forEach(itinerarioItem => {\r\n    let horaIni = moment(itinerarioItem.horaInicio);\r\n    let horaFin = moment(itinerarioItem.horaFin);\r\n    sum += horaFin.diff(horaIni, 'hours', true);\r\n  });\r\n\r\n  return sum / itinerario.length;\r\n};\r\n\r\nclass ItineraryForm extends Component {\r\n  state = { errors: {} };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.onChangeSelect = this.onChangeSelect.bind(this);\r\n    this.onChageTime = this.onChageTime.bind(this);\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    this.setState({ errors: {} });\r\n\r\n    const { plan } = this.props;\r\n    let errors = {};\r\n    let valid = true;\r\n\r\n    if (!plan.itinerario || plan.itinerario.length === 0) {\r\n      valid = false;\r\n      errors = { ...errors, itinerario: 'Select almost one day' };\r\n\r\n      this.setState({ errors });\r\n      return;\r\n    }\r\n\r\n    errors.itinerarioList = plan.itinerario.map(itinerario => {\r\n      let error;\r\n\r\n      if (\r\n        moment(itinerario.horaInicio).isSameOrAfter(moment(itinerario.horaFin))\r\n      ) {\r\n        error = 'The start time should be erlier than the end time';\r\n      }\r\n\r\n      return error;\r\n    });\r\n\r\n    if (errors.itinerarioList.find(error => error !== undefined)) {\r\n      valid = false;\r\n    }\r\n\r\n    if (!valid) {\r\n      this.setState({ errors });\r\n      return;\r\n    }\r\n\r\n    let duracion = plan.duracion || calcularTiempoPromedio(plan.itinerario);\r\n\r\n    let itinerario = plan.itinerario.map(itinerario => {\r\n      return {\r\n        ...itinerario,\r\n        horaInicio: moment(itinerario.horaInicio).format('YYYY-MM-DD HH:mm'),\r\n        horaFin: moment(itinerario.horaFin).format('YYYY-MM-DD HH:mm'),\r\n      };\r\n    });\r\n\r\n    this.props.onSubmit({ idPlan: plan.idPlan, duracion, itinerario });\r\n  }\r\n\r\n  onChangeSelect(value) {\r\n    if (!value) {\r\n      value = [];\r\n    }\r\n\r\n    let { plan, diasOption, onPlanChange } = this.props;\r\n\r\n    let itinerario = value.map(day => {\r\n      return {\r\n        idDia: day.value,\r\n        dia: day.label,\r\n        horaInicio: moment(),\r\n        horaFin: moment(),\r\n        orden: diasOption.findIndex(dia => dia.value == day.value),\r\n      };\r\n    });\r\n\r\n    plan['itinerario'] = itinerario.sort((a, b) => a.orden - b.orden);\r\n    onPlanChange(plan);\r\n  }\r\n\r\n  onChageTime(time, tipo, index) {\r\n    let { plan, onPlanChange } = this.props;\r\n    plan.itinerario[index][tipo] = time;\r\n\r\n    let promedioDuracion = calcularTiempoPromedio(plan.itinerario);\r\n    plan.duracion = promedioDuracion.toFixed(2);\r\n    onPlanChange(plan);\r\n  }\r\n\r\n  render() {\r\n    const { errors } = this.state;\r\n    const { loading, plan, diasOption } = this.props;\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit} noValidate>\r\n        <Section style={{ marginBottom: '4rem' }}>\r\n          <h2>What days you offer this plan?</h2>\r\n          <p>\r\n            You choose the days you can offer this plan. Give details of the\r\n            itinerary you have planned for your guests.\r\n          </p>\r\n        </Section>\r\n        <MultipleSelect\r\n          className=\"mt-2\"\r\n          label=\"Days\"\r\n          name=\"itinerario\"\r\n          value={(() => {\r\n            if (plan.itinerario) {\r\n              return plan.itinerario.map(itinerario => {\r\n                return { value: itinerario.idDia, label: itinerario.dia };\r\n              });\r\n            }\r\n            return [];\r\n          })()}\r\n          options={diasOption}\r\n          onChange={this.onChangeSelect}\r\n          error={errors.itinerario}\r\n        />\r\n        {plan.duracion && (\r\n          <div className=\"row\">\r\n            <div className=\"col-12 text-right\">\r\n              <span className=\"badge badge-pill badge-info p-2\">\r\n                Average time {plan.duracion}H\r\n              </span>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {plan.itinerario &&\r\n          plan.itinerario.map((itinerario, index) => (\r\n            <div key={itinerario.idDia} className=\"row form-group\">\r\n              <div className=\"col-md-2 col-sm-12 my-auto\">\r\n                <h3>{itinerario.idDia}</h3>\r\n              </div>\r\n              <div className=\"col-md-5 col-sm-12\">\r\n                <Timepicker\r\n                  label=\"From\"\r\n                  name={`horaInicio${index}`}\r\n                  variant=\"inline\"\r\n                  value={plan.itinerario[index].horaInicio}\r\n                  onChange={time => this.onChageTime(time, 'horaInicio', index)}\r\n                  error={errors.horaInicio}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-5 col-sm-12\">\r\n                <Timepicker\r\n                  label=\"To\"\r\n                  name={`horaFin${index}`}\r\n                  variant=\"inline\"\r\n                  value={plan.itinerario[index].horaFin}\r\n                  onChange={time => this.onChageTime(time, 'horaFin', index)}\r\n                  error={errors.horaFin}\r\n                />\r\n              </div>\r\n              {errors.itinerarioList && errors.itinerarioList[index] && (\r\n                <div className=\"col-12\">\r\n                  <FormHelperText error>\r\n                    {errors.itinerarioList[index]}\r\n                  </FormHelperText>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        <Button\r\n          type=\"submit\"\r\n          text=\"Save\"\r\n          variant=\"contained\"\r\n          className=\"mr-2\"\r\n          color=\"primary\"\r\n          loading={loading}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nItineraryForm.propTypes = {\r\n  plan: PropTypes.object,\r\n  onPlanChange: PropTypes.func,\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default ItineraryForm;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ImageCard from '../common/cards/ImageCard';\r\n\r\nconst LugarCard = ({ idLugar, lugar, ciudad, foto, onClick }) => {\r\n  return (\r\n    <ImageCard\r\n      id={idLugar}\r\n      title={lugar}\r\n      subtitle={ciudad}\r\n      description={'Offered in 4 plans'}\r\n      image={`/assets/img/lugares/${foto}`}\r\n      imgclassName=\"card-img-20\"\r\n      onClick={onClick}\r\n    />\r\n  );\r\n};\r\n\r\nLugarCard.propTypes = {\r\n  idLugar: PropTypes.number,\r\n  lugar: PropTypes.string.isRequired,\r\n  foto: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default LugarCard;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport LugarCard from './LugarCard';\r\n\r\nimport EntityFrame from '../common/wrappers/EntityFrame';\r\nimport DummyCards from '../common/cards/DummyCards';\r\n\r\nconst LugaresList = ({\r\n  lugares,\r\n  addAction,\r\n  editAction,\r\n  deleteAction,\r\n  detailAction,\r\n  title,\r\n  loading,\r\n  cols,\r\n  horizontal,\r\n  showEmpty = false,\r\n  elemsToShow = lugares.length || 4,\r\n}) => {\r\n  let [elemIni, setElemIni] = useState(0);\r\n\r\n  if (!lugares) {\r\n    lugares = [];\r\n  }\r\n\r\n  let lugaresToRender = lugares.filter(\r\n    (lugar, index) => index >= elemIni && index < elemIni + elemsToShow\r\n  );\r\n\r\n  if (!cols) {\r\n    cols = 'col-sm-12 col-md-4 col-lg-2 col-xl-2';\r\n  }\r\n\r\n  let ToShow;\r\n\r\n  if (loading) {\r\n    ToShow = <DummyCards cols={cols} />;\r\n  } else if (lugares.length === 0) {\r\n    ToShow = showEmpty ? (\r\n      <div className=\"card w-100\">\r\n        <div className=\"card-body\">\r\n          <h1 className=\"text-center\">\r\n            <i className=\"far fa-sticky-note\" />\r\n          </h1>\r\n          <p className=\"text-center\">No existen lugares</p>\r\n        </div>\r\n      </div>\r\n    ) : null;\r\n  } else if (!horizontal) {\r\n    ToShow = lugaresToRender.map(lugar => (\r\n      <div\r\n        className={'my-1 ' + cols}\r\n        style={{ display: 'flex' }}\r\n        key={lugar.idLugar}\r\n      >\r\n        <LugarCard {...lugar} landscapeCardImage={lugar.foto} />\r\n      </div>\r\n    ));\r\n  } else {\r\n    ToShow = lugaresToRender.map((lugar, index) => {\r\n      return (\r\n        <div\r\n          className={'my-1 ' + cols}\r\n          style={{ display: 'flex' }}\r\n          key={lugar.idLugar}\r\n        >\r\n          {index == 0 && (\r\n            <div\r\n              style={{ position: 'absolute', top: '50%', left: '0', zIndex: 1 }}\r\n            >\r\n              <button\r\n                onClick={() => {\r\n                  if (elemIni !== 0) {\r\n                    elemIni--;\r\n                    setElemIni(elemIni);\r\n                  }\r\n                }}\r\n                className=\"btn btn-primary btn-icon-only rounded-circle\"\r\n              >\r\n                <i className=\"fas fa-chevron-left\" />\r\n              </button>\r\n            </div>\r\n          )}\r\n          <LugarCard {...lugar} landscapeCardImage={lugar.foto} />\r\n          {index == lugaresToRender.length - 1 && (\r\n            <div style={{ position: 'absolute', top: '50%', right: '0' }}>\r\n              <button\r\n                onClick={() => {\r\n                  if (elemIni + elemsToShow !== lugares.length) {\r\n                    elemIni++;\r\n                    setElemIni(elemIni);\r\n                  }\r\n                }}\r\n                className=\"btn btn-primary btn-icon-only rounded-circle\"\r\n              >\r\n                <i className=\"fas fa-chevron-right\" />\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <EntityFrame title={title} handle={addAction}>\r\n      <div className=\"row flex\">{ToShow}</div>\r\n    </EntityFrame>\r\n  );\r\n};\r\n\r\nLugaresList.propTypes = {\r\n  lugares: PropTypes.array,\r\n  editAction: PropTypes.func,\r\n  deleteAction: PropTypes.func,\r\n  detailAction: PropTypes.func,\r\n};\r\n\r\nexport default LugaresList;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Button from '../common/inputs/Button';\r\nimport MultipleSelect from '../common/inputs/MultipleSelect';\r\nimport LugaresList from '../lugar/LugarList';\r\nimport Section from '../common/wrappers/Section';\r\n\r\nclass LugaresForm extends Component {\r\n  state = { errors: {} };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    this.setState({ errors: {} });\r\n\r\n    const { plan } = this.props;\r\n    let errors = {};\r\n    let valid = true;\r\n\r\n    if (!plan.lugares || plan.lugares.length === 0) {\r\n      valid = false;\r\n      errors = { ...errors, lugares: 'You must select almost one place' };\r\n    }\r\n\r\n    if (!valid) {\r\n      this.setState({ errors });\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit({ idPlan: plan.idPlan, lugares: plan.lugares });\r\n  }\r\n\r\n  onChange(value) {\r\n    if (!value) {\r\n      value = [];\r\n    }\r\n\r\n    let { plan, onPlanChange } = this.props;\r\n\r\n    plan['lugares'] = value.map(lugar => {\r\n      return { idLugar: lugar.value, lugar: lugar.label };\r\n    });\r\n    onPlanChange(plan);\r\n  }\r\n\r\n  render() {\r\n    const { errors } = this.state;\r\n    const { loading, plan, lugaresOption, lugares } = this.props;\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit} noValidate>\r\n        <Section\r\n          title=\"¿En dónde estaremos?\"\r\n          description=\"Elige los luagares a los que vas a estar durante tu plan.\"\r\n          style={{ marginBottom: '4rem' }}\r\n        >\r\n          <MultipleSelect\r\n            closeMenuOnSelect={false}\r\n            className=\"mt-2\"\r\n            label=\"En donde estaremos\"\r\n            name=\"lugares\"\r\n            value={(() => {\r\n              if (plan.lugares) {\r\n                return plan.lugares.map(lugar => {\r\n                  return { value: lugar.idLugar, label: lugar.lugar };\r\n                });\r\n              }\r\n              return [];\r\n            })()}\r\n            groupedOptions={lugaresOption}\r\n            onChange={this.onChange}\r\n            error={errors.lugares}\r\n          />\r\n          <LugaresList\r\n            cols=\"col-md-6 col-sm-12\"\r\n            lugares={lugares.filter(\r\n              lugar =>\r\n                plan.lugares &&\r\n                plan.lugares.find(\r\n                  lugarSelected => lugar.idLugar == lugarSelected.idLugar\r\n                )\r\n            )}\r\n            horizontal={true}\r\n          />\r\n        </Section>\r\n        <Button\r\n          type=\"submit\"\r\n          text=\"Guardar\"\r\n          variant=\"contained\"\r\n          className=\"mr-2\"\r\n          color=\"primary\"\r\n          loading={loading}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nLugaresForm.propTypes = {\r\n  plan: PropTypes.object,\r\n  onPlanChange: PropTypes.func,\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default LugaresForm;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Button from '../common/inputs/Button';\r\nimport MultipleSelect from '../common/inputs/MultipleSelect';\r\nimport Section from '../common/wrappers/Section';\r\n\r\nclass ActividadesForm extends Component {\r\n  state = { errors: {} };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    this.setState({ errors: {} });\r\n\r\n    const { plan } = this.props;\r\n    let errors = {};\r\n    let valid = true;\r\n\r\n    if (!plan.actividades || plan.actividades.length === 0) {\r\n      valid = false;\r\n      errors = {\r\n        ...errors,\r\n        actividades: 'You must specify at least one activity.',\r\n      };\r\n    }\r\n\r\n    if (!valid) {\r\n      this.setState({ errors });\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit({ idPlan: plan.idPlan, actividades: plan.actividades });\r\n  }\r\n\r\n  onChange(value) {\r\n    if (!value) {\r\n      value = [];\r\n    }\r\n\r\n    let { plan, onPlanChange } = this.props;\r\n\r\n    plan['actividades'] = value.map(actividad => {\r\n      return { idActividad: actividad.value, actividad: actividad.label };\r\n    });\r\n    onPlanChange(plan);\r\n  }\r\n\r\n  render() {\r\n    const { errors } = this.state;\r\n    const { loading, plan, actividadesOption } = this.props;\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit} noValidate>\r\n        <Section\r\n          title=\"¿Qué harás?\"\r\n          description=\"Elige las actividades que se podrán relizar en tu plan.\"\r\n          style={{ marginBottom: '4rem' }}\r\n        >\r\n          <MultipleSelect\r\n            closeMenuOnSelect={false}\r\n            className=\"mt-2\"\r\n            label=\"Actividades\"\r\n            name=\"actividades\"\r\n            value={(() => {\r\n              if (plan.actividades) {\r\n                return plan.actividades.map(actividad => {\r\n                  return {\r\n                    value: actividad.idActividad,\r\n                    label: actividad.actividad,\r\n                  };\r\n                });\r\n              }\r\n              return [];\r\n            })()}\r\n            options={actividadesOption}\r\n            onChange={this.onChange}\r\n            error={errors.actividades}\r\n          />\r\n        </Section>\r\n        <Button\r\n          type=\"submit\"\r\n          text=\"Guardar\"\r\n          variant=\"contained\"\r\n          className=\"mr-2\"\r\n          color=\"primary\"\r\n          loading={loading}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nActividadesForm.propTypes = {\r\n  plan: PropTypes.object,\r\n  onPlanChange: PropTypes.func,\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default ActividadesForm;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport BasicInfoForm from './BasicInfoForm';\r\nimport MainPictureForm from './MainPictureForm';\r\nimport IncluidosForm from './IncluidosForm';\r\nimport ItineraryForm from './ItineraryForm';\r\nimport LugaresForm from './LugaresForm';\r\nimport ActividadesForm from './ActividadesForm';\r\nimport { Tabs, Tab, Typography, Box } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\n// import LocationForm from './LocationForm';\r\n// import BrandInfoForm from './BrandInfoForm';\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <Typography\r\n      component=\"div\"\r\n      className=\"w-100\"\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`vertical-tabpanel-${index}`}\r\n      aria-labelledby={`vertical-tab-${index}`}\r\n      {...other}\r\n    >\r\n      <Box p={3}>{children}</Box>\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `vertical-tab-${index}`,\r\n    'aria-controls': `vertical-tabpanel-${index}`,\r\n    className: 'p-4',\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.paper,\r\n    display: 'flex',\r\n    // height: 224,\r\n  },\r\n  tabs: {\r\n    borderRight: `1px solid ${theme.palette.divider}`,\r\n  },\r\n}));\r\n\r\nconst PlanForm = ({\r\n  loading,\r\n  plan,\r\n  step,\r\n  lugares,\r\n  incluidosOption,\r\n  diasOption,\r\n  lugaresOption,\r\n  actividadesOption,\r\n  onPlanChange,\r\n  onChangeStepForm,\r\n  onSubmitBasicInfo,\r\n  onSubmitMainPicture,\r\n  onSubmitIncluidos,\r\n  onSubmitItinerario,\r\n  onSubmitLugares,\r\n  onSubmitActividades,\r\n  onFileTooBig,\r\n}) => {\r\n  // const [tabValue, setTabVAlue] = useState(step || 0);\r\n\r\n  const classes = useStyles();\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    // setTabVAlue(newValue);\r\n    onChangeStepForm(newValue);\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-100\">\r\n      <div className={classes.root}>\r\n        <Tabs\r\n          orientation=\"vertical\"\r\n          variant=\"scrollable\"\r\n          value={step}\r\n          onChange={handleTabChange}\r\n          aria-label=\"Vertical tabs\"\r\n          className={classes.tabs}\r\n        >\r\n          <Tab label=\"Información básica\" {...a11yProps(0)} />\r\n          {/* <Tab hidden={!plan.idPlan} label=\"Itinerary\" {...a11yProps(1)} /> */}\r\n          <Tab hidden={!plan.idPlan} label=\"¿Qué haremos?\" {...a11yProps(1)} />\r\n          <Tab hidden={!plan.idPlan} label=\"¿Qué incluye?\" {...a11yProps(2)} />\r\n          <Tab\r\n            hidden={!plan.idPlan}\r\n            label=\"¿Dónde estaremos?\"\r\n            {...a11yProps(3)}\r\n          />\r\n          <Tab\r\n            hidden={!plan.idPlan}\r\n            label=\"Foto de portada\"\r\n            {...a11yProps(4)}\r\n          />\r\n        </Tabs>\r\n        <TabPanel value={step} index={0}>\r\n          <BasicInfoForm\r\n            loading={loading}\r\n            onSubmit={onSubmitBasicInfo}\r\n            plan={plan}\r\n            onPlanChange={onPlanChange}\r\n          />\r\n        </TabPanel>\r\n        {/* <TabPanel value={tabValue} index={1}>\r\n          <ItineraryForm\r\n            onSubmit={onSubmitItinerario}\r\n            loading={loading}\r\n            diasOption={diasOption}\r\n            plan={plan}\r\n            onPlanChange={onPlanChange}\r\n          />\r\n        </TabPanel> */}\r\n        <TabPanel value={step} index={1}>\r\n          <ActividadesForm\r\n            onSubmit={onSubmitActividades}\r\n            actividadesOption={actividadesOption}\r\n            loading={loading}\r\n            plan={plan}\r\n            onPlanChange={onPlanChange}\r\n          />\r\n        </TabPanel>\r\n        <TabPanel value={step} index={2}>\r\n          <IncluidosForm\r\n            onSubmit={onSubmitIncluidos}\r\n            incluidosOption={incluidosOption}\r\n            loading={loading}\r\n            plan={plan}\r\n            onPlanChange={onPlanChange}\r\n          />\r\n        </TabPanel>\r\n        <TabPanel value={step} index={3}>\r\n          <LugaresForm\r\n            onSubmit={onSubmitLugares}\r\n            loading={loading}\r\n            lugares={lugares}\r\n            lugaresOption={lugaresOption}\r\n            plan={plan}\r\n            onPlanChange={onPlanChange}\r\n          />\r\n        </TabPanel>\r\n        <TabPanel value={step} index={4}>\r\n          <MainPictureForm\r\n            onSubmit={onSubmitMainPicture}\r\n            loading={loading}\r\n            plan={plan}\r\n            onPlanChange={onPlanChange}\r\n            onFileTooBig={onFileTooBig}\r\n          />\r\n        </TabPanel>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nPlanForm.propTypes = {\r\n  usuario: PropTypes.object,\r\n  onPlanChange: PropTypes.func,\r\n  onSubmitBasicInfo: PropTypes.func,\r\n  onCancel: PropTypes.func,\r\n  IncluidosOption: PropTypes.array,\r\n  step: PropTypes.number,\r\n};\r\n\r\nexport default PlanForm;\r\n","import React, { Component, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Section from '../../../components/common/wrappers/Section';\r\nimport TitleDescriptionCard from '../../../components/common/cards/TitleDescriptionCard';\r\nimport Spinner from '../../../components/common/Spinner';\r\nimport PlanForm from '../../../components/plan/PlanForm';\r\nimport Button from '../../../components/common/inputs/Button';\r\nimport SyncIcon from '@material-ui/icons/Sync';\r\nimport TimeAgo from 'react-timeago';\r\nimport moment from 'moment';\r\n\r\nconst createIncluidosOptionGroups = incluidos => {\r\n  let incluidosGroup = [...new Set(incluidos.map(x => x.tipoEs))];\r\n\r\n  const incluidosOption = incluidos.map(incluido => {\r\n    return {\r\n      value: incluido.idIncluido,\r\n      label: incluido.es,\r\n      tipo: incluido.tipoEs,\r\n    };\r\n  });\r\n\r\n  incluidosGroup = incluidosGroup.map(grupo => {\r\n    return {\r\n      label: grupo,\r\n      options: incluidosOption.filter(incluido => incluido.tipo == grupo),\r\n    };\r\n  });\r\n\r\n  return incluidosGroup;\r\n};\r\n\r\nconst createLugaresOptionGroups = lugares => {\r\n  let lugaresGroup = [...new Set(lugares.map(x => x.isla))];\r\n\r\n  const lugaresOption = lugares.map(lugar => {\r\n    return {\r\n      value: lugar.idLugar,\r\n      label: lugar.lugar,\r\n      tipo: lugar.isla,\r\n    };\r\n  });\r\n\r\n  lugaresGroup = lugaresGroup.map(grupo => {\r\n    return {\r\n      label: grupo,\r\n      options: lugaresOption.filter(lugar => lugar.tipo == grupo),\r\n    };\r\n  });\r\n\r\n  return lugaresGroup;\r\n};\r\n\r\nconst PlanCreatePage = ({\r\n  history,\r\n  match,\r\n  loadPlan,\r\n  loadIncluidos,\r\n  loadLugares,\r\n  loadActividades,\r\n  usuario,\r\n  plan,\r\n  loadingList,\r\n  loading,\r\n  lugares,\r\n  incluidosOption,\r\n  lugaresOption,\r\n  actividadesOption,\r\n  changePlan,\r\n  saveBasicInfo,\r\n  saveMainPicture,\r\n  saveIncluidos,\r\n  saveItinerarios,\r\n  saveLugares,\r\n  saveActividades,\r\n  changeStepForm,\r\n  stepForm,\r\n  diasOption,\r\n  showToast,\r\n}) => {\r\n  useEffect(() => {\r\n    initStuff();\r\n  }, []);\r\n\r\n  let initStuff = () => {\r\n    if (match.params.idPlan) {\r\n      loadPlan(match.params.idPlan, plan => {\r\n        if (plan.idPlanner != usuario.agencia.idPlanner) {\r\n          history.push('/404');\r\n        }\r\n      });\r\n    } else {\r\n      changePlan({});\r\n      changeStepForm(0);\r\n    }\r\n\r\n    loadIncluidos();\r\n    loadLugares();\r\n    loadActividades();\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid2\" style={{ marginTop: '6rem' }}>\r\n      <Section\r\n        className=\"my-4\"\r\n        title={match.params.idPlan ? 'Modifica tu plan' : 'Crea un plan'}\r\n        description={'LLena toda la información para vender tu plan'}\r\n        button={\r\n          match.params.idPlan && (\r\n            <Button\r\n              className=\"ml-auto\"\r\n              startIcon={<SyncIcon />}\r\n              text={\r\n                moment(plan.lastSync).isValid() && (\r\n                  <TimeAgo\r\n                    date={moment(plan.lastSync).toDate()}\r\n                    // minPeriod={60}\r\n                  />\r\n                )\r\n              }\r\n              color=\"primary\"\r\n              loading={loadingList}\r\n              onClick={initStuff}\r\n            />\r\n          )\r\n        }\r\n      >\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-md-8 col-sm-12\">\r\n            {loadingList ? (\r\n              <Spinner />\r\n            ) : (\r\n              <PlanForm\r\n                loading={loading}\r\n                plan={plan}\r\n                lugares={lugares}\r\n                incluidosOption={incluidosOption}\r\n                diasOption={diasOption}\r\n                lugaresOption={lugaresOption}\r\n                actividadesOption={actividadesOption}\r\n                onPlanChange={changePlan}\r\n                onChangeStepForm={changeStepForm}\r\n                onSubmitBasicInfo={plan =>\r\n                  saveBasicInfo(\r\n                    {\r\n                      ...plan,\r\n                      idUsuario: usuario.idUsuario,\r\n                      idPlanner: usuario.agencia.idPlanner,\r\n                    },\r\n                    idPlan => history.replace('/plan/create/' + idPlan)\r\n                  )\r\n                }\r\n                onSubmitMainPicture={file =>\r\n                  saveMainPicture(usuario.idUsuario, plan.idPlan, file)\r\n                }\r\n                onSubmitIncluidos={plan =>\r\n                  plan.incluidos ? saveIncluidos(plan) : changeStepForm(3)\r\n                }\r\n                onSubmitItinerario={saveItinerarios}\r\n                onSubmitLugares={saveLugares}\r\n                onSubmitActividades={saveActividades}\r\n                step={stepForm}\r\n                onFileTooBig={() =>\r\n                  showToast('El archivo debe ser menor a 3MB')\r\n                }\r\n              />\r\n            )}\r\n          </div>\r\n          {!loadingList && (\r\n            <div className=\"col-md-4 col-sm-12\">\r\n              {stepForm == 0 && (\r\n                <TitleDescriptionCard\r\n                  icon=\"fas fa-info\"\r\n                  title=\"Información básica\"\r\n                  description=\"Provee detalles básicos acerca del plan que ofreces. Un plan es igual a un tour o un paquete de actividades.\"\r\n                />\r\n              )}\r\n              {stepForm == 1 && (\r\n                <TitleDescriptionCard\r\n                  icon=\"fas fa-hiking\"\r\n                  title=\"Actividades\"\r\n                  description={`Selecciona las actividades que se podrán realizar en tu plan.  Esta es una lista de las actividades permitidas en las islas, descritas en el \"Plan de Manejo de las Áreas protegidas de Galápagos para el BUEN VIVIR\" (2014)`}\r\n                />\r\n              )}\r\n              {stepForm == 2 && (\r\n                <TitleDescriptionCard\r\n                  icon=\"fas fa-toolbox\"\r\n                  title=\"Incluidos\"\r\n                  description=\"Selecciona todo lo que provees en tu plan.\"\r\n                />\r\n              )}\r\n              {stepForm == 3 && (\r\n                <TitleDescriptionCard\r\n                  icon=\"fas fa-map-marked\"\r\n                  title=\"Lugares\"\r\n                  description=\"Selecciona los lugares que vas a visitar en este plan.\"\r\n                />\r\n              )}\r\n              {stepForm == 4 && (\r\n                <TitleDescriptionCard\r\n                  icon=\"fas fa-image\"\r\n                  title=\"Foto de portada\"\r\n                  description=\"Sube una foto de portada para este plan, trata de subir una buena foto, de esta manera tendrás más oportunidad de vender tu plan.\"\r\n                />\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Section>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (\r\n  {\r\n    loginState,\r\n    planState,\r\n    incluidoState,\r\n    diaState,\r\n    lugarState,\r\n    actividadState,\r\n  },\r\n  props\r\n) => {\r\n  const { usuario } = loginState;\r\n  const { plan, loading, loadingList, stepForm } = planState;\r\n  const { incluidos } = incluidoState;\r\n  const { dias } = diaState;\r\n  const { lugares } = lugarState;\r\n  const { actividades } = actividadState;\r\n\r\n  const incluidosOption = createIncluidosOptionGroups(incluidos);\r\n\r\n  const diasOption = dias.map(dia => {\r\n    return { value: dia.idDia, text: dia.dia };\r\n  });\r\n\r\n  const lugaresOption = createLugaresOptionGroups(lugares);\r\n\r\n  const actividadesOption = actividades.map(actividad => {\r\n    return { value: actividad.idActividad, text: actividad.es };\r\n  });\r\n\r\n  return {\r\n    usuario,\r\n    loadingList,\r\n    incluidosOption,\r\n    diasOption,\r\n    lugaresOption,\r\n    actividadesOption,\r\n    lugares,\r\n    loading,\r\n    plan,\r\n    stepForm,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    changePlan: plan => dispatch({ type: 'PLAN_CHANGE', plan }),\r\n    loadPlan: (idPlan, onSuccess) =>\r\n      dispatch({ type: 'PLAN_GET_BY_ID', idPlan, onSuccess }),\r\n    saveBasicInfo: (plan, onSuccess) =>\r\n      dispatch({ type: 'PLAN_BASIC_INFO_SAVE', plan, onSuccess }),\r\n    saveMainPicture: (idUsuario, idPlan, file) =>\r\n      dispatch({ type: 'PLAN_MAIN_PICTURE_SAVE', idUsuario, idPlan, file }),\r\n    saveIncluidos: plan =>\r\n      dispatch({\r\n        type: 'PLAN_INCLUIDOS_SAVE',\r\n        plan,\r\n      }),\r\n    saveItinerarios: plan =>\r\n      dispatch({\r\n        type: 'PLAN_ITINERARIOS_SAVE',\r\n        plan,\r\n      }),\r\n    saveLugares: plan =>\r\n      dispatch({\r\n        type: 'PLAN_LUGARES_SAVE',\r\n        plan,\r\n      }),\r\n    saveActividades: plan =>\r\n      dispatch({\r\n        type: 'PLAN_ACTIVIDADES_SAVE',\r\n        plan,\r\n      }),\r\n    changeStepForm: stepForm => {\r\n      dispatch({\r\n        type: 'PLAN_STEP_FORM_CHANGE',\r\n        stepForm,\r\n      });\r\n    },\r\n    loadDias: () => dispatch({ type: 'DIAS_GET' }),\r\n    loadLugares: () => dispatch({ type: 'LUGARES_GET' }),\r\n    loadIncluidos: () => dispatch({ type: 'INCLUIDOS_GET' }),\r\n    loadActividades: () => dispatch({ type: 'ACTIVIDADES_GET' }),\r\n    showToast: (mensaje, variant) =>\r\n      dispatch({ type: 'SHOW_SNACKBAR', mensaje, variant }),\r\n  };\r\n};\r\n\r\nPlanCreatePage.propTypes = {};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PlanCreatePage);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport LoginRegistroForm from './LoginRegistroForm';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)(props => {\r\n  const { children, classes, onClose } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton\r\n          aria-label=\"close\"\r\n          className={classes.closeButton}\r\n          onClick={onClose}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles(theme => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nfunction LoginModal({ history, showLoginModal, hideModal }) {\r\n  return (\r\n    <Dialog\r\n      onClose={hideModal}\r\n      aria-labelledby=\"customized-dialog-title\"\r\n      open={showLoginModal}\r\n      fullWidth\r\n      maxWidth=\"sm\"\r\n    >\r\n      <DialogTitle id=\"customized-dialog-title\" onClose={hideModal}>\r\n        Login\r\n      </DialogTitle>\r\n      <DialogContent dividers>\r\n        <LoginRegistroForm history={history} />\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = ({ loginState }, props) => {\r\n  const { showLoginModal } = loginState;\r\n  return { showLoginModal };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    hideModal: () => dispatch({ type: 'SHOW_LOGIN_MODAL', show: false }),\r\n  };\r\n};\r\n\r\nLoginModal.propTypes = {};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(LoginModal);\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Input from '../common/inputs/Input';\r\nimport Button from '../common/inputs/Button';\r\n\r\nimport { email, phone } from '../../helpers/validations';\r\n\r\nclass BasicInfoForm extends Component {\r\n  state = { center: { lat: -0.3830876, lng: -90.983792 }, errors: {} };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    this.setState({ errors: {} });\r\n\r\n    const { planner } = this.props;\r\n    let errors = {};\r\n    let valid = true;\r\n\r\n    if (!planner.agencia || planner.agencia.trim() === '') {\r\n      valid = false;\r\n      errors = { ...errors, agencia: 'The name of the agency is required' };\r\n    }\r\n\r\n    if (!planner.about || planner.about.trim() === '') {\r\n      valid = false;\r\n      errors = { ...errors, about: 'Tell something about your agency.' };\r\n    }\r\n\r\n    if (!new RegExp(email).test(planner.correo)) {\r\n      valid = false;\r\n      errors = { ...errors, correo: 'A valid email is required' };\r\n    }\r\n\r\n    if (!new RegExp(phone).test(planner.contacto)) {\r\n      valid = false;\r\n      errors = { ...errors, contacto: 'A valid phone number is required' };\r\n    }\r\n\r\n    if (!valid) {\r\n      this.setState({ errors });\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(planner);\r\n  }\r\n\r\n  onChange(e) {\r\n    let { planner, onPlannerChange } = this.props;\r\n\r\n    planner[e.target.name] = e.target.value;\r\n    onPlannerChange(planner);\r\n  }\r\n\r\n  render() {\r\n    const { errors } = this.state;\r\n    const { loading, planner } = this.props;\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit} noValidate>\r\n        <Input\r\n          label=\"Agency name\"\r\n          name=\"agencia\"\r\n          value={planner.agencia}\r\n          onChange={this.onChange}\r\n          error={errors.agencia}\r\n        />\r\n        <Input\r\n          label=\"About\"\r\n          name=\"about\"\r\n          placeholder=\"Tell something that defines the soul of your agency\"\r\n          multiline={true}\r\n          rows={3}\r\n          value={planner.about}\r\n          onChange={this.onChange}\r\n          error={errors.about}\r\n        />\r\n        <div className=\"row form-group\">\r\n          <div className=\"col-md-6 col-sm-12\">\r\n            <Input\r\n              label=\"Email bussiness\"\r\n              name=\"correo\"\r\n              value={planner.correo}\r\n              onChange={this.onChange}\r\n              error={errors.correo}\r\n            />\r\n          </div>\r\n          <div className=\"col-md-6 col-sm-12\">\r\n            <Input\r\n              label=\"Contact number\"\r\n              name=\"contacto\"\r\n              value={planner.contacto}\r\n              onChange={this.onChange}\r\n              error={errors.contacto}\r\n            />\r\n          </div>\r\n        </div>\r\n        <Button\r\n          type=\"submit\"\r\n          text=\"Save\"\r\n          variant=\"contained\"\r\n          className=\"mr-2\"\r\n          color=\"primary\"\r\n          loading={loading}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nBasicInfoForm.propTypes = {\r\n  planner: PropTypes.object,\r\n  onPlannerChange: PropTypes.func,\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default BasicInfoForm;\r\n","import React from 'react';\r\n\r\nconst BasicInfo = ({ planner }) => {\r\n  return (\r\n    <div className=\"w-100\">\r\n      <h5>Nombre de agencia</h5>\r\n      <p>{planner.agencia}</p>\r\n      <hr className=\"w-100 my-3\"></hr>\r\n      <h5>Acerca de la agencia</h5>\r\n      <p>{planner.about}</p>\r\n      <hr className=\"w-100 my-3\"></hr>\r\n      <div className=\"row form-group\">\r\n        <div className=\"col-md-6 col-sm-12\">\r\n          <h5>Correo</h5>\r\n          <p>{planner.correo}</p>\r\n        </div>\r\n        <div className=\"col-md-6 col-sm-12\">\r\n          <h5>Contacto</h5>\r\n          <p>{planner.contacto}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BasicInfo;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Input from '../common/inputs/Input';\r\nimport Button from '../common/inputs/Button';\r\n\r\nimport { email, phone } from '../../helpers/validations';\r\nimport MapContainer from '../common/MapContainer';\r\nimport Select from '../common/inputs/Select';\r\nimport { FormHelperText } from '@material-ui/core';\r\n\r\nclass LocationForm extends Component {\r\n  state = {\r\n    center: { lat: -0.3830876, lng: -90.983792 },\r\n    zoom: 18,\r\n    errors: {},\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onChangeCenter = this.onChangeCenter.bind(this);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { planner } = this.props;\r\n\r\n    if (!planner.latitud || !planner.longitud) {\r\n      this.getLocation();\r\n    } else {\r\n      this.setState({ zoom: 18 });\r\n    }\r\n  }\r\n\r\n  getLocation() {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(position =>\r\n        this.onChangeCenter({\r\n          lat: () => position.coords.latitude,\r\n          lng: () => position.coords.longitude,\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    this.setState({ errors: {} });\r\n\r\n    const { planner } = this.props;\r\n    let errors = {};\r\n    let valid = true;\r\n\r\n    if (!planner.idCiudad) {\r\n      valid = false;\r\n      errors = { ...errors, idCiudad: 'Select your city location' };\r\n    }\r\n\r\n    if (!planner.direccion || planner.direccion.trim() === '') {\r\n      valid = false;\r\n      errors = { ...errors, direccion: 'Your bussiness address is required' };\r\n    }\r\n\r\n    if (!planner.latitud || !planner.longitud) {\r\n      valid = false;\r\n      errors = {\r\n        ...errors,\r\n        center: 'Select the exact location of your bussiness',\r\n      };\r\n    }\r\n\r\n    if (!valid) {\r\n      this.setState({ errors });\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(planner);\r\n  }\r\n\r\n  onChange(e) {\r\n    let { planner, onPlannerChange } = this.props;\r\n\r\n    planner[e.target.name] = e.target.value;\r\n    onPlannerChange(planner);\r\n  }\r\n\r\n  onChangeCenter(coords) {\r\n    let { planner, onPlannerChange } = this.props;\r\n    const center = { lat: coords.lat(), lng: coords.lng() };\r\n    onPlannerChange({ ...planner, latitud: center.lat, longitud: center.lng });\r\n    this.setState({ center });\r\n  }\r\n\r\n  render() {\r\n    const { errors, zoom } = this.state;\r\n    const { loading, planner, ciudadesOption } = this.props;\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit} noValidate>\r\n        <Select\r\n          className=\"mt-2\"\r\n          label=\"Location\"\r\n          name=\"idCiudad\"\r\n          className=\"\"\r\n          value={planner.idCiudad}\r\n          options={ciudadesOption}\r\n          onChange={this.onChange}\r\n          error={errors.idCiudad}\r\n        />\r\n        <Input\r\n          label=\"Address\"\r\n          name=\"direccion\"\r\n          multiline={true}\r\n          rows={3}\r\n          placeholder={'Write down the address of your agency'}\r\n          value={planner.direccion}\r\n          onChange={this.onChange}\r\n          error={errors.direccion}\r\n        />\r\n        <div className=\"row\" style={{ height: '25rem' }}>\r\n          <div className=\"col-12\">\r\n            <label>Set in the map the right location of your agency</label>\r\n            <MapContainer\r\n              onCenterChange={this.onChangeCenter}\r\n              zoom={zoom}\r\n              center={{ lat: planner.latitud, lng: planner.longitud }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <br />\r\n        {errors.center && (\r\n          <FormHelperText error>{errors.center}</FormHelperText>\r\n        )}\r\n        <br />\r\n        <Button\r\n          type=\"submit\"\r\n          text=\"Save\"\r\n          variant=\"contained\"\r\n          className=\"mr-2\"\r\n          color=\"primary\"\r\n          loading={loading}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nLocationForm.propTypes = {\r\n  planner: PropTypes.object,\r\n  onPlannerChange: PropTypes.func,\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default LocationForm;\r\n","import React from 'react';\r\nimport MapContainer from '../common/MapContainer';\r\n\r\nconst LocationInfo = ({ planner }) => {\r\n  return (\r\n    <div className=\"w-100\">\r\n      <h5>Ciudad</h5>\r\n      <p>{planner.ciudad}</p>\r\n      <hr className=\"w-100 my-3\"></hr>\r\n      <h5>Dirección</h5>\r\n      <p>{planner.direccion}</p>\r\n      <hr className=\"w-100 my-3\"></hr>\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h5>Ubicación en el mapa</h5>\r\n        </div>\r\n        <div className=\"col-12\" style={{ height: '20rem' }}>\r\n          <MapContainer\r\n            center={{ lat: planner.latitud, lng: planner.longitud }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LocationInfo;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Input from '../common/inputs/Input';\r\nimport Button from '../common/inputs/Button';\r\n\r\nimport { email, phone } from '../../helpers/validations';\r\nimport { Avatar, FormHelperText } from '@material-ui/core';\r\nimport File from '../common/inputs/File';\r\n\r\nclass BrandInfoForm extends Component {\r\n  state = { file: {} };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n\r\n    this.onImageChange = this.onImageChange.bind(this);\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    this.setState({ errors: {} });\r\n\r\n    const { file } = this.state;\r\n    let errors = {};\r\n    let valid = true;\r\n\r\n    if (!file || !file.name) {\r\n      valid = false;\r\n      errors = {\r\n        ...errors,\r\n        file: 'Select a file',\r\n      };\r\n    }\r\n\r\n    if (!valid) {\r\n      this.setState({ errors });\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(file);\r\n  }\r\n\r\n  onChange(e) {\r\n    let { planner, onPlannerChange } = this.props;\r\n\r\n    planner[e.target.name] = e.target.value;\r\n    onPlannerChange(planner);\r\n  }\r\n\r\n  onImageChange(e) {\r\n    let { planner, onPlannerChange, onFileTooBig } = this.props;\r\n\r\n    let file = e.target.files[0];\r\n\r\n    if (!file) return;\r\n\r\n    if (file.size / 1024 / 1024 > 3) {\r\n      return onFileTooBig();\r\n    }\r\n\r\n    let fr = new FileReader();\r\n    fr.readAsDataURL(file);\r\n    fr.onload = e => {\r\n      onPlannerChange({ ...planner, urlLogo: fr.result });\r\n    };\r\n\r\n    this.setState({ file });\r\n  }\r\n\r\n  triggerFileInput() {\r\n    // FIXME: no creo que este bien hacer esto\r\n    document.getElementById('file').click();\r\n  }\r\n\r\n  render() {\r\n    const { errors, file } = this.state;\r\n    const { loading, planner } = this.props;\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit} noValidate>\r\n        <div className=\"row form-group my-3\">\r\n          <div className=\"col-md-12\">\r\n            <h2 className=\"text-center my-2 mb-4\">{planner.agencia}</h2>\r\n            {planner.urlLogo ? (\r\n              <Avatar\r\n                src={planner.urlLogo}\r\n                style={{ width: '240px', height: '240px' }}\r\n                className=\"mx-auto\"\r\n              />\r\n            ) : (\r\n              planner.agencia && (\r\n                <Avatar\r\n                  style={{ width: '240px', height: '240px' }}\r\n                  className=\"mx-auto\"\r\n                >\r\n                  <h1>{planner.agencia[0]}</h1>\r\n                </Avatar>\r\n              )\r\n            )}\r\n            <File\r\n              hidden\r\n              name=\"file\"\r\n              value={file && file.name}\r\n              onChange={this.onImageChange}\r\n              accept=\"image/*\"\r\n            />\r\n            <p className=\"my-1 text-center\">\r\n              <a\r\n                href=\"javascript:;\"\r\n                onClick={this.triggerFileInput}\r\n                text={(file && file.name) || 'Subir archivo'}\r\n              >\r\n                {(file && file.name) || 'Elige una imagen'}\r\n              </a>\r\n            </p>\r\n            {errors && <FormHelperText error>{errors.file}</FormHelperText>}\r\n          </div>\r\n        </div>\r\n        <Button\r\n          type=\"submit\"\r\n          text=\"Save\"\r\n          variant=\"contained\"\r\n          className=\"mr-2\"\r\n          color=\"primary\"\r\n          loading={loading}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nBrandInfoForm.propTypes = {\r\n  planner: PropTypes.object,\r\n  onPlannerChange: PropTypes.func,\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default BrandInfoForm;\r\n","import React from 'react';\r\nimport { Avatar } from '@material-ui/core';\r\n\r\nconst BrandInfo = ({ planner }) => {\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-body\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <Avatar\r\n              src={planner.urlLogo}\r\n              style={{ width: '140px', height: '140px' }}\r\n              className=\"mx-auto\"\r\n            />\r\n            <h4 className=\"text-center mt-2\">{planner.agencia}</h4>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BrandInfo;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Section from '../../../components/common/wrappers/Section';\r\nimport TitleDescriptionCard from '../../../components/common/cards/TitleDescriptionCard';\r\nimport Spinner from '../../../components/common/Spinner';\r\nimport BasicInfoForm from '../../../components/agency/BasicInfoForm';\r\nimport BasicInfo from '../../../components/agency/BasicInfo';\r\nimport Button from '../../../components/common/inputs/Button';\r\nimport LocationForm from '../../../components/agency/LocationForm';\r\nimport LocationInfo from '../../../components/agency/LocationInfo';\r\nimport BrandInfoForm from '../../../components/agency/BrandInfoForm';\r\nimport BrandInfo from '../../../components/agency/BrandInfo';\r\nimport { Breadcrumbs, Link, Typography } from '@material-ui/core';\r\n\r\nconst AgencyInfoPage = ({\r\n  history,\r\n  usuario,\r\n  planner,\r\n  loadingList,\r\n  loading,\r\n  changePlanner,\r\n  saveBasicInfo,\r\n  saveLocationInfo,\r\n  saveBrandInfo,\r\n  stepForm,\r\n  ciudadesOption,\r\n  getPlanner,\r\n  loadCiudades,\r\n  showToast,\r\n}) => {\r\n  let [isBasicFormToEdit, setBasicFormToEdit] = useState(false);\r\n  let [isLocationFormToEdit, setLocationFormToEdit] = useState(false);\r\n  let [isBrandFormToEdit, setBrandFormToEdit] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getPlanner(usuario.idUsuario);\r\n    loadCiudades();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container\" style={{ marginTop: '4rem' }}>\r\n      <Section className=\"mt-4\">\r\n        <Breadcrumbs className=\"mb-2\" separator=\" › \" aria-label=\"breadcrumb\">\r\n          <Link\r\n            color=\"inherit\"\r\n            href=\"javascript:;\"\r\n            onClick={() => history.push('/account/settings')}\r\n          >\r\n            Configuración de cuenta\r\n          </Link>\r\n          <Typography color=\"textPrimary\">Información de agencia</Typography>\r\n        </Breadcrumbs>\r\n        <h2>Información de agencia</h2>\r\n      </Section>\r\n      <Section>\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-md-8 col-sm-12\">\r\n            {loadingList ? (\r\n              <Spinner />\r\n            ) : (\r\n              <div className=\"w-100\">\r\n                <div className=\"d-flex mb-4\">\r\n                  <h3>Marca</h3>\r\n                  {!isBrandFormToEdit ? (\r\n                    <Button\r\n                      color=\"primary\"\r\n                      className=\"ml-auto\"\r\n                      onClick={() => {\r\n                        setBrandFormToEdit(true);\r\n                        setBasicFormToEdit(false);\r\n                        setLocationFormToEdit(false);\r\n                      }}\r\n                    >\r\n                      Editar\r\n                    </Button>\r\n                  ) : (\r\n                    <Button\r\n                      color=\"primary\"\r\n                      className=\"ml-auto\"\r\n                      onClick={() => setBrandFormToEdit(false)}\r\n                    >\r\n                      Cancelar\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n                <Section>\r\n                  {!isBrandFormToEdit ? (\r\n                    <BrandInfo planner={planner} />\r\n                  ) : (\r\n                    <BrandInfoForm\r\n                      onSubmit={file =>\r\n                        saveBrandInfo(\r\n                          planner.idUsuario,\r\n                          planner.idPlanner,\r\n                          file,\r\n                          () => setBrandFormToEdit(false)\r\n                        )\r\n                      }\r\n                      loading={loading}\r\n                      planner={planner}\r\n                      onPlannerChange={changePlanner}\r\n                      onFileTooBig={() =>\r\n                        showToast('El archivo debe ser menor a 3MB')\r\n                      }\r\n                    />\r\n                  )}\r\n                </Section>\r\n                <Section>\r\n                  <div className=\"d-flex mb-4\">\r\n                    <h3>Información básica</h3>\r\n                    {!isBasicFormToEdit ? (\r\n                      <Button\r\n                        color=\"primary\"\r\n                        className=\"ml-auto\"\r\n                        onClick={() => {\r\n                          setBasicFormToEdit(true);\r\n                          setBrandFormToEdit(false);\r\n                          setLocationFormToEdit(false);\r\n                        }}\r\n                      >\r\n                        Editar\r\n                      </Button>\r\n                    ) : (\r\n                      <Button\r\n                        color=\"primary\"\r\n                        className=\"ml-auto\"\r\n                        onClick={() => setBasicFormToEdit(false)}\r\n                      >\r\n                        Cancelar\r\n                      </Button>\r\n                    )}\r\n                  </div>\r\n                  {!isBasicFormToEdit ? (\r\n                    <BasicInfo planner={planner} />\r\n                  ) : (\r\n                    <BasicInfoForm\r\n                      loading={loading}\r\n                      onSubmit={planner =>\r\n                        saveBasicInfo(\r\n                          {\r\n                            ...planner,\r\n                            idUsuario: usuario.idUsuario,\r\n                          },\r\n                          () => setBasicFormToEdit(false)\r\n                        )\r\n                      }\r\n                      planner={planner}\r\n                      onPlannerChange={changePlanner}\r\n                    />\r\n                  )}\r\n                </Section>\r\n                <Section>\r\n                  <div className=\"d-flex mb-4\">\r\n                    <h3>Información de ubicación</h3>\r\n                    {!isLocationFormToEdit ? (\r\n                      <Button\r\n                        color=\"primary\"\r\n                        className=\"ml-auto\"\r\n                        onClick={() => {\r\n                          setLocationFormToEdit(true);\r\n                          setBrandFormToEdit(false);\r\n                          setBasicFormToEdit(false);\r\n                        }}\r\n                      >\r\n                        Editar\r\n                      </Button>\r\n                    ) : (\r\n                      <Button\r\n                        color=\"primary\"\r\n                        className=\"ml-auto\"\r\n                        onClick={() => setLocationFormToEdit(false)}\r\n                      >\r\n                        Cancelar\r\n                      </Button>\r\n                    )}\r\n                  </div>\r\n                  {!isLocationFormToEdit ? (\r\n                    <LocationInfo planner={planner} />\r\n                  ) : (\r\n                    <LocationForm\r\n                      onSubmit={planner =>\r\n                        saveLocationInfo(\r\n                          {\r\n                            ...planner,\r\n                          },\r\n                          () => setLocationFormToEdit(false)\r\n                        )\r\n                      }\r\n                      ciudadesOption={ciudadesOption}\r\n                      loading={loading}\r\n                      planner={planner}\r\n                      onPlannerChange={changePlanner}\r\n                    />\r\n                  )}\r\n                </Section>\r\n              </div>\r\n            )}\r\n          </div>\r\n          {!loadingList && (\r\n            <div className=\"col-md-4 col-sm-12\">\r\n              <TitleDescriptionCard\r\n                icon=\"fas fa-info\"\r\n                title=\"What info you shared about your agency\"\r\n                description=\"Provide all the information about your agency\"\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Section>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ loginState, plannerState, ciudadState }, props) => {\r\n  const { usuario } = loginState;\r\n  const { planner, loading, loadingList, stepForm } = plannerState;\r\n  const { ciudades } = ciudadState;\r\n\r\n  const ciudadesOption = ciudades.map(ciudad => {\r\n    return { value: ciudad.idCiudad, text: ciudad.ciudad };\r\n  });\r\n\r\n  return {\r\n    usuario,\r\n    loadingList,\r\n    loading,\r\n    planner,\r\n    stepForm,\r\n    ciudadesOption,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    changePlanner: planner => dispatch({ type: 'PLANNER_CHANGE', planner }),\r\n    getPlanner: (idUsuario, toAgencyPage) =>\r\n      dispatch({ type: 'PLANNER_GET_BY_ID_USUARIO', idUsuario }),\r\n    saveBasicInfo: (planner, onSuccess) =>\r\n      dispatch({ type: 'PLANNER_BASIC_INFO_SAVE', planner, onSuccess }),\r\n    saveLocationInfo: (planner, onSuccess) =>\r\n      dispatch({ type: 'PLANNER_LOCATION_INFO_SAVE', planner, onSuccess }),\r\n    saveBrandInfo: (idUsuario, idPlanner, file, onSuccess) =>\r\n      dispatch({\r\n        type: 'PLANNER_BRAND_INFO_SAVE',\r\n        idUsuario,\r\n        idPlanner,\r\n        file,\r\n        onSuccess,\r\n      }),\r\n    loadCiudades: () => dispatch({ type: 'CIUDADES_GET' }),\r\n    showToast: (mensaje, variant) =>\r\n      dispatch({ type: 'SHOW_SNACKBAR', mensaje, variant }),\r\n  };\r\n};\r\n\r\nAgencyInfoPage.propTypes = {};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(AgencyInfoPage);\r\n","import React, { useState } from 'react';\r\n\r\nimport Input from '../common/inputs/Input';\r\nimport Button from '../common/inputs/Button';\r\n\r\nconst CambiarContrasenaForm = ({ loading, onSubmit }) => {\r\n  let [errors, setErrors] = useState({});\r\n  let [doublePassword, setDoublePassword] = useState({});\r\n\r\n  const _onSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    setErrors({ errors: {} });\r\n\r\n    let errors = {};\r\n    let valid = true;\r\n\r\n    if (!doublePassword.contrasena || doublePassword.contrasena === '') {\r\n      valid = false;\r\n      errors = { ...errors, contrasena1: 'Current password is required' };\r\n    }\r\n\r\n    if (doublePassword.contrasena1 && doublePassword.contrasena1.length < 8) {\r\n      valid = false;\r\n      errors = {\r\n        ...errors,\r\n        contrasena1: 'Password must be at least 8 characters long',\r\n      };\r\n    }\r\n\r\n    if (doublePassword.contrasena1 !== doublePassword.contrasena2) {\r\n      valid = false;\r\n      errors = {\r\n        ...errors,\r\n        contrasena1: 'Passwords must match',\r\n        contrasena2: 'Passwords must match',\r\n      };\r\n    }\r\n\r\n    if (!valid) {\r\n      setErrors({ ...errors });\r\n      return;\r\n    }\r\n    onSubmit(doublePassword);\r\n  };\r\n\r\n  const onInputChange = e => {\r\n    doublePassword[e.target.name] = e.target.value;\r\n    setDoublePassword({ ...doublePassword });\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={_onSubmit} noValidate>\r\n      <Input\r\n        type=\"password\"\r\n        label=\"Contraseña actual\"\r\n        name=\"contrasena\"\r\n        variant=\"outlined\"\r\n        value={doublePassword.contrasena}\r\n        onChange={onInputChange}\r\n        error={errors.contrasena}\r\n      />\r\n      <Input\r\n        type=\"password\"\r\n        label=\"Nueva contraseña\"\r\n        name=\"contrasena1\"\r\n        variant=\"outlined\"\r\n        value={doublePassword.contrasena1}\r\n        onChange={onInputChange}\r\n        error={errors.contrasena1}\r\n      />\r\n      <Input\r\n        type=\"password\"\r\n        label=\"Repite la nueva contraseña\"\r\n        name=\"contrasena2\"\r\n        variant=\"outlined\"\r\n        value={doublePassword.contrasena2}\r\n        onChange={onInputChange}\r\n        error={errors.contrasena2}\r\n      />\r\n      <Button\r\n        type=\"submit\"\r\n        color=\"primary\"\r\n        variant=\"contained\"\r\n        text=\"Actualizar\"\r\n        loading={loading}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CambiarContrasenaForm;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Section from '../../../components/common/wrappers/Section';\r\nimport TitleDescriptionCard from '../../../components/common/cards/TitleDescriptionCard';\r\nimport Button from '../../../components/common/inputs/Button';\r\nimport { Breadcrumbs, Link, Typography } from '@material-ui/core';\r\nimport CambiarContrasenaForm from '../../../components/account/CambiarContrasenaForm';\r\nimport moment from 'moment';\r\n\r\nconst LoginAndSecurityPage = ({\r\n  history,\r\n  loading,\r\n  usuario,\r\n  loadingList,\r\n  cambiarContrasena,\r\n}) => {\r\n  let [isPasswordFormToEdit, setPasswordFormToEdit] = useState(false);\r\n\r\n  return (\r\n    <div className=\"container\" style={{ marginTop: '4rem' }}>\r\n      <Section className=\"mt-4\">\r\n        <Breadcrumbs className=\"mb-2\" separator=\" › \" aria-label=\"breadcrumb\">\r\n          <Link\r\n            color=\"inherit\"\r\n            href=\"javascript:;\"\r\n            onClick={() => history.push('/account/settings')}\r\n          >\r\n            Configuración de cuenta\r\n          </Link>\r\n          <Typography color=\"textPrimary\">\r\n            Inicio de sesión y seguridad\r\n          </Typography>\r\n        </Breadcrumbs>\r\n        <h2>Inicio de sesión y seguridad</h2>\r\n      </Section>\r\n      <Section>\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-md-8 col-sm-12\">\r\n            <div className=\"w-100\">\r\n              <h3 className=\"mb-4\">Login</h3>\r\n              <div className=\"d-flex my-2\">\r\n                <h5>Contraseña</h5>\r\n                {!isPasswordFormToEdit ? (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    className=\"ml-auto\"\r\n                    onClick={() => setPasswordFormToEdit(true)}\r\n                  >\r\n                    Actualizar\r\n                  </Button>\r\n                ) : (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    className=\"ml-auto\"\r\n                    onClick={() => setPasswordFormToEdit(false)}\r\n                  >\r\n                    Cancelar\r\n                  </Button>\r\n                )}\r\n              </div>\r\n              {!isPasswordFormToEdit ? (\r\n                <p>\r\n                  Última vez actualizado{' '}\r\n                  {moment(usuario.feUpdatePassword).format(\r\n                    'ddd[,] DD MMM YYYY'\r\n                  )}\r\n                </p>\r\n              ) : (\r\n                <CambiarContrasenaForm\r\n                  loading={loading}\r\n                  onSubmit={doublePassword =>\r\n                    cambiarContrasena(\r\n                      {\r\n                        ...doublePassword,\r\n                        idUsuario: usuario.idUsuario,\r\n                      },\r\n                      () => setPasswordFormToEdit(false)\r\n                    )\r\n                  }\r\n                />\r\n              )}\r\n            </div>\r\n            <hr className=\"w-100\"></hr>\r\n          </div>\r\n          {!loadingList && (\r\n            <div className=\"col-md-4 col-sm-12\">\r\n              <TitleDescriptionCard\r\n                icon=\"fas fa-key\"\r\n                title=\"Asegura tu cuenta\"\r\n                description=\"Cambia la contraseña de tu cuenta cuando creas necesario.\"\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Section>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ loginState, usuarioState }, props) => {\r\n  const { usuario } = loginState;\r\n  const { loading } = usuarioState;\r\n\r\n  return {\r\n    loading,\r\n    usuario,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    cambiarContrasena: (usuarioContrasena, onSuccess) =>\r\n      dispatch({\r\n        type: 'USUARIO_CHANGE_PASSWORD',\r\n        usuarioContrasena,\r\n        onSuccess,\r\n      }),\r\n  };\r\n};\r\n\r\nLoginAndSecurityPage.propTypes = {};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(LoginAndSecurityPage);\r\n","export const proxyConfig = {\r\n  // url: 'http://localhost:3001',\r\n  url: 'https://api.ecodelivery.org',\r\n};\r\n\r\nexport const gqlproxy = {\r\n  // url: 'localhost:3001:/graphql',\r\n  url: 'http://18.219.227.87/graphql',\r\n};\r\n","import React, { createContext, useState, useEffect } from 'react';\r\nimport { proxyConfig } from '../helpers/proxyConfig';\r\nconst context = createContext(null);\r\n\r\nconst UserProvider = props => {\r\n  const [user, setUser] = useState({});\r\n  useEffect(() => {\r\n    fetch(`${proxyConfig.url}/api/user`)\r\n      .then(res => res.json())\r\n      .then(res => setUser(res))\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n  return <context.Provider value={user}>{props.children}</context.Provider>;\r\n};\r\nUserProvider.context = context;\r\nexport default UserProvider;\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { palette, CSS_FONTS, CSS_HELPERS, MEDIA_SCREENS } from '../../theme';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport { DOTCOM } from '../../constants';\r\n\r\nexport default function MenuBar(props) {\r\n  const [menus, setMenus] = useState([\r\n    {\r\n      titulo: 'Inicio',\r\n      to: '/',\r\n      icon: 'terminal',\r\n    },\r\n    {\r\n      titulo: 'Tutoriales',\r\n      to: '/tutoriales',\r\n      icon: 'book-open',\r\n    },\r\n\r\n    {\r\n      titulo: 'Cursos',\r\n      to: '/cursos',\r\n      icon: 'calendar',\r\n    },\r\n\r\n    {\r\n      titulo: 'Resenas',\r\n      to: '/resenas',\r\n      icon: 'star',\r\n    },\r\n  ]);\r\n\r\n  // HOOK AVANZADO...\r\n  function activeMenu(menus, menu, index) {\r\n    menus.map(function(item) {\r\n      delete item.active;\r\n      return item;\r\n    });\r\n    menus[index] = { ...menu, active: true };\r\n    setMenus([...menus]);\r\n  }\r\n  let active = menus.findIndex(\r\n    item => item.to === props.history.location.pathname\r\n  );\r\n  active = active === -1 ? 0 : active;\r\n  menus[active].active = 'active';\r\n\r\n  return (\r\n    <Container>\r\n      <TabsBar hideTabs={props.hideTabs} showTabs={props.showTabs}>\r\n        <ul>\r\n          {menus.map((menu, index) => (\r\n            <li key={index}>\r\n              <Link\r\n                to={menu.to}\r\n                className={menu.active && 'active'}\r\n                onClick={() => activeMenu(menus, menu, index)}\r\n              >\r\n                <span className=\"lnr lnr-mustache\"></span>\r\n                {/* <FeatherIcon icon={menu.icon} size={24} /> */}\r\n                <TextSm>{menu.titulo}</TextSm>\r\n              </Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </TabsBar>\r\n\r\n      <Navbar>\r\n        <LogoContainer>\r\n          <img src={DOTCOM} alt=\"logo\" />\r\n        </LogoContainer>\r\n\r\n        <MenuList>\r\n          <ul>\r\n            {menus.map((menu, index) => (\r\n              <li key={index}>\r\n                <Link\r\n                  to={menu.to}\r\n                  className={menu.active && 'active'}\r\n                  onClick={() => activeMenu(menus, menu, index)}\r\n                >\r\n                  {/* <FeatherIcon icon={menu.icon} size={27} /> */}\r\n                  <span className=\"lnr lnr-mustache\"></span>\r\n\r\n                  <Text>{menu.titulo}</Text>\r\n                </Link>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </MenuList>\r\n        {/* <OnboardActionsContainer>\r\n                    {props.children}\r\n                </OnboardActionsContainer> */}\r\n      </Navbar>\r\n    </Container>\r\n  );\r\n}\r\n\r\nconst { primary, secondary, dark } = palette;\r\nconst defaultBottom = `border-bottom: 3px solid ${primary.contrastText} !important;`;\r\nconst primaryBottom = `border-bottom: 3px solid ${primary.main} !important;`;\r\n\r\nconst Container = styled.div`\r\n  position: -webkit-sticky; /* Safari */\r\n  position: sticky;\r\n  top: 0;\r\n  margin-bottom: 0.6em;\r\n  z-index: 10;\r\n`;\r\n\r\nconst Text = styled.span`\r\n  font-size: 1.5rem;\r\n  font-weight: 400;\r\n`;\r\nconst TextSm = styled.span`\r\n  font-size: 0.9rem;\r\n  font-weight: 400;\r\n`;\r\n\r\nconst Navbar = styled.div`\r\n  margin: 0 9px 0 9px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  background-color: ${secondary.contrastText};\r\n  ${CSS_HELPERS.BOX_SHADOW}\r\n  ${CSS_HELPERS.ROUNDED}\r\n`;\r\n\r\nconst LogoContainer = styled.div`\r\n    /* ${defaultBottom} */\r\n    ${CSS_HELPERS.CENTER}\r\n    flex:2;\r\n    > img {\r\n         margin: 1.5vh 0 1.5vh 1.5vw;\r\n            width: 12em;   \r\n            @media only screen and (max-width: ${MEDIA_SCREENS.SMALL.TO}px) and (min-width: ${MEDIA_SCREENS.SMALL.FROM}px) {\r\n            margin: 1.8vh 0 1.5vh 0;\r\n            width: 200px;   \r\n        }\r\n    }\r\n\r\n    \r\n`;\r\n\r\nconst MenuList = styled.div`\r\n   @media only screen and (max-width: ${MEDIA_SCREENS.SMALL.TO}px) and (min-width: ${MEDIA_SCREENS.SMALL.FROM}px)  {\r\n        display:none\r\n   }\r\n   & * {\r\n       text-decoration: none !important;\r\n       list-style-type: none !important;\r\n    }\r\n   flex:6; \r\n   > ul {\r\n        font-family:${CSS_FONTS.FONTS.MENU};\r\n        font-size:${CSS_FONTS.SIZES.MENU};\r\n        display:flex;\r\n        flex-direction:row;\r\n        justify-content: space-around;\r\n        padding:0;\r\n        margin:0;\r\n        >li { flex-grow: 1; }\r\n        > li  a{\r\n            /* ${defaultBottom} */\r\n            color:${dark.metalblue};\r\n            display:flex;\r\n            flex-direction:row;\r\n            ${CSS_HELPERS.CENTER}\r\n            padding:1em;\r\n            &:hover{\r\n                /* ${primaryBottom} */\r\n                // background-color:${primary.main};\r\n            }\r\n            &.active{\r\n                /* ${primaryBottom} */\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nconst animationDown = `\r\n-webkit-animation: mover 1s forwards;\r\nanimation: mover 1s forwards;  \r\n@-webkit-keyframes mover {\r\n0% { transform: translateY(0); }\r\n100% { transform: translateY(10vh); }\r\n}\r\n@keyframes mover {\r\n0% { transform: translateY(0); }\r\n100% { transform: translateY(10vh); }\r\n}   \r\n`;\r\n\r\nconst TabsBar = styled.div`\r\n  ${props => props.hideTabs && animationDown}\r\n  z-index: 1;\r\n  @media only screen and (max-width: ${MEDIA_SCREENS.MEDIUM\r\n      .TO}px) and (min-width: ${MEDIA_SCREENS.MEDIUM.FROM}px) {\r\n    display: none;\r\n  }\r\n\r\n  font-family: ${CSS_FONTS.FONTS.MENU};\r\n  font-size: ${CSS_FONTS.SIZES.MENU};\r\n  overflow: hidden;\r\n  position: fixed;\r\n  bottom: 0;\r\n  width: 100%;\r\n  & * {\r\n    text-decoration: none;\r\n    list-style-type: none;\r\n  }\r\n  > ul {\r\n    margin: 0;\r\n    padding: 0;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n    > li {\r\n      flex-grow: 1;\r\n      // margin-left:.9em;\r\n      // margin-right:.9em;\r\n    }\r\n    > li a {\r\n      background-color: ${primary.contrastText};\r\n      color: ${primary.main};\r\n      display: flex;\r\n      flex-direction: column;\r\n      ${CSS_HELPERS.CENTER};\r\n      padding: 0.6em 0 0.6em 0;\r\n      border-top: 3px solid ${primary.contrastText} !important;\r\n      :nth-child(1) {\r\n        font-size: 0.6em;\r\n        font-weight: 600;\r\n      }\r\n\r\n      &:hover {\r\n        border-top: 3px solid ${primary.main} !important;\r\n        background-color: ${primary.main};\r\n        color: ${primary.contrastText};\r\n      }\r\n      &.active {\r\n        border-top: 3px solid ${primary.main} !important;\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { createGlobalStyle } from 'styled-components';\r\nimport { palette, CSS_FONTS } from '.';\r\nconst GlobalStyle = createGlobalStyle`\r\n\r\n@import url(${CSS_FONTS.FONTS_URL.BODY});\r\n@import url(${CSS_FONTS.FONTS_URL.MENU});\r\nhtml {\r\n  height: 100%;\r\n}\r\nbody {\r\n  \r\n    font-family: ${CSS_FONTS.FONTS.BODY};\r\n\r\n  \r\n}\r\nh1, h2, h3, h4, h5, h6 {\r\n    color:${palette.dark.dark};\r\n    margin-block-start: .3em;\r\n    margin-block-end: .3em;\r\n    font-family: 'Poppins', sans-serif;\r\n    overflow-wrap: break-word;\r\n\r\n}\r\n\r\n\r\n\r\n\r\n.navbar-nav .nav-link {\r\n    font-family: ${CSS_FONTS.FONTS.MENU};\r\n    font-size:1.2rem;\r\n    \r\n}\r\n\r\n\r\np{\r\n    font-size:.9em;\r\n    color:${palette.dark.gray};\r\n    margin-block-start: .3em;\r\n    margin-block-end: .3em;\r\n}`;\r\n\r\nexport default GlobalStyle;\r\n","import MenuBar from '../MenuBar';\r\nimport React, { Component } from 'react';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport { palette } from '../../../theme';\r\nimport GlobalStyle from '../../../theme/GlobalStyle';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: palette,\r\n});\r\n\r\nexport default class AppLayout extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hideTabs: false,\r\n    };\r\n    this.listenScrollEvent = this.listenScrollEvent.bind(this);\r\n  }\r\n  listenScrollEvent(e) {\r\n    const window = e.currentTarget;\r\n    if (this.prev > window.scrollY) {\r\n      //UP\r\n      this.setState({ hideTabs: false });\r\n    } else if (this.prev < window.scrollY) {\r\n      //DOWN\r\n      this.setState({ hideTabs: true });\r\n    }\r\n    this.prev = window.scrollY;\r\n  }\r\n  componentDidMount() {\r\n    window.addEventListener('scroll', this.listenScrollEvent);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.listenScrollEvent);\r\n  }\r\n\r\n  render() {\r\n    const { props } = this;\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <GlobalStyle />\r\n\r\n        <div style={props.style}>{props.children}</div>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Input from '../common/inputs/Input';\r\nimport Button from '../common/inputs/Button';\r\nimport Select from '../common/inputs/Select';\r\nimport Datepicker from '../common/inputs/Datepicker';\r\nimport { phone } from '../../helpers/validations';\r\n\r\nconst genderOptions = [\r\n  { value: 'M', text: 'Male' },\r\n  { value: 'F', text: 'Female' },\r\n  { value: 'O', text: 'Other' },\r\n];\r\n\r\nconst PersonalInfoForm = ({ loading, usuario, onSubmit, onUsuarioChange }) => {\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const _onSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    setErrors({});\r\n\r\n    let errors = {};\r\n    let valid = true;\r\n\r\n    if (!usuario.nombre || usuario.nombre.trim() === '') {\r\n      valid = false;\r\n      errors = { ...errors, nombre: 'Name is required' };\r\n    }\r\n\r\n    if (!usuario.apellido || usuario.apellido.trim() === '') {\r\n      valid = false;\r\n      errors = { ...errors, apellido: 'Last name is required' };\r\n    }\r\n\r\n    if (!new RegExp(phone).test(usuario.contacto)) {\r\n      valid = false;\r\n      errors = { ...errors, contacto: 'A valid phone number is required' };\r\n    }\r\n\r\n    if (!usuario.genero || usuario.genero.trim() === '') {\r\n      valid = false;\r\n      errors = { ...errors, genero: 'Your gender is required' };\r\n    }\r\n\r\n    if (!usuario.feNacimiento) {\r\n      valid = false;\r\n      errors = { ...errors, feNacimiento: 'Your date of birth is required' };\r\n    }\r\n\r\n    if (!valid) {\r\n      setErrors(errors);\r\n      return;\r\n    }\r\n\r\n    onSubmit(usuario);\r\n  };\r\n\r\n  const onChange = e => {\r\n    if (e.target) {\r\n      usuario[e.target.name] = e.target.value;\r\n    } else {\r\n      usuario['feNacimiento'] = e.toDate();\r\n    }\r\n    onUsuarioChange(usuario);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={_onSubmit} noValidate>\r\n      <div className=\"row form-group\">\r\n        <div className=\"col-md-6 col-sm-12\">\r\n          <Input\r\n            label=\"Nombre\"\r\n            name=\"nombre\"\r\n            value={usuario.nombre}\r\n            onChange={onChange}\r\n            error={errors.nombre}\r\n          />\r\n        </div>\r\n        <div className=\"col-md-6 col-sm-12\">\r\n          <Input\r\n            label=\"Apellido\"\r\n            name=\"apellido\"\r\n            value={usuario.apellido}\r\n            onChange={onChange}\r\n            error={errors.apellido}\r\n          />\r\n        </div>\r\n      </div>\r\n      <Input\r\n        label=\"Correo personal\"\r\n        name=\"correo\"\r\n        disabled={true}\r\n        value={usuario.correo}\r\n        onChange={onChange}\r\n        error={errors.correo}\r\n      />\r\n      <Input\r\n        label=\"Número de contacto\"\r\n        name=\"contacto\"\r\n        value={usuario.contacto}\r\n        onChange={onChange}\r\n        error={errors.contacto}\r\n      />\r\n      <Select\r\n        label=\"Género\"\r\n        name=\"genero\"\r\n        value={usuario.genero}\r\n        options={genderOptions}\r\n        onChange={onChange}\r\n        error={errors.genero}\r\n      />\r\n      <Datepicker\r\n        label=\"Año de nacimiento\"\r\n        name=\"feNacimiento\"\r\n        variant=\"inline\"\r\n        value={usuario.feNacimiento}\r\n        onChange={onChange}\r\n        error={errors.feNacimiento}\r\n      />\r\n      <Button\r\n        type=\"submit\"\r\n        text=\"Guardar\"\r\n        variant=\"contained\"\r\n        className=\"mr-2 my-4\"\r\n        color=\"primary\"\r\n        loading={loading}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nPersonalInfoForm.propTypes = {\r\n  usuario: PropTypes.object,\r\n  onUsuarioChange: PropTypes.func,\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default PersonalInfoForm;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\n\r\nconst genderOptions = [\r\n  { value: 'M', text: 'Male' },\r\n  { value: 'F', text: 'Female' },\r\n  { value: 'O', text: 'Other' },\r\n];\r\n\r\nconst PersonalInfo = ({ usuario }) => {\r\n  let genero = genderOptions.find(genero => genero.value == usuario.genero);\r\n\r\n  return (\r\n    <div className=\"w-100\">\r\n      <h5>Nombre</h5>\r\n      <p>{`${usuario.nombre} ${usuario.apellido}`}</p>\r\n      <hr className=\"w-100 my-3\"></hr>\r\n      <h5>Correo personal</h5>\r\n      <p>{usuario.correo}</p>\r\n      <hr className=\"w-100 my-3\"></hr>\r\n      <h5>Contacto</h5>\r\n      {usuario.contacto ? (\r\n        <p>{usuario.contacto}</p>\r\n      ) : (\r\n        <p className=\"text-muted\">No provisto</p>\r\n      )}\r\n      <hr className=\"w-100 my-3\"></hr>\r\n      <h5>Género</h5>\r\n      {genero && genero.text ? (\r\n        <p>{genero.text}</p>\r\n      ) : (\r\n        <p className=\"text-muted\">No provisto</p>\r\n      )}\r\n      <hr className=\"w-100 my-3\"></hr>\r\n      <h5>Fecha de nacimiento</h5>\r\n      {usuario.feNacimiento ? (\r\n        <p>{moment(usuario.feNacimiento).format('MMM DD[,] YYYY')}</p>\r\n      ) : (\r\n        <p className=\"text-muted\">No provisto</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonalInfo;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Section from '../../../components/common/wrappers/Section';\r\nimport TitleDescriptionCard from '../../../components/common/cards/TitleDescriptionCard';\r\nimport Button from '../../../components/common/inputs/Button';\r\nimport { Breadcrumbs, Link, Typography } from '@material-ui/core';\r\nimport PersonalInfoForm from '../../../components/usuario/PersonalInfoForm';\r\nimport PersonalInfo from '../../../components/usuario/PersonalInfo';\r\n\r\nconst PersonalInfoPage = ({\r\n  history,\r\n  usuarioSesion,\r\n  usuario,\r\n  usuarioChange,\r\n  saveUsuario,\r\n  loading,\r\n}) => {\r\n  let [isBasicFormToEdit, setBasicFormToEdit] = useState(false);\r\n\r\n  useEffect(() => {\r\n    usuarioChange(usuarioSesion);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container\" style={{ marginTop: '4rem' }}>\r\n      <Section className=\"mt-4\">\r\n        <Breadcrumbs className=\"mb-2\" separator=\" › \" aria-label=\"breadcrumb\">\r\n          <Link\r\n            color=\"inherit\"\r\n            href=\"javascript:;\"\r\n            onClick={() => history.push('/account/settings')}\r\n          >\r\n            Configuración de cuenta\r\n          </Link>\r\n          <Typography color=\"textPrimary\">Información personal</Typography>\r\n        </Breadcrumbs>\r\n        <h2>Información personal</h2>\r\n      </Section>\r\n      <Section>\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-md-8 col-sm-12\">\r\n            <div className=\"w-100\">\r\n              <div className=\"d-flex mb-4\">\r\n                <h3>Información</h3>\r\n                {!isBasicFormToEdit ? (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    className=\"ml-auto\"\r\n                    onClick={() => setBasicFormToEdit(true)}\r\n                  >\r\n                    Editar\r\n                  </Button>\r\n                ) : (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    className=\"ml-auto\"\r\n                    onClick={() => setBasicFormToEdit(false)}\r\n                  >\r\n                    Cancelar\r\n                  </Button>\r\n                )}\r\n              </div>\r\n              <Section>\r\n                {!isBasicFormToEdit ? (\r\n                  <PersonalInfo usuario={usuario} />\r\n                ) : (\r\n                  <PersonalInfoForm\r\n                    loading={loading}\r\n                    usuario={usuario}\r\n                    onUsuarioChange={usuarioChange}\r\n                    onSubmit={usuario => {\r\n                      saveUsuario(\r\n                        {\r\n                          idUsuario: usuario.idUsuario,\r\n                          nombre: usuario.nombre,\r\n                          apellido: usuario.apellido,\r\n                          contacto: usuario.contacto,\r\n                          genero: usuario.genero,\r\n                          feNacimiento: usuario.feNacimiento,\r\n                        },\r\n                        () => setBasicFormToEdit(false)\r\n                      );\r\n                    }}\r\n                  />\r\n                )}\r\n              </Section>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-4 col-sm-12\">\r\n            <TitleDescriptionCard\r\n              icon=\"fas fa-info\"\r\n              title=\"Que información tuya compartes\"\r\n              description=\"Provee la información que deseas compartir con otros\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </Section>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ loginState, usuarioState }, props) => {\r\n  const { usuario: usuarioSesion } = loginState;\r\n  const { loading, usuario } = usuarioState;\r\n\r\n  return {\r\n    usuarioSesion,\r\n    usuario,\r\n    loading,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    usuarioChange: usuario => dispatch({ type: 'USUARIO_CHANGE', usuario }),\r\n    saveUsuario: (usuario, onSuccess) =>\r\n      dispatch({ type: 'USUARIO_SAVE_PERSONAL_INFO', usuario, onSuccess }),\r\n  };\r\n};\r\n\r\nPersonalInfoPage.propTypes = {};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(PersonalInfoPage);\r\n","import { useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nexport default function ScrollToTop({ children }) {\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n\r\n  return children;\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst VerTodos = ({ text, goAction }) => {\r\n  return (\r\n    <div className=\"row col-12 mt-4 mb-2\">\r\n      <a\r\n        className=\"my-auto text-primary\"\r\n        style={{ cursor: 'pointer' }}\r\n        onClick={goAction}\r\n      >\r\n        {text + ' '}\r\n        <i className=\"fas fa-chevron-right\" />\r\n      </a>\r\n    </div>\r\n  );\r\n};\r\n\r\nVerTodos.propTypes = {\r\n  text: PropTypes.string,\r\n  goAction: PropTypes.func,\r\n};\r\n\r\nexport default VerTodos;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport Button from '../common/inputs/Button';\r\nimport TripShortInfoItem from './TripShortInfoItem';\r\nimport DummyCards from '../common/cards/DummyCards';\r\n\r\nconst TripShortInfoList = ({\r\n  loading,\r\n  trips,\r\n  onClickTrip,\r\n  onNewTrip,\r\n  onClickDetail,\r\n  onClickSeeReservation,\r\n  showOccupationSlide,\r\n}) => {\r\n  return (\r\n    <div className=\"row p-0 m-0\">\r\n      {trips.length > 0\r\n        ? trips.map(trip => (\r\n            <div key={trip.idSalida} className=\"col-12 p-0 m-0\">\r\n              <TripShortInfoItem\r\n                {...trip}\r\n                feSalida={trip.feSalida}\r\n                onClick={onClickTrip}\r\n                onDetail={onClickDetail}\r\n                onSeeReservations={onClickSeeReservation}\r\n                showOccupationSlide={showOccupationSlide}\r\n              />\r\n            </div>\r\n          ))\r\n        : !loading && (\r\n            <>\r\n              <p>No tienes viajes planificados para este día.</p>\r\n              <hr className=\"w-100\"></hr>\r\n            </>\r\n          )}\r\n      {loading && (\r\n        <div className=\"col-12 p-0 m-0\">\r\n          <DummyCards size={1} cols=\"col-12\" disablePhoto />\r\n        </div>\r\n      )}\r\n      {onNewTrip && (\r\n        <div className=\"col-12 p-0 m-0\">\r\n          <Button onClick={onNewTrip} className=\"btn btn-block\">\r\n            Agregar una nueva disponibiliad\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nTripShortInfoItem.propTypes = {\r\n  date: PropTypes.object,\r\n  trips: PropTypes.array,\r\n  onClickTrip: PropTypes.func,\r\n  onNewTrip: PropTypes.func,\r\n};\r\n\r\nexport default TripShortInfoList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport Button from '../common/inputs/Button';\r\n\r\nconst OrderRow = ({\r\n  idOrden,\r\n  idWoo,\r\n  idComercio,\r\n  nombre,\r\n  nombreEcobox,\r\n  totalOrden,\r\n  status,\r\n  estado,\r\n  feCreacion,\r\n  onDetail,\r\n  onChangeOrderState,\r\n}) => {\r\n  return (\r\n    <tr>\r\n      <th>{`${idOrden} / ${idWoo}`}</th>\r\n      <td>{nombre}</td>\r\n      {nombreEcobox ? <td>{nombreEcobox}</td> : <td>{'-'}</td>}\r\n      {estado == 'pending' ? (\r\n        <td style={{ color: '#FF4343' }}>{status}</td>\r\n      ) : (\r\n        <td>{status}</td>\r\n      )}\r\n      <td>{moment(feCreacion).format('DD[/]MM[/]YYYY hh:mm A')}</td>\r\n      <td>${(+totalOrden).toFixed(2)}</td>\r\n      <td className=\"text-center\">\r\n        <Button\r\n          type=\"button\"\r\n          onClick={() => onDetail(idOrden)}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n        >\r\n          Detalle\r\n        </Button>{' '}\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nOrderRow.propTypes = {\r\n  idCompra: PropTypes.number,\r\n  pasajero: PropTypes.string,\r\n  cupos: PropTypes.number,\r\n  estado: PropTypes.string,\r\n  feCreacion: PropTypes.string,\r\n  total: PropTypes.number,\r\n  ganancia: PropTypes.number,\r\n};\r\n\r\nexport default OrderRow;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport DummyCards from '../common/cards/DummyCards';\r\nimport OrderRow from './OrderRow';\r\n\r\nconst OrdersTable = ({ orders, onDetail, loading }) => {\r\n  if (!orders) {\r\n    orders = [];\r\n  }\r\n\r\n  let ToShow;\r\n\r\n  if (loading) {\r\n    // ON LOADING\r\n    ToShow = (\r\n      <tr>\r\n        <td colSpan=\"6\" className=\"text-center px-0\">\r\n          <DummyCards cols=\"col-sm-12 px-0\" size={1} disablePhoto />\r\n        </td>\r\n      </tr>\r\n    );\r\n  } else if (orders.length === 0) {\r\n    // NO EXISTEN RESERVACIONES\r\n    ToShow = (\r\n      <tr>\r\n        <td colSpan=\"6\" className=\"text-center\">\r\n          <h5>\r\n            <i className=\"far fa-sticky-note\" />\r\n          </h5>\r\n          <p>No existen pedidos para mostrar.</p>\r\n        </td>\r\n      </tr>\r\n    );\r\n  } else {\r\n    ToShow = orders.map((order, index) => {\r\n      return <OrderRow key={order.idOrden} {...order} onDetail={onDetail} />;\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div class=\"table-responsive\">\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">ID</th>\r\n            <th scope=\"col\">Nombre</th>\r\n            <th scope=\"col\">Ecobox</th>\r\n            <th scope=\"col\">Estado</th>\r\n            <th scope=\"col\">Fecha</th>\r\n            <th scope=\"col\">Total</th>\r\n            <th scope=\"col\"></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>{ToShow}</tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nOrdersTable.propTypes = {\r\n  reservations: PropTypes.array,\r\n  onDetail: PropTypes.func,\r\n  loading: PropTypes.bool,\r\n};\r\n\r\nexport default OrdersTable;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst OrderDetailRow = ({ name, quantity, subtotal, total }) => {\r\n  return (\r\n    <tr>\r\n      <td>{name}</td>\r\n      <td>{quantity}</td>\r\n      <td>{subtotal}</td>\r\n      <td>{total}</td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nOrderDetailRow.propTypes = {\r\n  name: PropTypes.string,\r\n  quantity: PropTypes.string,\r\n  subtotal: PropTypes.string,\r\n  total: PropTypes.string,\r\n};\r\n\r\nexport default OrderDetailRow;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport DummyCards from '../common/cards/DummyCards';\r\nimport OrderDetailRow from './OrderDetailRow';\r\n\r\nconst OrderDetailTable = ({ productos, totalOrden, loading }) => {\r\n  if (!productos) {\r\n    productos = [];\r\n  }\r\n\r\n  let ToShow;\r\n\r\n  if (loading) {\r\n    // ON LOADING\r\n    ToShow = (\r\n      <tr>\r\n        <td colSpan=\"6\" className=\"text-center px-0\">\r\n          <DummyCards cols=\"col-sm-12 px-0\" size={1} disablePhoto />\r\n        </td>\r\n      </tr>\r\n    );\r\n  } else if (productos.length === 0) {\r\n    // NO EXISTEN RESERVACIONES\r\n    ToShow = (\r\n      <tr>\r\n        <td colSpan=\"6\" className=\"text-center\">\r\n          <h5>\r\n            <i className=\"far fa-sticky-note\" />\r\n          </h5>\r\n          <p>No existen productos para mostrar.</p>\r\n        </td>\r\n      </tr>\r\n    );\r\n  } else {\r\n    ToShow = productos.map((producto, index) => {\r\n      return (\r\n        <>\r\n          <OrderDetailRow key={producto.name + index} {...producto} />\r\n          {index + 1 == productos.length && (\r\n            <tr>\r\n              <td colSpan=\"3\">Total</td>\r\n              <td>{Number(totalOrden).toFixed(2)}</td>\r\n            </tr>\r\n          )}\r\n        </>\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div class=\"table-responsive\">\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">Producto</th>\r\n            <th scope=\"col\">Cantidad</th>\r\n            <th scope=\"col\">Precio</th>\r\n            <th scope=\"col\">Total</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>{ToShow}</tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nOrderDetailTable.propTypes = {\r\n  reservations: PropTypes.array,\r\n  onDetail: PropTypes.func,\r\n  loading: PropTypes.bool,\r\n};\r\n\r\nexport default OrderDetailTable;\r\n","import React, { useState } from 'react';\r\nimport FullModal from '../common/modals/FullModal';\r\nimport OrderDetailTable from './OrderDetailTable';\r\nimport Section from '../common/wrappers/Section';\r\nimport Button from '../common/inputs/Button';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { Avatar, CircularProgress } from '@material-ui/core';\r\nimport TitleDescription from '../common/TitleDescription';\r\n\r\nexport default function OrderDetailModal({\r\n  isOpen,\r\n  loading,\r\n  order,\r\n  onClose,\r\n  onChangeOrderState,\r\n  showConfirm,\r\n}) {\r\n  const { productos } = order;\r\n\r\n  return (\r\n    <FullModal isOpen={isOpen} onClose={onClose}>\r\n      <div className=\"container\">\r\n        <Section\r\n          title=\"Detalle del pedido\"\r\n          description=\"Estos son los productos que debes preparar\"\r\n        >\r\n          <div className=\"row\">\r\n            <div className=\"col-sm-12 col-md-4\">\r\n              <h4>Cliente</h4>\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <div className=\"d-flex mb-4\">\r\n                    <Avatar\r\n                      src={order.fotoUsuario}\r\n                      style={{ width: '120px', height: '120px' }}\r\n                    />\r\n                    <div className=\"mr-auto\" style={{ display: 'flex' }}>\r\n                      <div className=\"m-auto\">\r\n                        {order.nombre && (\r\n                          <h5 className=\"text-muted\">{order.nombre}</h5>\r\n                        )}\r\n                        {order.contactoUsuario && (\r\n                          <p className=\"text-muted\">\r\n                            <span className=\"mx-1\">\r\n                              <i class=\"fas fa-phone-square-alt\"></i>\r\n                            </span>\r\n                            <a\r\n                              href={`https://wa.me/${order.contactoUsuario}?text=Hola`}\r\n                            >\r\n                              {order.contactoUsuario}\r\n                            </a>\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-sm-12 col-md-4\">\r\n              <h4>Datos de facturación</h4>\r\n              <TitleDescription\r\n                title=\"Nombre\"\r\n                description={order.invoice?.nombre}\r\n              />\r\n              <TitleDescription\r\n                title=\"Identificación\"\r\n                description={order.invoice?.identificacion}\r\n              />\r\n              <TitleDescription\r\n                title=\"Correo\"\r\n                description={order.invoice?.correo}\r\n              />\r\n              {order.invoice?.contacto && (\r\n                <TitleDescription\r\n                  title=\"Teléfono\"\r\n                  description={order.invoice?.contacto}\r\n                />\r\n              )}\r\n              {order.invoice?.direccion && (\r\n                <TitleDescription\r\n                  title=\"Dirección\"\r\n                  description={order.invoice?.direccion}\r\n                />\r\n              )}\r\n            </div>\r\n            <div className=\"col-sm-12 col-md-4\">\r\n              <h4>Estado</h4>\r\n              <p>{order.status}</p>\r\n              {loading ? (\r\n                <CircularProgress size={24} />\r\n              ) : (\r\n                <>\r\n                  {order.estado == 'pending' && (\r\n                    <>\r\n                      <Button\r\n                        type=\"button\"\r\n                        onClick={() =>\r\n                          showConfirm({\r\n                            titulo: 'Aceptar pedido',\r\n                            mensaje: '¿Estás seguro de aceptar el pedido?',\r\n                            confirmText: 'Aceptar',\r\n                            cancelText: 'Cerrar',\r\n                            onConfirm: () =>\r\n                              onChangeOrderState({\r\n                                idOrden: order.idOrden,\r\n                                idWoo: order.idWoo,\r\n                                idUsuario: order.idUsuario,\r\n                                idComercio: order.idComercio,\r\n                                estado: 'processing',\r\n                              }),\r\n                          })\r\n                        }\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                      >\r\n                        <CheckIcon />\r\n                      </Button>{' '}\r\n                      <Button\r\n                        type=\"button\"\r\n                        onClick={() =>\r\n                          showConfirm({\r\n                            titulo: 'Cancelar pedido',\r\n                            mensaje: '¿Estás seguro de cancelar el pedido?',\r\n                            confirmText: 'Aceptar',\r\n                            cancelText: 'Cerrar',\r\n                            onConfirm: () =>\r\n                              onChangeOrderState({\r\n                                idOrden: order.idOrden,\r\n                                idWoo: order.idWoo,\r\n                                idUsuario: order.idUsuario,\r\n                                idComercio: order.idComercio,\r\n                                estado: 'cancelled',\r\n                              }),\r\n                          })\r\n                        }\r\n                        variant=\"contained\"\r\n                        color=\"accent\"\r\n                      >\r\n                        <CloseIcon />\r\n                      </Button>\r\n                      <hr className=\"w-100\"></hr>\r\n                      <h4>Lugar de entrega</h4>\r\n                      <p>\r\n                        <a\r\n                          href={`https://www.google.com/maps/search/?api=1&query=${order.location.latitud},${order.location.longitud}`}\r\n                          target=\"_blank\"\r\n                        >\r\n                          {order.location.referencia}\r\n                        </a>\r\n                      </p>\r\n                    </>\r\n                  )}\r\n                  {order.estado == 'processing' && (\r\n                    <Button\r\n                      type=\"button\"\r\n                      onClick={() =>\r\n                        showConfirm({\r\n                          titulo: 'Pedido listo',\r\n                          mensaje: '¿El pedido se encuentra listo?',\r\n                          confirmText: 'Sí',\r\n                          cancelText: 'Cerrar',\r\n                          onConfirm: () =>\r\n                            onChangeOrderState({\r\n                              idOrden: order.idOrden,\r\n                              idWoo: order.idWoo,\r\n                              idUsuario: order.idUsuario,\r\n                              idComercio: order.idComercio,\r\n                              estado: 'order-ready',\r\n                            }),\r\n                        })\r\n                      }\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      startIcon={<CheckIcon />}\r\n                    >\r\n                      Pedido listo\r\n                    </Button>\r\n                  )}\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <Section title=\"Productos\">\r\n            <OrderDetailTable\r\n              productos={productos}\r\n              totalOrden={order.totalOrden}\r\n            />\r\n          </Section>\r\n\r\n          <Section\r\n            title=\"Notas del pedido\"\r\n            description=\"Pon atención a las notas de tu cliente\"\r\n          >\r\n            {order.notas ? (\r\n              <p>{order.notas}</p>\r\n            ) : (\r\n              <div className=\"text-center\">\r\n                <h5>\r\n                  <i className=\"far fa-sticky-note\" />\r\n                </h5>\r\n                <p>No hay notas.</p>\r\n              </div>\r\n            )}\r\n          </Section>\r\n        </Section>\r\n      </div>\r\n    </FullModal>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Section from '../../../components/common/wrappers/Section';\r\nimport VerTodos from '../../../components/common/VerTodos';\r\nimport TripShortInfoList from '../../../components/trip/TripShortInfoList';\r\nimport moment from 'moment';\r\nimport Button from '../../../components/common/inputs/Button';\r\nimport SyncIcon from '@material-ui/icons/Sync';\r\nimport TimeAgo from 'react-timeago';\r\nimport OrdersTable from '../../../components/orders/OrdersTable';\r\nimport OrderDetailModal from '../../../components/orders/OrderDetailModal';\r\nimport noti from '../../../assets/noti.mp3';\r\nimport {\r\n  FormControlLabel,\r\n  Switch,\r\n  FormGroup,\r\n  CircularProgress,\r\n} from '@material-ui/core';\r\nimport DummyCards from '../../../components/common/cards/DummyCards';\r\n\r\nconst DashboardPage = ({\r\n  loadingOrder,\r\n  loadingList,\r\n  orders,\r\n  loadOrders,\r\n  updateOrderState,\r\n  updateOpenComercio,\r\n  loadingComercio,\r\n  loadingComercioList,\r\n  comercio,\r\n  usuario,\r\n  lastSyncOrders,\r\n  showConfirm,\r\n  hideConfirm,\r\n}) => {\r\n  const [orderSelected, setOrderSelected] = useState({});\r\n  const [isDetailOrderOpen, setIsDetailOrderOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadOrders(usuario.idComercio);\r\n    const interval = setInterval(() => {\r\n      if (!loadingList) loadOrders(usuario.idComercio);\r\n    }, 60000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  let hasToAttend = orders.find(order => order.estado == 'pending');\r\n\r\n  return (\r\n    <div className=\"container-fluid2\" style={{ marginTop: '6rem' }}>\r\n      {hasToAttend && (\r\n        <audio autoPlay loop>\r\n          <source src={noti} type=\"audio/mpeg\" />\r\n          Your browser does not support the audio element.\r\n        </audio>\r\n      )}\r\n      <Section className=\"mt-4\">\r\n        <div className=\"col-12 px-0\">\r\n          {!loadingComercioList || comercio.idComercio ? (\r\n            <Section\r\n              title={comercio.nombre}\r\n              description={comercio.direccion}\r\n              button={\r\n                <FormControlLabel\r\n                  className=\"ml-auto\"\r\n                  control={\r\n                    loadingComercio ? (\r\n                      <CircularProgress size={24} />\r\n                    ) : (\r\n                      <Switch\r\n                        color={comercio.isOpen == 1 ? 'primary' : 'default'}\r\n                        checked={true}\r\n                        onChange={() =>\r\n                          updateOpenComercio({\r\n                            idComercio: comercio.idComercio,\r\n                            isOpen: comercio.isOpen == 1 ? 0 : 1,\r\n                          })\r\n                        }\r\n                        name=\"isOpen\"\r\n                      />\r\n                    )\r\n                  }\r\n                  label={comercio.isOpen == 1 ? 'Abierto' : 'Cerrado'}\r\n                />\r\n              }\r\n            ></Section>\r\n          ) : (\r\n            <div className=\"row\">\r\n              <DummyCards cols=\"col-12 px-0\" size={1} disablePhoto />\r\n            </div>\r\n          )}\r\n\r\n          {/* <hr className=\"w-100\"></hr> */}\r\n          <Section\r\n            title=\"Pedidos\"\r\n            description=\"Estos son tus pedidos en Ecodelivery\"\r\n            button={\r\n              <Button\r\n                className=\"ml-auto\"\r\n                startIcon={<SyncIcon />}\r\n                text={\r\n                  moment(lastSyncOrders).isValid() && (\r\n                    <TimeAgo\r\n                      date={moment(lastSyncOrders).toDate()}\r\n                      // minPeriod={60}\r\n                    />\r\n                  )\r\n                }\r\n                color=\"primary\"\r\n                loading={loadingList}\r\n                onClick={() => loadOrders(usuario.idComercio)}\r\n              />\r\n            }\r\n          >\r\n            <OrdersTable\r\n              orders={orders}\r\n              loading={loadingList && orders.length == 0}\r\n              onDetail={idOrden => {\r\n                setOrderSelected(\r\n                  orders.find(order => order.idOrden == idOrden)\r\n                );\r\n                setIsDetailOrderOpen(true);\r\n              }}\r\n            />\r\n          </Section>\r\n        </div>\r\n      </Section>\r\n      <OrderDetailModal\r\n        isOpen={isDetailOrderOpen}\r\n        loading={loadingOrder}\r\n        order={orderSelected}\r\n        onClose={() => setIsDetailOrderOpen(false)}\r\n        showConfirm={config => showConfirm(config)}\r\n        onChangeOrderState={order =>\r\n          hideConfirm() &&\r\n          updateOrderState(order, () => {\r\n            setIsDetailOrderOpen(false);\r\n            loadOrders();\r\n          })\r\n        }\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ orderState, loginState, comercioState }, props) => {\r\n  const {\r\n    orders,\r\n    loadingList,\r\n    loading: loadingOrder,\r\n    error,\r\n    lastSync: lastSyncOrders,\r\n  } = orderState;\r\n\r\n  const {\r\n    loadingList: loadingComercioList,\r\n    loading: loadingComercio,\r\n    comercio,\r\n  } = comercioState;\r\n\r\n  const { usuario } = loginState;\r\n  return {\r\n    orders,\r\n    loadingList,\r\n    loadingOrder,\r\n    usuario,\r\n    lastSyncOrders,\r\n    loadingComercio,\r\n    loadingComercioList,\r\n    comercio,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    loadOrders: idComercio => dispatch({ type: 'ORDERS_GET', idComercio }),\r\n    updateOrderState: (order, onSuccess) =>\r\n      dispatch({ type: 'ORDER_STATE_UPDATE', order, onSuccess }),\r\n    updateOpenComercio: comercio =>\r\n      dispatch({ type: 'COMERCIO_OPEN_UPDATE', comercio }),\r\n    showConfirm: config => dispatch({ type: 'OPEN_CONFIRM', config }),\r\n    hideConfirm: () => dispatch({ type: 'CLOSE_CONFIRM' }),\r\n  };\r\n};\r\n\r\nDashboardPage.propTypes = {};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DashboardPage);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport Right from '@material-ui/icons/ChevronRight';\r\n\r\nimport { MEDIA_SCREENS, CSS_HELPERS_REACT } from '../../theme';\r\nimport { IconButton } from '@material-ui/core';\r\n\r\nconst PlanShortInfoItem = ({ idPlan, plan, urlFoto, descripcion, onClick }) => {\r\n  let cursorStyle;\r\n  if (onClick) {\r\n    cursorStyle = { cursor: 'pointer' };\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-100\">\r\n      {/* <hr className=\"w-100\"></hr> */}\r\n      <div\r\n        className=\"row\"\r\n        style={cursorStyle}\r\n        onClick={() => onClick && onClick(idPlan)}\r\n      >\r\n        <div className=\"col\">\r\n          <Image src={urlFoto} draggable=\"false\" />\r\n        </div>\r\n        <div className=\"col\">\r\n          <h6 style={CSS_HELPERS_REACT.TRUNCATE}> {plan}</h6>\r\n          <p className=\"mb-1\">{descripcion}</p>\r\n        </div>\r\n        {onClick && (\r\n          <div className=\"col-2\">\r\n            <IconButton\r\n              aria-label=\"go\"\r\n              style={{ borderRadius: 'unset', backgroundColor: 'unset' }}\r\n              className=\"h-100\"\r\n              size=\"medium\"\r\n            >\r\n              <Right fontSize=\"inherit\" />\r\n            </IconButton>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <hr className=\"w-100\"></hr>\r\n    </div>\r\n  );\r\n};\r\n\r\nPlanShortInfoItem.propTypes = {\r\n  idPlan: PropTypes.number,\r\n  plan: PropTypes.string,\r\n  urlFoto: PropTypes.string,\r\n  descripcion: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default PlanShortInfoItem;\r\n\r\nconst Image = styled.img`\r\n  border-radius: 0.3em;\r\n\r\n  @media only screen and (min-width: ${MEDIA_SCREENS.MEDIUM.FROM +\r\n      'px'}) and (max-width: ${MEDIA_SCREENS.MEDIUM.TO + 'px'}) {\r\n    src: url(${props => props.src});\r\n    height: 100%;\r\n    object-fit: cover;\r\n    width: 100%;\r\n  }\r\n\r\n  @media only screen and (min-width: ${MEDIA_SCREENS.SMALL.FROM +\r\n      'px'}) and (max-width: ${MEDIA_SCREENS.SMALL.TO + 'px'}) {\r\n    src: url(${props => props.src});\r\n    height: 100%;\r\n    object-fit: cover;\r\n    width: 100%;\r\n  }\r\n`;\r\n","import React, { Component, useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Input from '../common/inputs/Input';\r\nimport Button from '../common/inputs/Button';\r\nimport Select from '../common/inputs/Select';\r\nimport Timepicker from '../common/inputs/Timepicker';\r\nimport moment from 'moment';\r\nimport TripShortInfoItem from './TripShortInfoItem';\r\nimport PlanShortInfoItem from '../plan/PlanShortInfoItem';\r\nimport { FormHelperText } from '@material-ui/core';\r\nimport MultipleSelect from '../common/inputs/MultipleSelect';\r\nimport Datepicker from '../common/inputs/Datepicker';\r\n\r\n// 20 por default\r\nconst generateNumberOptions = plan => {\r\n  let numberOptions = [];\r\n  for (let i = 0; i < plan.cupos + 10; i++) {\r\n    if (i + 1 == plan.cupos) {\r\n      numberOptions.push({ text: `${i + 1} (Por defecto)`, value: i + 1 });\r\n    } else {\r\n      numberOptions.push({ text: i + 1, value: i + 1 });\r\n    }\r\n  }\r\n\r\n  return numberOptions;\r\n};\r\n\r\nconst TripForm = ({\r\n  loading,\r\n  trip,\r\n  date,\r\n  onSubmit,\r\n  onTripChange,\r\n  planes,\r\n  planOptions,\r\n  diasOption,\r\n  onCancel,\r\n}) => {\r\n  const [errors, setErrors] = useState({});\r\n  const [planSelected, setPlanSelected] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (trip && trip.idSalida) {\r\n      let plan = planes.find(plan => plan.idPlan == trip.idPlan);\r\n      setPlanSelected(plan);\r\n    }\r\n  });\r\n\r\n  const _onSubmit = e => {\r\n    e.preventDefault();\r\n    setErrors({});\r\n\r\n    let errors = {};\r\n    let valid = true;\r\n\r\n    if (!trip.idPlan) {\r\n      valid = false;\r\n      errors = {\r\n        ...errors,\r\n        idPlan: 'Elige el plan que vas a poner a disposición',\r\n      };\r\n    }\r\n\r\n    if (!trip.cupos) {\r\n      valid = false;\r\n      errors = { ...errors, cupos: 'Elige de cupos para este viaje' };\r\n    }\r\n\r\n    if (moment(trip.horaFin).diff(moment(trip.horaInicio), 'hour', true) <= 1) {\r\n      valid = false;\r\n      errors = {\r\n        ...errors,\r\n        horario: 'Debe haber al menos una hora de diferencia.',\r\n      };\r\n    }\r\n\r\n    if (trip.idSalida && (!trip.precio || Number(trip.precio) === 0)) {\r\n      valid = false;\r\n      errors = {\r\n        ...errors,\r\n        precio: 'Ingresa un precio válido.',\r\n      };\r\n    }\r\n\r\n    if (trip.seRepite) {\r\n      if (!trip.dias || trip.dias.length == 0) {\r\n        valid = false;\r\n        errors = {\r\n          ...errors,\r\n          dias: 'Selecciona al menos un día.',\r\n        };\r\n      }\r\n\r\n      if (!trip.feHasta) {\r\n        valid = false;\r\n        errors = {\r\n          ...errors,\r\n          feHasta: 'Selecciona una fecha válida.',\r\n        };\r\n      }\r\n\r\n      if (moment(date).isSameOrAfter(trip.feHasta)) {\r\n        valid = false;\r\n        errors = {\r\n          ...errors,\r\n          feHasta:\r\n            'La fecha de finalización debe ser mayor a la fecha de incio.',\r\n        };\r\n      }\r\n    }\r\n\r\n    if (!valid) {\r\n      setErrors(errors);\r\n      return;\r\n    }\r\n\r\n    onSubmit({\r\n      ...trip,\r\n      fecha: moment(date).format('YYYY-MM-DD'),\r\n      horaInicio: moment(trip.horaInicio).format('YYYY-MM-DD HH:mm'),\r\n      horaFin: moment(trip.horaFin).format('YYYY-MM-DD HH:mm'),\r\n      idDia: moment(date)\r\n        .format('ddd')\r\n        .toUpperCase(),\r\n      precio: trip.precio || planSelected.precio,\r\n    });\r\n  };\r\n\r\n  const onChange = e => {\r\n    trip[e.target.name] = e.target.value;\r\n    onTripChange(trip);\r\n  };\r\n\r\n  const onChangeDaySalect = value => {\r\n    if (!value) {\r\n      value = [];\r\n    }\r\n\r\n    trip['dias'] = value.map(actividad => {\r\n      return { idDia: actividad.value, dia: actividad.label };\r\n    });\r\n    onTripChange(trip);\r\n  };\r\n\r\n  const onChangeFeHasta = e => {\r\n    trip['feHasta'] = e.toDate();\r\n    onTripChange(trip);\r\n  };\r\n\r\n  const _onChangePlan = e => {\r\n    trip[e.target.name] = e.target.value;\r\n    let plan = planes.find(plan => plan.idPlan == trip.idPlan);\r\n\r\n    onTripChange({ ...trip, cupos: plan.cupos });\r\n    setPlanSelected(plan);\r\n  };\r\n\r\n  const onChageTime = (time, name) => {\r\n    trip[name] = moment(time);\r\n    onTripChange(trip);\r\n  };\r\n\r\n  let numberOptions = generateNumberOptions(planSelected);\r\n\r\n  return (\r\n    <form onSubmit={_onSubmit} noValidate>\r\n      <h2>{moment(date).format('ddd[,] DD MMM YYYY')}</h2>\r\n      <hr></hr>\r\n      {!trip ||\r\n        (!trip.idSalida && (\r\n          <>\r\n            <h3>Elige el plan</h3>\r\n            <p className=\"mb-2\">\r\n              Elige entre las ofertas de planes que posees.\r\n            </p>\r\n          </>\r\n        ))}\r\n      {!trip ||\r\n        (!trip.idSalida && (\r\n          <Select\r\n            className=\"mt-2\"\r\n            label=\"Plan\"\r\n            name=\"idPlan\"\r\n            variant=\"outlined\"\r\n            disabled={trip && trip.idSalida}\r\n            value={trip.idPlan}\r\n            options={planOptions}\r\n            onChange={_onChangePlan}\r\n            error={errors.idPlan}\r\n          />\r\n        ))}\r\n      {planSelected.idPlan && <PlanShortInfoItem {...planSelected} />}\r\n\r\n      <h3>Información del viaje</h3>\r\n      <p className=\"mb-2\">\r\n        Confirma la información del nuevo que vas a agendar.\r\n      </p>\r\n      <Select\r\n        label=\"Cupos disponibles\"\r\n        name=\"cupos\"\r\n        variant=\"outlined\"\r\n        value={trip.cupos}\r\n        options={numberOptions}\r\n        onChange={onChange}\r\n        error={errors.cupos}\r\n      />\r\n      {trip &&\r\n        (trip.idSalida && (\r\n          <Input\r\n            type=\"decimal\"\r\n            label=\"Precio por persona\"\r\n            variant=\"outlined\"\r\n            name=\"precio\"\r\n            value={trip.precio}\r\n            onChange={e =>\r\n              onChange({ target: { ...e.target, name: 'precio' } })\r\n            }\r\n            error={errors.precio}\r\n          />\r\n        ))}\r\n      <div className=\"row mb-3\">\r\n        <div className=\"col-md-6 col-sm-12\">\r\n          <Timepicker\r\n            label=\"Desde\"\r\n            name={'horaInicio'}\r\n            variant=\"inline\"\r\n            inputVariant=\"outlined\"\r\n            value={trip.horaInicio}\r\n            onChange={time => onChageTime(time, 'horaInicio')}\r\n            error={errors.horaInicio}\r\n          />\r\n        </div>\r\n        <div className=\"col-md-6 col-sm-12\">\r\n          <Timepicker\r\n            label=\"Hasta\"\r\n            name={`horaFin`}\r\n            variant=\"inline\"\r\n            inputVariant=\"outlined\"\r\n            value={trip.horaFin}\r\n            onChange={time => onChageTime(time, 'horaFin')}\r\n            error={errors.horaFin}\r\n          />\r\n        </div>\r\n        {errors.horario && (\r\n          <div className=\"col-12\">\r\n            <FormHelperText error className=\"mt-0\">\r\n              {errors.horario}\r\n            </FormHelperText>\r\n          </div>\r\n        )}\r\n      </div>\r\n      {!trip.idSalida && (\r\n        <Select\r\n          label=\"Repetir disponibilidad\"\r\n          name=\"seRepite\"\r\n          variant=\"outlined\"\r\n          value={trip.seRepite}\r\n          options={[\r\n            { value: 0, text: 'No se repite' },\r\n            { value: 1, text: 'Se repite' },\r\n          ]}\r\n          onChange={onChange}\r\n          error={errors.seRepite}\r\n        />\r\n      )}\r\n      {trip.seRepite == 1 && (\r\n        <div className=\"row mb-2\">\r\n          <div className=\"col-12\">\r\n            <MultipleSelect\r\n              closeMenuOnSelect={false}\r\n              className=\"mt-2\"\r\n              label=\"Dias\"\r\n              name=\"dias\"\r\n              value={(() => {\r\n                if (trip.dias) {\r\n                  return trip.dias.map(dia => {\r\n                    return { value: dia.idDia, label: dia.dia };\r\n                  });\r\n                }\r\n                return [];\r\n              })()}\r\n              options={diasOption}\r\n              onChange={onChangeDaySalect}\r\n              error={errors.dias}\r\n            />\r\n          </div>\r\n          <div className=\"col-12\">\r\n            <Datepicker\r\n              disablePast\r\n              label=\"Repetir hasta\"\r\n              name=\"feHasta\"\r\n              variant=\"inline\"\r\n              value={trip.feHasta}\r\n              onChange={onChangeFeHasta}\r\n              error={errors.feHasta}\r\n            />\r\n          </div>\r\n          {trip.dias && trip.dias.length > 0 && (\r\n            <div className=\"col-12\">\r\n              <p>\r\n                Se va a generar la disponibilidad los dias:{' '}\r\n                <strong>{trip.dias.map(dia => dia.dia).join(', ')}</strong>\r\n              </p>\r\n              <p>\r\n                Desde:{' '}\r\n                <strong>{moment(date).format('ddd[,] DD MMM YYYY')}</strong>\r\n              </p>\r\n              <p>\r\n                Hasta:{' '}\r\n                <strong>\r\n                  {moment(trip.feHasta).format('ddd[,] DD MMM YYYY')}\r\n                </strong>\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n      <Button\r\n        type=\"submit\"\r\n        text=\"Guardar\"\r\n        variant=\"contained\"\r\n        className=\"mr-2\"\r\n        color=\"primary\"\r\n        loading={loading}\r\n      />\r\n      {!loading && <Button text=\"Cancelar\" onClick={onCancel} />}\r\n    </form>\r\n  );\r\n};\r\n\r\nTripForm.propTypes = {\r\n  trip: PropTypes.object,\r\n  onTripChange: PropTypes.func,\r\n  onSubmit: PropTypes.func,\r\n  onCancel: PropTypes.func,\r\n};\r\n\r\nexport default TripForm;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport PlanShortInfoItem from '../plan/PlanShortInfoItem';\r\nimport Button from '../common/inputs/Button';\r\nimport Right from '@material-ui/icons/ChevronRight';\r\nimport { IconButton } from '@material-ui/core';\r\n\r\nconst TripInfo = ({ trip, onDelete, disableDelete, onReservas }) => {\r\n  return (\r\n    <div className=\"w-100\">\r\n      <h4>Plan</h4>\r\n      {/* <p>{`${usuario.nombre} ${usuario.apellido}`}</p> */}\r\n      <PlanShortInfoItem {...trip} descripcion={trip.descripcion} />\r\n      <div\r\n        className=\"d-flex\"\r\n        style={{ cursor: onReservas ? 'pointer' : 'unset' }}\r\n        onClick={onReservas ? () => onReservas(trip.idSalida) : null}\r\n      >\r\n        <h6>\r\n          {trip.ocupados}/{trip.cupos} reservados\r\n        </h6>\r\n        {onReservas && (\r\n          <IconButton\r\n            aria-label=\"go\"\r\n            style={{ borderRadius: 'unset', backgroundColor: 'unset' }}\r\n            className=\"h-100 ml-auto p-0\"\r\n            size=\"medium\"\r\n          >\r\n            <Right fontSize=\"inherit\" />\r\n          </IconButton>\r\n        )}\r\n      </div>\r\n      <hr className=\"w-100 my-3\"></hr>\r\n      <div className=\"row m-0 p-0\">\r\n        <div className=\"col-6 m-0 p-0\">\r\n          <h5>Precio</h5>\r\n          <p>${trip.precio}</p>\r\n        </div>\r\n        <div className=\"col-6 m-0 p-0\">\r\n          <h5>Cupos</h5>\r\n          <p>{trip.cupos}</p>\r\n        </div>\r\n      </div>\r\n      <hr className=\"w-100 my-3\"></hr>\r\n      <div className=\"row m-0 p-0\">\r\n        <div className=\"col-6 m-0 p-0\">\r\n          <h5>Desde</h5>\r\n          <p>{moment(trip.horaInicio).format('hh:mm A')}</p>\r\n        </div>\r\n        <div className=\"col-6 m-0 p-0\">\r\n          <h5>Hasta</h5>\r\n          <p>{moment(trip.horaFin).format('hh:mm A')}</p>\r\n        </div>\r\n      </div>\r\n      {onDelete && (\r\n        <>\r\n          <hr className=\"w-100 my-3\"></hr>\r\n          <div className=\"row m-0 p-0\">\r\n            <div className=\"col-12 p-0 m-0\">\r\n              <Button\r\n                color=\"secondary\"\r\n                className=\"btn btn-block\"\r\n                disabled={disableDelete}\r\n                onClick={onDelete}\r\n              >\r\n                Eliminar del calendario\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TripInfo;\r\n","import React from 'react';\r\nimport Button from './inputs/Button';\r\n\r\nconst TitleAction = ({\r\n  title,\r\n  text1,\r\n  text2,\r\n  action1,\r\n  disableAction1,\r\n  action2,\r\n  isOnAction,\r\n}) => {\r\n  return (\r\n    <div className=\"d-flex mb-4\">\r\n      <h3>{title}</h3>\r\n      {action1 && (\r\n        <>\r\n          {!isOnAction ? (\r\n            <Button\r\n              color=\"primary\"\r\n              disabled={disableAction1}\r\n              className=\"ml-auto\"\r\n              onClick={action1}\r\n            >\r\n              {text1 || 'Edit'}\r\n            </Button>\r\n          ) : (\r\n            <Button color=\"primary\" className=\"ml-auto\" onClick={action2}>\r\n              {text2 || 'Cancel'}\r\n            </Button>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TitleAction;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport moment from 'moment';\r\n\r\nimport Section from '../../../components/common/wrappers/Section';\r\nimport Calendar from '../../../components/common/calendar/Calendar';\r\nimport Button from '../../../components/common/inputs/Button';\r\nimport TripForm from '../../../components/trip/TripForm';\r\nimport TripShortInfoList from '../../../components/trip/TripShortInfoList';\r\nimport TripInfo from '../../../components/trip/TripInfo';\r\nimport TitleAction from '../../../components/common/TitleAction';\r\nimport SyncIcon from '@material-ui/icons/Sync';\r\nimport TimeAgo from 'react-timeago';\r\n\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\n\r\nconst filterTripsByDate = (trips, date) => {\r\n  return trips.filter(trip =>\r\n    moment(trip.feSalida).isSame(moment(date), 'days')\r\n  );\r\n};\r\n\r\nconst CalendarPage = ({\r\n  history,\r\n  loading,\r\n  loadingList,\r\n  trip,\r\n  trips,\r\n  planes,\r\n  planOptions,\r\n  diasOption,\r\n  usuario,\r\n  loadTrips,\r\n  loadPlanes,\r\n  loadDias,\r\n  tripChange,\r\n  saveTrip,\r\n  updateTrip,\r\n  showConfirm,\r\n  hideConfirm,\r\n  deleteTrip,\r\n  loadingConfirm,\r\n  lastSyncTrips,\r\n}) => {\r\n  const [viewMode, setViewMode] = useState('TRIP_LIST');\r\n  // const [selectedTrip, setSelectedTrip] = useState({});\r\n  const [selectedDate, setSelectedDate] = useState(moment());\r\n\r\n  useEffect(() => {\r\n    // loadTrips();\r\n    loadPlanes(usuario.agencia.idPlanner);\r\n    loadDias();\r\n  }, []);\r\n\r\n  const onClickTrip = trip => {\r\n    let tripSelected = trips.find(\r\n      tripFinding => tripFinding.idSalida == trip.idSalida\r\n    );\r\n    tripChange(tripSelected);\r\n    setViewMode('TRIP_INFO');\r\n  };\r\n\r\n  let dateTrips = trips.map(trip => moment(trip.feSalida));\r\n  let tripsFilter = filterTripsByDate(trips, selectedDate);\r\n\r\n  const onConfirmDelete = () => {\r\n    loadingConfirm(true);\r\n    deleteTrip(trip.idSalida, () => {\r\n      loadingConfirm(false);\r\n      hideConfirm();\r\n      setViewMode('TRIP_LIST');\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid2\" style={{ marginTop: '6rem' }}>\r\n      <Section className=\"mt-4\">\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-12 col-md-8 col-lg-7\">\r\n            <Calendar\r\n              datesChecked={dateTrips}\r\n              value={selectedDate}\r\n              onChange={date => {\r\n                setSelectedDate(moment(date));\r\n                setViewMode('TRIP_LIST');\r\n              }}\r\n            />\r\n          </div>\r\n          <div className=\"col-sm-12 col-md-4 col-lg-5\">\r\n            {viewMode == 'TRIP_LIST' && (\r\n              <>\r\n                <div className=\"d-flex\">\r\n                  <h3 className=\"my-auto\">\r\n                    {moment(selectedDate).format('ddd[,] DD MMM YYYY')}\r\n                  </h3>\r\n                  <div className=\"ml-auto text-center\">\r\n                    <Button\r\n                      startIcon={<SyncIcon />}\r\n                      text={\r\n                        moment(lastSyncTrips).isValid() && (\r\n                          <TimeAgo\r\n                            date={moment(lastSyncTrips).toDate()}\r\n                            // minPeriod={60}\r\n                          />\r\n                        )\r\n                      }\r\n                      color=\"primary\"\r\n                      loading={loadingList}\r\n                      onClick={loadTrips}\r\n                    />\r\n                    {/* {!loadingList && (\r\n                      <p className=\"my-0\">\r\n                        {lastSyncTrips &&\r\n                          moment(lastSyncTrips).format('ddd[,] DD MMM hh:mm A')}\r\n                      </p>\r\n                    )} */}\r\n                  </div>\r\n                </div>\r\n                <hr className=\"w-100\"></hr>\r\n                <TripShortInfoList\r\n                  loading={loadingList}\r\n                  trips={tripsFilter}\r\n                  // onClickTrip={onClickTrip}\r\n                  onClickDetail={onClickTrip}\r\n                  onClickSeeReservation={idSalida =>\r\n                    history.push('/reservation/' + idSalida)\r\n                  }\r\n                  onNewTrip={\r\n                    !loadingList &&\r\n                    moment(selectedDate).isSameOrAfter(moment(), 'day')\r\n                      ? () => {\r\n                          tripChange({\r\n                            horaInicio: new Date(),\r\n                            horaFin: new Date(),\r\n                            seRepite: 0,\r\n                            feHasta: selectedDate,\r\n                          });\r\n                          setViewMode('TRIP_FORM');\r\n                        }\r\n                      : null\r\n                  }\r\n                />\r\n              </>\r\n            )}\r\n            {viewMode == 'TRIP_FORM' && (\r\n              <TripForm\r\n                loading={loading}\r\n                trip={trip}\r\n                date={selectedDate}\r\n                planes={planes}\r\n                planOptions={planOptions}\r\n                diasOption={diasOption}\r\n                onTripChange={tripChange}\r\n                onCancel={() =>\r\n                  trip.idSalida\r\n                    ? setViewMode('TRIP_INFO')\r\n                    : setViewMode('TRIP_LIST')\r\n                }\r\n                onSubmit={trip => {\r\n                  !trip.idSalida\r\n                    ? saveTrip(trip, () => setViewMode('TRIP_LIST'))\r\n                    : updateTrip(trip, () => setViewMode('TRIP_INFO'));\r\n                }}\r\n              />\r\n            )}\r\n            {viewMode == 'TRIP_INFO' && (\r\n              <>\r\n                {/* Para que funcione startIcon debemos actualizar material-ui */}\r\n                <Button\r\n                  startIcon={<ArrowBackIosIcon fontSize=\"inherit\" />}\r\n                  color=\"primary\"\r\n                  className=\"ml-auto\"\r\n                  onClick={() => setViewMode('TRIP_LIST')}\r\n                  // startIcon={}\r\n                >\r\n                  Regresar\r\n                </Button>\r\n                <TitleAction\r\n                  title={moment(selectedDate).format('ddd[,] DD MMM YYYY')}\r\n                  text1=\"Editar\"\r\n                  isOnAction={viewMode == 'TRIP_FORM'}\r\n                  disableAction1={\r\n                    !moment(selectedDate).isSameOrAfter(moment(), 'day')\r\n                  }\r\n                  action1={() => {\r\n                    setViewMode('TRIP_FORM');\r\n                    tripChange(trip);\r\n                  }}\r\n                  action2={() => {\r\n                    setViewMode('TRIP_INFO');\r\n                  }}\r\n                />\r\n                <TripInfo\r\n                  trip={trip}\r\n                  disableDelete={\r\n                    !moment(selectedDate).isSameOrAfter(moment(), 'day')\r\n                  }\r\n                  onReservas={idSalida =>\r\n                    history.push('/reservation/' + idSalida)\r\n                  }\r\n                  onDelete={() =>\r\n                    showConfirm({\r\n                      titulo: 'Eliminiar viaje',\r\n                      mensaje: '¿Estás seguro de eliminar este viaje?',\r\n                      confirmText: 'Continuar',\r\n                      cancelText: 'Cancelar',\r\n                      onConfirm: onConfirmDelete,\r\n                    })\r\n                  }\r\n                />\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </Section>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (\r\n  { tripState, planState, loginState, diaState },\r\n  props\r\n) => {\r\n  const {\r\n    trip,\r\n    trips,\r\n    loadingList,\r\n    loading,\r\n    lastSync: lastSyncTrips,\r\n  } = tripState;\r\n  const { planes } = planState;\r\n  const { usuario } = loginState;\r\n  const { dias } = diaState;\r\n\r\n  const diasOption = dias.map(dia => {\r\n    return { value: dia.idDia, text: dia.es };\r\n  });\r\n\r\n  const planOptions = planes\r\n    .filter(plan => plan.isInfoCompleted)\r\n    .map(plan => {\r\n      return { value: plan.idPlan, text: plan.plan };\r\n    });\r\n\r\n  return {\r\n    planes,\r\n    planOptions,\r\n    diasOption,\r\n    trip,\r\n    trips,\r\n    loading,\r\n    loadingList,\r\n    usuario,\r\n    lastSyncTrips,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    tripChange: trip => dispatch({ type: 'TRIP_CHANGE', trip }),\r\n    loadTrips: () => dispatch({ type: 'TRIP_GET_BY_PLANNER' }),\r\n    loadPlanes: idPlanner =>\r\n      dispatch({ type: 'PLANES_GET_BY_PLANNER', idPlanner }),\r\n    loadDias: () => dispatch({ type: 'DIAS_GET' }),\r\n    saveTrip: (trip, onSuccess) =>\r\n      dispatch({ type: 'TRIP_SAVE', trip, onSuccess }),\r\n    updateTrip: (trip, onSuccess) =>\r\n      dispatch({ type: 'TRIP_UPDATE', trip, onSuccess }),\r\n    showConfirm: config => dispatch({ type: 'OPEN_CONFIRM', config }),\r\n    hideConfirm: () => dispatch({ type: 'CLOSE_CONFIRM' }),\r\n    deleteTrip: (idSalida, onSuccess) =>\r\n      dispatch({ type: 'TRIP_DELETE', idSalida, onSuccess }),\r\n    loadingConfirm: loading => dispatch({ type: 'LOADING_CONFIRM', loading }),\r\n  };\r\n};\r\n\r\nCalendarPage.propTypes = {};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(CalendarPage);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { DialogActions } from '@material-ui/core';\r\nimport Button from './inputs/Button';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)(props => {\r\n  const { children, classes, onClose } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton\r\n          aria-label=\"close\"\r\n          className={classes.closeButton}\r\n          onClick={onClose}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles(theme => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nfunction ConfirmModal({ history, isOpen, loading, config, closeModal }) {\r\n  let onClose = () => {\r\n    config.onCancel && config.onCancel();\r\n    closeModal();\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      onClose={!loading && onClose}\r\n      aria-labelledby=\"customized-dialog-title\"\r\n      open={isOpen}\r\n      maxWidth=\"sm\"\r\n      fullWidth\r\n    >\r\n      <DialogTitle id=\"customized-dialog-title\" onClose={!loading && onClose}>\r\n        {config.titulo}\r\n      </DialogTitle>\r\n      <DialogContent dividers>\r\n        {/* <LoginRegistroForm history={history} /> */}\r\n        <p>{config.mensaje}</p>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        {!loading && (\r\n          <Button\r\n            onClick={() => {\r\n              config.onCancel && config.onCancel();\r\n              onClose();\r\n            }}\r\n            color=\"primary\"\r\n          >\r\n            {config && config.cancelText ? config.cancelText : 'No'}\r\n          </Button>\r\n        )}\r\n        <Button onClick={config.onConfirm} color=\"primary\" loading={loading}>\r\n          {config && config.confirmText ? config.confirmText : 'yes'}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = ({ confirmState }, props) => {\r\n  const { isOpen, onConfirm, config, loading } = confirmState;\r\n  return { isOpen, onConfirm, config, loading };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    closeModal: () => dispatch({ type: 'CLOSE_CONFIRM' }),\r\n  };\r\n};\r\n\r\nConfirmModal.propTypes = {};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ConfirmModal);\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Section from '../../../components/common/wrappers/Section';\r\n\r\nimport PlanList from '../../../components/plan/PlanList';\r\nimport moment from 'moment';\r\n\r\n// import { shell } from 'electron';\r\nimport SyncIcon from '@material-ui/icons/Sync';\r\nimport TimeAgo from 'react-timeago';\r\nimport Button from '../../../components/common/inputs/Button';\r\n\r\nconst PlanesPage = ({\r\n  history,\r\n  setPlan,\r\n  agency,\r\n  planes,\r\n  loadingPlanes,\r\n  loadPlanes,\r\n  lastSyncPlanes,\r\n}) => {\r\n  useEffect(() => {\r\n    // loadPlanes(agency.idPlanner);\r\n    setPlan({});\r\n  }, []);\r\n\r\n  const onNewDate = idPlan => {\r\n    history.push('/calendar');\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid2\" style={{ marginTop: '6rem' }}>\r\n      <Section\r\n        className=\"mt-4\"\r\n        title={agency.agencia}\r\n        button={\r\n          <Button\r\n            color=\"primary\"\r\n            variant=\"outlined\"\r\n            className=\"ml-auto\"\r\n            onClick={() => history.push('/plan/create')}\r\n          >\r\n            Crear un nuevo plan\r\n          </Button>\r\n        }\r\n      >\r\n        <hr className=\"w-100\" />\r\n        <Section>\r\n          <PlanList\r\n            cols=\"col-sm-12 col-md-3 col-lg-3 col-xl-4 mb-4\"\r\n            button={\r\n              <Button\r\n                className=\"ml-auto\"\r\n                startIcon={<SyncIcon />}\r\n                text={\r\n                  moment(lastSyncPlanes).isValid() && (\r\n                    <TimeAgo date={moment(lastSyncPlanes).toDate()} />\r\n                  )\r\n                }\r\n                color=\"primary\"\r\n                loading={loadingPlanes}\r\n                onClick={() => loadPlanes(agency.idPlanner)}\r\n              />\r\n            }\r\n            showCardHeader={false}\r\n            showStatus\r\n            dummySize={3}\r\n            title={`Tus planes`}\r\n            planes={planes}\r\n            onPublish={idPlan => console.log('Clicked ' + idPlan)}\r\n            loading={loadingPlanes}\r\n            // addAction={() => history.push('/plan/create')}\r\n            onNewDate={onNewDate}\r\n            onEdit={idPlan => history.push('/plan/create/' + idPlan)}\r\n            // onWatch={idPlan =>\r\n            //   shell.openExternal('https://nomadem.com/plan/' + idPlan)\r\n            // }\r\n            onDelete={idPlan => console.log(idPlan)}\r\n          />\r\n        </Section>\r\n      </Section>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ planState, loginState }, props) => {\r\n  const {\r\n    plan,\r\n    planes,\r\n    loadingList: loadingPlanes,\r\n    lastSync: lastSyncPlanes,\r\n  } = planState;\r\n  const { usuario } = loginState;\r\n  let agency = usuario.agencia;\r\n\r\n  return {\r\n    plan,\r\n    usuario,\r\n    agency,\r\n    planes,\r\n    loadingPlanes,\r\n    lastSyncPlanes,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setPlan: plan => dispatch({ type: 'PLAN_CHANGE', plan }),\r\n    loadPlan: idPlan => dispatch({ type: 'PLAN_GET_BY_ID', idPlan }),\r\n    getPlanner: idPlanner => dispatch({ type: 'PLANNER_GET_BY_ID', idPlanner }),\r\n    loadPlanes: idPlanner =>\r\n      dispatch({ type: 'PLANES_GET_BY_PLANNER', idPlanner }),\r\n  };\r\n};\r\n\r\nPlanesPage.propTypes = {};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(PlanesPage);\r\n","import React, { Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport { MEDIA_SCREENS, palette, CSS_HELPERS_REACT } from '../../../theme';\r\nimport { LOADIE } from '../../../constants';\r\n\r\nexport default function LoadieWrap({ children, loading, mini }) {\r\n  return (\r\n    <>\r\n      {mini ? (\r\n        loading ? (\r\n          <LoadieMini>\r\n            <div\r\n              style={{\r\n                backgroundColor: palette.white.white0,\r\n                zIndex: '-1',\r\n                padding: '3em',\r\n                borderRadius: '3em',\r\n                ...CSS_HELPERS_REACT.BOX_SHADOW,\r\n              }}\r\n            >\r\n              <i\r\n                className=\"fas fa-circle-notch fa-spin fa-5x\"\r\n                style={{ color: palette.primary.main }}\r\n              ></i>\r\n            </div>\r\n          </LoadieMini>\r\n        ) : (\r\n          children\r\n        )\r\n      ) : (\r\n        <>\r\n          {loading && (\r\n            <Loadie>\r\n              <div\r\n                style={{\r\n                  backgroundColor: palette.white.white0,\r\n                  position: 'fixed',\r\n                  zIndex: '-1',\r\n                  padding: '3em',\r\n                  borderRadius: '3em',\r\n                  ...CSS_HELPERS_REACT.BOX_SHADOW,\r\n                }}\r\n              >\r\n                <i\r\n                  className=\"fas fa-circle-notch fa-spin fa-5x\"\r\n                  style={{\r\n                    color: palette.primary.main,\r\n                  }}\r\n                ></i>\r\n              </div>\r\n            </Loadie>\r\n          )}\r\n          {children}\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nconst LoadieMini = styled.div`\r\n  z-index: 20;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0); /* Black background with opacity */\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Loadie = styled.div`\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 20;\r\n  position: fixed;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.6); /* Black background with opacity */\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport { ResponsiveLine } from '@nivo/line';\r\n\r\nconst ConsolidadoChart = ({ data }) => (\r\n  <div style={{ height: 400 }}>\r\n    <ResponsiveLine\r\n      colors={data => data.color}\r\n      data={data}\r\n      margin={{ top: 50, right: 30, bottom: 50, left: 60 }}\r\n      xScale={{ type: 'point' }}\r\n      yScale={{\r\n        type: 'linear',\r\n        min: 'auto',\r\n        max: 'auto',\r\n        stacked: false,\r\n        reverse: false,\r\n      }}\r\n      axisTop={null}\r\n      axisRight={null}\r\n      axisBottom={{\r\n        orient: 'bottom',\r\n        tickSize: 5,\r\n        tickPadding: 5,\r\n        tickRotation: 0,\r\n        legend: 'Meses',\r\n        legendOffset: 36,\r\n        legendPosition: 'middle',\r\n      }}\r\n      axisLeft={{\r\n        orient: 'left',\r\n        tickSize: 5,\r\n        tickPadding: 5,\r\n        tickRotation: 0,\r\n        legend: 'Cantidad',\r\n        legendOffset: -40,\r\n        legendPosition: 'middle',\r\n      }}\r\n      // colors={{ scheme: 'nivo' }}\r\n      pointSize={10}\r\n      pointBorderWidth={2}\r\n      pointLabel=\"y\"\r\n      pointLabelYOffset={-12}\r\n      useMesh={true}\r\n      legends={[\r\n        {\r\n          anchor: 'top',\r\n          direction: 'row',\r\n          justify: false,\r\n          translateX: 0,\r\n          translateY: -30,\r\n          itemsSpacing: 0,\r\n          itemDirection: 'left-to-right',\r\n          itemWidth: 80,\r\n          itemHeight: 20,\r\n          itemOpacity: 0.75,\r\n          symbolSize: 12,\r\n          symbolShape: 'circle',\r\n          symbolBorderColor: 'rgba(0, 0, 0, .5)',\r\n          effects: [\r\n            {\r\n              on: 'hover',\r\n              style: {\r\n                itemBackground: 'rgba(0, 0, 0, .03)',\r\n                itemOpacity: 1,\r\n              },\r\n            },\r\n          ],\r\n        },\r\n      ]}\r\n    />\r\n  </div>\r\n);\r\n\r\nexport default ConsolidadoChart;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { red } from '@material-ui/core/colors';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport UndoIcon from '@material-ui/icons/Undo';\r\nimport FilterListIcon from '@material-ui/icons/FilterList';\r\nconst useStyles = makeStyles(theme => ({\r\n  card: {\r\n    maxWidth: 345,\r\n  },\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n  expand: {\r\n    marginLeft: 'auto',\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n  avatar: {\r\n    backgroundColor: red[500],\r\n  },\r\n}));\r\n\r\nexport default function RangePickerHeader(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CardActions disableSpacing>\r\n        <IconButton\r\n          aria-label=\"add to favorites\"\r\n          onClick={props.handleBack ? props.handleBack : () => {}}\r\n        >\r\n          {props.handleBack ? <UndoIcon /> : <FilterListIcon />}\r\n        </IconButton>\r\n\r\n        <Typography>{props.title}</Typography>\r\n\r\n        <IconButton\r\n          aria-label=\"share\"\r\n          className={classes.expand}\r\n          onClick={props.handleClose}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </CardActions>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport { ResponsiveLine } from '@nivo/line';\r\nimport { ResponsiveBar } from '@nivo/bar';\r\nimport { ResponsivePie } from '@nivo/pie';\r\n\r\nconst ComprasChart = ({ data, keys, ejeX, ejeY, colors, labelTextColor }) => {\r\n  return (\r\n    <div style={{ height: 400 }}>\r\n      <ResponsiveBar\r\n        data={data}\r\n        keys={keys}\r\n        indexBy={'Month'}\r\n        margin={{ top: 50, right: 30, bottom: 50, left: 60 }}\r\n        padding={0.3}\r\n        colors={colors}\r\n        borderColor={{ from: 'color', modifiers: [['darker', 1.6]] }}\r\n        axisTop={null}\r\n        axisRight={null}\r\n        axisBottom={{\r\n          tickSize: 5,\r\n          tickPadding: 5,\r\n          tickRotation: 0,\r\n          legend: ejeX,\r\n          legendPosition: 'middle',\r\n          legendOffset: 32,\r\n        }}\r\n        axisLeft={{\r\n          tickSize: 5,\r\n          tickPadding: 5,\r\n          tickRotation: 0,\r\n          legend: ejeY,\r\n          legendPosition: 'middle',\r\n          legendOffset: -45,\r\n        }}\r\n        labelSkipWidth={12}\r\n        labelSkipHeight={12}\r\n        labelTextColor={labelTextColor}\r\n        legends={[\r\n          {\r\n            anchor: 'top',\r\n            direction: 'column',\r\n            justify: false,\r\n            translateX: 0,\r\n            translateY: -30,\r\n            itemsSpacing: 0,\r\n            itemDirection: 'left-to-right',\r\n            itemWidth: 80,\r\n            itemHeight: 20,\r\n            itemOpacity: 0.75,\r\n            symbolSize: 12,\r\n            symbolShape: 'circle',\r\n            symbolBorderColor: 'rgba(0, 0, 0, .5)',\r\n            effects: [\r\n              {\r\n                on: 'hover',\r\n                style: {\r\n                  itemBackground: 'rgba(0, 0, 0, .03)',\r\n                  itemOpacity: 1,\r\n                },\r\n              },\r\n            ],\r\n          },\r\n        ]}\r\n        animate={true}\r\n        motionStiffness={90}\r\n        motionDamping={15}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ActivitiesChart = ({ data }) => (\r\n  <div style={{ height: 400 }}>\r\n    <ResponsivePie\r\n      data={data}\r\n      margin={{ top: 40, right: 80, bottom: 80, left: 80 }}\r\n      innerRadius={0.5}\r\n      padAngle={0.7}\r\n      cornerRadius={3}\r\n      colors={{ scheme: 'nivo' }}\r\n      borderWidth={1}\r\n      borderColor={{ from: 'color', modifiers: [['darker', 0.2]] }}\r\n      radialLabelsSkipAngle={10}\r\n      radialLabelsTextXOffset={6}\r\n      radialLabelsTextColor=\"#333333\"\r\n      radialLabelsLinkOffset={0}\r\n      radialLabelsLinkDiagonalLength={16}\r\n      radialLabelsLinkHorizontalLength={24}\r\n      radialLabelsLinkStrokeWidth={1}\r\n      radialLabelsLinkColor={{ from: 'color' }}\r\n      slicesLabelsSkipAngle={10}\r\n      slicesLabelsTextColor=\"#333333\"\r\n      animate={true}\r\n      motionStiffness={90}\r\n      motionDamping={15}\r\n      defs={[\r\n        {\r\n          id: 'dots',\r\n          type: 'patternDots',\r\n          background: 'inherit',\r\n          color: 'rgba(255, 255, 255, 0.3)',\r\n          size: 4,\r\n          padding: 1,\r\n          stagger: true,\r\n        },\r\n        {\r\n          id: 'lines',\r\n          type: 'patternLines',\r\n          background: 'inherit',\r\n          color: 'rgba(255, 255, 255, 0.3)',\r\n          rotation: -45,\r\n          lineWidth: 6,\r\n          spacing: 10,\r\n        },\r\n      ]}\r\n      fill={[\r\n        {\r\n          match: {\r\n            id: 'ruby',\r\n          },\r\n          id: 'dots',\r\n        },\r\n        {\r\n          match: {\r\n            id: 'c',\r\n          },\r\n          id: 'dots',\r\n        },\r\n        {\r\n          match: {\r\n            id: 'go',\r\n          },\r\n          id: 'dots',\r\n        },\r\n        {\r\n          match: {\r\n            id: 'python',\r\n          },\r\n          id: 'dots',\r\n        },\r\n        {\r\n          match: {\r\n            id: 'scala',\r\n          },\r\n          id: 'lines',\r\n        },\r\n        {\r\n          match: {\r\n            id: 'lisp',\r\n          },\r\n          id: 'lines',\r\n        },\r\n        {\r\n          match: {\r\n            id: 'elixir',\r\n          },\r\n          id: 'lines',\r\n        },\r\n        {\r\n          match: {\r\n            id: 'javascript',\r\n          },\r\n          id: 'lines',\r\n        },\r\n      ]}\r\n      legends={[\r\n        {\r\n          anchor: 'bottom',\r\n          direction: 'row',\r\n          translateY: 56,\r\n          itemWidth: 100,\r\n          itemHeight: 18,\r\n          itemTextColor: '#999',\r\n          symbolSize: 18,\r\n          symbolShape: 'circle',\r\n          effects: [\r\n            {\r\n              on: 'hover',\r\n              style: {\r\n                itemTextColor: '#000',\r\n              },\r\n            },\r\n          ],\r\n        },\r\n      ]}\r\n    />\r\n  </div>\r\n);\r\n\r\nexport { ComprasChart, ActivitiesChart };\r\n","import { gql } from 'apollo-boost';\r\n\r\nconst GET_BI_ACTIVITIES = gql`\r\n  mutation(\r\n    $idAgencia: Int!\r\n    $fechaIni: String!\r\n    $fechaFin: String!\r\n    $action: String!\r\n  ) {\r\n    getBiActivities(\r\n      idAgencia: $idAgencia\r\n      fechaIni: $fechaIni\r\n      fechaFin: $fechaFin\r\n      action: $action\r\n    ) {\r\n      idActividad\r\n      actividad\r\n      total\r\n    }\r\n  }\r\n`;\r\n\r\nconst GET_BI_COMPRAS_AND_RESERVAS_MONTHLY = gql`\r\n  mutation(\r\n    $idAgencia: Int!\r\n    $fechaIni: String!\r\n    $fechaFin: String!\r\n    $action: String!\r\n  ) {\r\n    getBiComprasAndReservas(\r\n      idAgencia: $idAgencia\r\n      fechaIni: $fechaIni\r\n      fechaFin: $fechaFin\r\n      action: $action\r\n    ) {\r\n      reservas\r\n      compras\r\n      month\r\n      income\r\n    }\r\n  }\r\n`;\r\n\r\nexport { GET_BI_ACTIVITIES, GET_BI_COMPRAS_AND_RESERVAS_MONTHLY };\r\n","export const getSesion = () => {\r\n  return JSON.parse(localStorage.getItem('usuario'));\r\n};\r\n\r\nexport const getToken = () => {\r\n  return localStorage.getItem('token');\r\n};\r\n\r\nexport const logOut = () => {\r\n  localStorage.removeItem('usuario');\r\n  localStorage.removeItem('token');\r\n};\r\n","import React, { useState, useContext, useRef } from 'react';\r\nimport {\r\n  DatePicker,\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n} from '@material-ui/pickers';\r\nimport { withStyles, makeStyles, useTheme } from '@material-ui/core/styles';\r\n// import { styles as dayStyles } from '@material-ui/core/styles/';\r\nimport clsx from 'clsx';\r\nimport DateFnsUtils from '@date-io/moment';\r\nimport moment from 'moment';\r\n\r\nimport { palette, MEDIA_SCREENS } from '../../../theme';\r\n\r\nfunction DateRangePicker({\r\n  classes,\r\n  label,\r\n  value,\r\n  onChange,\r\n  autoOk,\r\n  ...props\r\n}) {\r\n  //   const [begin, setBegin] = useState(value[0]);\r\n  //   const [end, setEnd] = useState(value[1]);\r\n  const [selected, setSelected] = useState(0);\r\n  const [hover, setHover] = useState(undefined);\r\n  const picker = useRef();\r\n\r\n  const begin = value[0];\r\n  const end = value[1];\r\n\r\n  const min = moment.min([moment(begin), moment(end) || moment(hover)]);\r\n  const max = moment.max([moment(begin), moment(end) || moment(hover)]);\r\n\r\n  function renderDay(day, selectedDate, dayInCurrentMonth, dayComponent) {\r\n    const Day = () =>\r\n      React.cloneElement(dayComponent, {\r\n        onClick: e => {\r\n          e.stopPropagation();\r\n\r\n          console.log(selected);\r\n          if (selected == 0) {\r\n            // setBegin(day);\r\n            setSelected(selected + 1);\r\n            onChange([day, day]);\r\n          } else if (selected == 1) {\r\n            // setEnd(day);\r\n            setSelected(selected + 1);\r\n            onChange(\r\n              [moment(begin).toDate(), moment(day).toDate()].sort(\r\n                (a, b) => new Date(a) - new Date(b)\r\n              )\r\n            );\r\n          } else {\r\n            // setBegin(day);\r\n            // setEnd(day);\r\n            setSelected(1);\r\n            onChange([day, day]);\r\n          }\r\n        },\r\n        onMouseEnter: e => setHover(day),\r\n        className: clsx(classes.day, {\r\n          [classes.hidden]: dayComponent.props.hidden,\r\n          [classes.current]: dayComponent.props.current,\r\n          [classes.isSelected]:\r\n            moment(day).isSameOrAfter(moment(min), 'day') &&\r\n            moment(day).isSameOrBefore(moment(max), 'day'),\r\n          [classes.beginCap]: moment(day).isSame(moment(min), 'day'),\r\n          [classes.endCap]: moment(day).isSame(moment(max), 'day'),\r\n        }),\r\n      });\r\n\r\n    return <Day />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"form-group\">\r\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <KeyboardDatePicker\r\n          //   {...props}\r\n          fullWidth\r\n          label={label}\r\n          //   orientation=\"landscape\"\r\n          //   variant=\"inline\"\r\n          autoOk={autoOk}\r\n          value={begin}\r\n          renderDay={renderDay}\r\n          onChange={() => {}}\r\n          ref={picker}\r\n          labelFunc={(date, invalid) =>\r\n            date && begin && end\r\n              ? `${moment(begin).format('DD[/]MM[/]YYYY')} - ${moment(\r\n                  end\r\n                ).format('DD[/]MM[/]YYYY')}`\r\n              : 'Selecciona un rango'\r\n          }\r\n        />\r\n      </MuiPickersUtilsProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const styles = theme => {\r\n  // const base = makeStyles(theme);\r\n  // const base = useTheme();\r\n  return {\r\n    // ...base,\r\n    isDisabled: {\r\n      textDecoration: 'line-through',\r\n      opacity: 0.7,\r\n      '&:hover': {\r\n        cursor: 'unset',\r\n        background: 'rgba(0,0,0,0)',\r\n      },\r\n    },\r\n    isSelected: {\r\n      backgroundColor: palette.primary.main,\r\n      color: palette.primary.contrastText,\r\n    },\r\n    day: {\r\n      // ...base.day,\r\n      margin: 0,\r\n      width: '40px',\r\n      borderRadius: '0',\r\n      //   width: '36px',\r\n      height: '36px',\r\n      //   margin: '0 2px',\r\n      padding: '0',\r\n      fontSize: '0.75rem',\r\n      fontWeight: '500',\r\n    },\r\n    beginCap: {\r\n      borderRadius: '50% 0 0 50%',\r\n    },\r\n    endCap: {\r\n      borderRadius: '0 50% 50% 0',\r\n    },\r\n  };\r\n};\r\n\r\nexport default withStyles(styles, { name: 'DateRangePicker' })(DateRangePicker);\r\n","import React, { useState, useEffect } from 'react';\r\nimport Container from '../../../components/common/wrappers/Container';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TodayIcon from '@material-ui/icons/Today';\r\nimport LoadieWrap from '../../../components/common/wrappers/LoadieWrap';\r\nimport { palette, CSS_HELPERS_REACT } from '../../../theme';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport { uiCopys } from '../../../theme/uiStrings';\r\nimport ConsolidadoChart from '../../../components/analytics/ConsolidadoChart';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport RangePicker from '../../../components/common/inputs/RangePicker';\r\nimport moment from 'moment';\r\nimport {\r\n  ComprasChart,\r\n  ActivitiesChart,\r\n} from '../../../components/analytics/ComprasCharts';\r\n\r\nimport JSONTree from 'react-json-tree';\r\n\r\nimport { graphql } from 'react-apollo';\r\nimport gql from 'graphql-tag';\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport {\r\n  GET_BI_ACTIVITIES,\r\n  GET_BI_COMPRAS_AND_RESERVAS_MONTHLY,\r\n} from '../../../queries/analytics';\r\nimport { getSesion } from '../../../helpers/sesion';\r\nimport DateRangePicker from '../../../components/common/inputs/DateRangePicker';\r\n\r\nconst AnalyticsPage = props => {\r\n  const classes = useStyles();\r\n\r\n  //METODOS GQL\r\n  const [\r\n    getBiComprasAndReservas,\r\n    {\r\n      data: biComprasYreservas,\r\n      loading: biComprasYreservasLoad,\r\n      error: biComprasYreservasError,\r\n    },\r\n  ] = useMutation(GET_BI_COMPRAS_AND_RESERVAS_MONTHLY);\r\n\r\n  const [\r\n    getBiActivities,\r\n    { data: biActivities, loading: biActivitiesLoad, error: biActivitiesError },\r\n  ] = useMutation(GET_BI_ACTIVITIES);\r\n\r\n  const [fechaIni, setFechaIni] = useState(moment().subtract(1, 'months'));\r\n  const [fechaFin, setFechaFin] = useState(moment());\r\n\r\n  //TRIGGER METODOS\r\n  const handleChange = ({ fechaIni, fechaFin }) => {\r\n    setFechaIni(fechaIni);\r\n    setFechaFin(fechaFin);\r\n\r\n    const ini = moment(fechaIni).format('DD/MM/YYYY');\r\n    const fin = moment(fechaFin).format('DD/MM/YYYY');\r\n    const sesion = getSesion();\r\n\r\n    const { idPlanner } = sesion.agencia;\r\n\r\n    const payload2 = {\r\n      idAgencia: idPlanner,\r\n      fechaIni: ini,\r\n      fechaFin: fin,\r\n      action: 'bi_activities_per_agency',\r\n    };\r\n    const payload1 = {\r\n      idAgencia: idPlanner,\r\n      fechaIni: ini,\r\n      fechaFin: fin,\r\n      action: 'bi_compras_and_reservas_monthly',\r\n    };\r\n\r\n    getBiComprasAndReservas({ variables: payload1 })\r\n      .then(({ data }) => {})\r\n      .catch(err => console.log(err));\r\n    getBiActivities({ variables: payload2 })\r\n      .then(({ data }) => {})\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   handleChange({ fechaIni, fechaFin });\r\n  // });\r\n\r\n  const data1 =\r\n    biComprasYreservas && biComprasYreservas.getBiComprasAndReservas\r\n      ? [\r\n          {\r\n            id: uiCopys().BOOKINS,\r\n            color: palette.primary.main,\r\n            data: biComprasYreservas.getBiComprasAndReservas.map((item, i) => ({\r\n              x: uiCopys().CPY_MONTS_SHORT[item.month],\r\n              y: item.reservas,\r\n            })),\r\n          },\r\n          {\r\n            id: uiCopys().SALES,\r\n            color: palette.secondary.main,\r\n            data: biComprasYreservas.getBiComprasAndReservas.map((item, i) => ({\r\n              x: uiCopys().CPY_MONTS_SHORT[item.month],\r\n              y: item.compras,\r\n            })),\r\n          },\r\n        ]\r\n      : [];\r\n\r\n  const data2 =\r\n    biActivities && biActivities.getBiActivities\r\n      ? biActivities.getBiActivities.map((item, i) => ({\r\n          id: item.actividad,\r\n          label: item.actividad,\r\n          value: item.total,\r\n        }))\r\n      : [];\r\n\r\n  const data3 =\r\n    biComprasYreservas && biComprasYreservas.getBiComprasAndReservas\r\n      ? biComprasYreservas.getBiComprasAndReservas.map((item, i) => ({\r\n          [uiCopys().MONTH]: uiCopys().CPY_MONTS_SHORT[item.month],\r\n          total: item.income,\r\n        }))\r\n      : [];\r\n\r\n  return (\r\n    <Container title=\"Observa lo que dicen tus datos\">\r\n      {/* {idAgencia && <JSONTree data={idAgencia} />} */}\r\n      {/* <RangePicker handleChange={handleChange}></RangePicker> */}\r\n      <div className=\"row\">\r\n        <div className=\"col-sm-12 col-md-5 col-lg-3\">\r\n          <DateRangePicker\r\n            label=\"Rango de fechas\"\r\n            autoOk\r\n            value={[fechaIni, fechaFin]}\r\n            onChange={value =>\r\n              handleChange({ fechaIni: value[0], fechaFin: value[1] })\r\n            }\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n        justify=\"flex-start\"\r\n        alignItems=\"center\"\r\n        spacing={3}\r\n      >\r\n        <Grid item xs={6}>\r\n          <LoadieWrap mini loading={biComprasYreservasLoad}>\r\n            <Card className={classes.card}>\r\n              <CardActions disableSpacing>\r\n                <CardHeader\r\n                  title=\"Ventas y pasajeros\"\r\n                  subheader={`Desde: ${moment(fechaIni).format(\r\n                    'DD/MM/YYYY'\r\n                  )} hasta: ${moment(fechaFin).format('DD/MM/YYYY')}`}\r\n                />\r\n                {/* <IconButton\r\n                  className={classes.floatRight}\r\n                  onClick={() => {}}\r\n                  aria-label=\"show more\"\r\n                >\r\n                  <TodayIcon />\r\n                </IconButton> */}\r\n              </CardActions>\r\n              <CardContent>\r\n                <ConsolidadoChart data={data1} />\r\n              </CardContent>\r\n            </Card>\r\n          </LoadieWrap>\r\n        </Grid>\r\n\r\n        <Grid item xs={6}>\r\n          <LoadieWrap mini loading={biComprasYreservasLoad}>\r\n            <Card className={classes.card}>\r\n              <CardActions disableSpacing>\r\n                <CardHeader\r\n                  title=\"Total ventas\"\r\n                  subheader={`Desde: ${moment(fechaIni).format(\r\n                    'DD/MM/YYYY'\r\n                  )} hasta: ${moment(fechaFin).format('DD/MM/YYYY')}`}\r\n                />\r\n              </CardActions>\r\n              <CardContent>\r\n                <ComprasChart\r\n                  colors={palette.secondary.main}\r\n                  labelTextColor={palette.secondary.contrastText}\r\n                  ejeX={'Meses'}\r\n                  ejeY={'Ganancias'}\r\n                  keys={['total']}\r\n                  data={data3}\r\n                />\r\n              </CardContent>\r\n            </Card>\r\n          </LoadieWrap>\r\n        </Grid>\r\n\r\n        <Grid item xs={6}>\r\n          <LoadieWrap mini loading={biActivitiesLoad}>\r\n            <Card className={classes.card}>\r\n              <CardActions disableSpacing>\r\n                <CardHeader\r\n                  title=\"Actividades que gustan más\"\r\n                  subheader={`Desde: ${moment(fechaIni).format(\r\n                    'DD/MM/YYYY'\r\n                  )} hasta: ${moment(fechaFin).format('DD/MM/YYYY')}`}\r\n                />\r\n                {/* <IconButton\r\n                  className={classes.floatRight}\r\n                  onClick={() => {}}\r\n                  aria-label=\"show more\"\r\n                >\r\n                  <TodayIcon />\r\n                </IconButton> */}\r\n              </CardActions>\r\n              <CardContent>\r\n                <ActivitiesChart data={data2} />\r\n              </CardContent>\r\n            </Card>\r\n          </LoadieWrap>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  card: {\r\n    ...CSS_HELPERS_REACT.BOX_SHADOW,\r\n    borderRadius: '.6em',\r\n  },\r\n  floatRight: {\r\n    marginLeft: 'auto',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  input: {\r\n    marginLeft: '2em',\r\n  },\r\n}));\r\n\r\nexport default AnalyticsPage;\r\n","import { switchCase } from '@babel/types';\r\n\r\nimport es from './locales/es.json';\r\n\r\nexport const fnUiStrings = locale => {\r\n  const uiStrings = {};\r\n  switch (locale) {\r\n    case 'es':\r\n      return es;\r\n    case 'en':\r\n      return es;\r\n    default:\r\n      return es;\r\n  }\r\n};\r\n\r\nexport function uiCopys() {\r\n  const es = {\r\n    CPY_USER_EXISTS: 'EMAIL ALREADY EXISTS',\r\n    CPY_EXPLORE_WHAT_YOUR_DATA_SAYS: 'Explore what your data says',\r\n    SALES_AND_RESERVATIONS: 'Sales and reservations',\r\n    TOTAL_SALES: 'Total sales',\r\n    BEST_ADVANTURES: 'Your nomaders likes these activities the most',\r\n    SALES: 'Sales',\r\n    BOOKINS: 'Bookings',\r\n    MONTH: 'Month',\r\n    INCOMES: 'Incomes',\r\n    CPY_MONTS_SHORT: {\r\n      1: 'ENE',\r\n      2: 'FEB',\r\n      3: 'MAR',\r\n      4: 'ABR',\r\n      5: 'MAY',\r\n      6: 'JUN',\r\n      7: 'JUL',\r\n      8: 'AGO',\r\n      9: 'SEP',\r\n      10: 'OCT',\r\n      11: 'NOV',\r\n      12: 'DIC',\r\n    },\r\n  };\r\n\r\n  return es;\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Button from '@material-ui/core/Button';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\nimport EventIcon from '@material-ui/icons/Event';\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport PlaylistAddIcon from '@material-ui/icons/PlaylistAdd';\r\nimport TimelineIcon from '@material-ui/icons/Timeline';\r\nimport ExploreIcon from '@material-ui/icons/Explore';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport UsuarioAvatar from '../usuario/UsuarioAvatar';\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\r\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\r\n\r\nimport { ListItemAvatar } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles({\r\n  list: {\r\n    width: 250,\r\n  },\r\n  fullList: {\r\n    width: 'auto',\r\n  },\r\n});\r\n\r\nconst LeftSideBar = ({\r\n  history,\r\n  usuario,\r\n  logout,\r\n  isLeftSideBarOpen,\r\n  openLeftSideBar,\r\n  closeLeftSideBar,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [state, setState] = React.useState({\r\n    top: false,\r\n    left: false,\r\n    bottom: false,\r\n    right: false,\r\n  });\r\n\r\n  let isComercio;\r\n\r\n  if (usuario) {\r\n    isComercio = usuario.idComercio;\r\n  }\r\n\r\n  let linksToShow = [];\r\n\r\n  if (isComercio) {\r\n    linksToShow = [\r\n      { path: '/dashboard', text: 'Dashboard', icon: <DashboardIcon /> },\r\n      // { path: '/calendar', text: 'Calendario', icon: <EventIcon /> },\r\n      // { path: '/plans', text: 'Planes', icon: <ListAltIcon /> },\r\n      // {\r\n      //   path: '/plan/create',\r\n      //   text: 'Crea un nuevo plan',\r\n      //   icon: <PlaylistAddIcon />,\r\n      // },\r\n      // { path: '/analytics', text: 'Analytics', icon: <TimelineIcon /> },\r\n      // {\r\n      //   path: '/agency/' + isComercio.idPlanner || '',\r\n      //   text: 'Perfil de agencia',\r\n      //   icon: <ExploreIcon />,\r\n      // },\r\n    ];\r\n  } else {\r\n    linksToShow = [{ path: '/login', text: 'Login', icon: <LockOpenIcon /> }];\r\n  }\r\n\r\n  const toggleDrawer = open => event => {\r\n    if (\r\n      event.type === 'keydown' &&\r\n      (event.key === 'Tab' || event.key === 'Shift')\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    open ? openLeftSideBar() : closeLeftSideBar();\r\n  };\r\n\r\n  const sideList = () => (\r\n    <div\r\n      className={classes.list}\r\n      role=\"presentation\"\r\n      onClick={toggleDrawer(false)}\r\n      onKeyDown={toggleDrawer(false)}\r\n    >\r\n      <List>\r\n        {usuario && (\r\n          <ListItem className=\"my-4\">\r\n            <ListItemAvatar className=\"mx-auto\">\r\n              <UsuarioAvatar usuario={usuario} />\r\n            </ListItemAvatar>\r\n          </ListItem>\r\n        )}\r\n        {usuario && (\r\n          <ListItem className=\"my-4\">\r\n            <ListItemText\r\n              // title={usuario.nombre + ' ' + usuario.apellido}\r\n              primary={\r\n                <h5 className=\"text-center\">\r\n                  {usuario.nombre + ' ' + usuario.apellido}\r\n                </h5>\r\n              }\r\n            />\r\n            {/* <p>{usuario.nombre + ' ' + usuario.apellido}</p> */}\r\n          </ListItem>\r\n        )}\r\n        {linksToShow.map((link, index) => (\r\n          <Link\r\n            key={link.path}\r\n            to={link.path}\r\n            style={{ color: 'unset', textDecoration: 'unset' }}\r\n          >\r\n            <ListItem button key={link.path}>\r\n              <ListItemIcon>{link.icon}</ListItemIcon>\r\n              <ListItemText primary={link.text} />\r\n            </ListItem>\r\n          </Link>\r\n        ))}\r\n      </List>\r\n      <Divider />\r\n      {usuario && (\r\n        <>\r\n          <List>\r\n            <Link\r\n              to=\"/account/settings\"\r\n              style={{ color: 'unset', textDecoration: 'unset' }}\r\n            >\r\n              <ListItem button>\r\n                <ListItemIcon>\r\n                  <AccountBoxIcon />\r\n                </ListItemIcon>\r\n                <ListItemText primary=\"Cuenta\" />\r\n              </ListItem>\r\n            </Link>\r\n          </List>\r\n          <Divider />\r\n          <List>\r\n            <ListItem\r\n              button\r\n              onClick={() => {\r\n                history.replace('/login');\r\n                logout();\r\n              }}\r\n            >\r\n              <ListItemIcon>\r\n                <ExitToAppIcon />\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"Cerrar sesión\" />\r\n            </ListItem>\r\n          </List>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Drawer open={isLeftSideBarOpen} onClose={closeLeftSideBar}>\r\n      {sideList()}\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ loginState, sideBarState }) => {\r\n  const { usuario, logged, menu } = loginState;\r\n  const { isLeftSideBarOpen } = sideBarState;\r\n\r\n  return {\r\n    usuario,\r\n    isLeftSideBarOpen,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    logout: () => dispatch({ type: 'LOGOUT' }),\r\n    openLeftSideBar: () => dispatch({ type: 'OPEN_LEFT_SIDEBAR' }),\r\n    closeLeftSideBar: () => dispatch({ type: 'CLOSE_LEFT_SIDEBAR' }),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LeftSideBar);\r\n","import React, { Component } from 'react';\r\n\r\nimport moment from 'moment';\r\nimport 'moment/locale/es';\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  withRouter,\r\n} from 'react-router-dom';\r\nimport '@fortawesome/fontawesome-free/css/all.min.css';\r\nimport 'bootstrap/scss/bootstrap.scss';\r\nimport 'linearicons/dist/web-font/style.css';\r\n\r\nimport { compose } from 'redux';\r\n\r\nimport './sass/index.scss';\r\nimport { connect } from 'react-redux';\r\nimport Header from './components/header/Header';\r\nimport NotFountPage from './pages/shared/notFound/NotFoundPage';\r\n\r\nimport ReservationPage from './pages/planner/reservation/ReservationPage';\r\n\r\nimport LoginPage from './pages/shared/login/LoginPage';\r\n\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport { Snackbar } from '@material-ui/core';\r\n\r\nimport SnackbarContentWrapper from './components/common/SnackbarContentWrapper';\r\n\r\nimport AccountSettingsPage from './pages/shared/account/AccountSettingsPage';\r\n\r\nimport AgencyPage from './pages/shared/profile/AgencyPage';\r\nimport PlanCreatePage from './pages/shared/plan/PlanCreatePage';\r\n\r\nimport LoginModal from './components/login/LoginModal';\r\n\r\nimport AgencyInfoPage from './pages/shared/account/AgencyInfoPage';\r\nimport LoginAndSecurityPage from './pages/shared/account/LoginAndSecurityPage';\r\n\r\nimport UserProvdier from './contexts/UserProvider';\r\nimport AppLayout from './components/common/Layouts/AppLayout';\r\n\r\nimport PersonalInfoPage from './pages/shared/account/PersonalInfoPage';\r\nimport ScrollTop from './components/common/ScrollTop';\r\n\r\nimport DashboardPage from './pages/planner/dashboard/DashboardPage';\r\nimport CalendarPage from './pages/planner/calendar/CalendarPage';\r\nimport ConfirmModal from './components/common/ConfirmModal';\r\nimport PlanesPage from './pages/planner/planes/PlanesPage';\r\nimport AnalyticsPage from './pages/planner/analytics/AnalyticsPage';\r\nimport { ApolloProvider } from '@apollo/react-hooks';\r\nimport { palette } from './theme';\r\nimport LeftSideBar from './components/LeftSideBar/LeftSideBar';\r\n\r\nimport { ApolloClient } from 'apollo-client';\r\nimport { InMemoryCache } from 'apollo-cache-inmemory';\r\nimport { createHttpLink } from 'apollo-link-http';\r\nimport { gqlproxy } from './helpers/proxyConfig';\r\n\r\nmoment.locale('es');\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: palette.primary.main,\r\n      contrastText: palette.primary.contrastText,\r\n    },\r\n    secondary: {\r\n      main: palette.secondary.main,\r\n      contrastText: palette.secondary.contrastText,\r\n    },\r\n    danger: {\r\n      main: palette.secondary.main,\r\n      contrastText: palette.secondary.contrastText,\r\n    },\r\n  },\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  link: createHttpLink({ uri: gqlproxy.url }),\r\n  cache: new InMemoryCache(),\r\n});\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { usuario, logged, loadOrders, loadComercio } = this.props;\r\n\r\n    if (logged) {\r\n      loadOrders(usuario.idComercio);\r\n      loadComercio(usuario.idComercio);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { usuario, logged, open, time, mensaje, variant, close } = this.props;\r\n\r\n    let publicRoutes = [\r\n      {\r\n        path: '/',\r\n        component: LoginPage,\r\n      },\r\n      {\r\n        path: '/login',\r\n        component: LoginPage,\r\n      },\r\n    ];\r\n\r\n    const plannerRoutes = [\r\n      {\r\n        path: '/plan/create/:idPlan?',\r\n        component: PlanCreatePage,\r\n      },\r\n      {\r\n        path: '/account/agency-info',\r\n        component: AgencyInfoPage,\r\n      },\r\n      {\r\n        path: '/dashboard',\r\n        component: DashboardPage,\r\n      },\r\n      {\r\n        path: '/calendar',\r\n        component: CalendarPage,\r\n      },\r\n      {\r\n        path: '/plans',\r\n        component: PlanesPage,\r\n      },\r\n      ,\r\n      {\r\n        path: '/agency/:idPlanner',\r\n        component: AgencyPage,\r\n      },\r\n      {\r\n        path: '/account/settings',\r\n        component: AccountSettingsPage,\r\n      },\r\n      {\r\n        path: '/account/personal-info',\r\n        component: PersonalInfoPage,\r\n      },\r\n      {\r\n        path: '/account/login-security',\r\n        component: LoginAndSecurityPage,\r\n      },\r\n      {\r\n        path: '/reservation/:idTrip',\r\n        component: ReservationPage,\r\n      },\r\n\r\n      {\r\n        path: '/analytics',\r\n        component: AnalyticsPage,\r\n      },\r\n    ];\r\n\r\n    return (\r\n      <ApolloProvider client={client}>\r\n        <UserProvdier>\r\n          <Router history={this.props.history}>\r\n            <ScrollTop>\r\n              <AppLayout\r\n                // style={{\r\n                //   display: 'flex',\r\n                //   flexDirection: 'column',\r\n                //   height: '100vh',\r\n                // }}\r\n                history={this.props.history}\r\n              >\r\n                <Header {...this.props} />\r\n                <div style={{ flex: '1 0 auto' }}>\r\n                  {/* <div className=\"container-fluid2\">\r\n                    <Button\r\n                      startIcon={<ArrowBackIosIcon fontSize=\"inherit\" />}\r\n                      color=\"primary\"\r\n                      className=\"ml-auto\"\r\n                      onClick={() => this.props.history.goBack()}\r\n                    >\r\n                      Regresar\r\n                    </Button>\r\n                  </div> */}\r\n                  <Switch>\r\n                    {logged &&\r\n                      usuario.idComercio &&\r\n                      plannerRoutes.map((route, index) => (\r\n                        <Route key={index} exact {...route} />\r\n                      ))}\r\n                    {publicRoutes.map((route, index) => (\r\n                      <Route key={index} exact {...route} />\r\n                    ))}\r\n                    <Route path=\"/404\" component={NotFountPage} />\r\n                    <Route component={NotFountPage} />\r\n                  </Switch>\r\n                  <Snackbar\r\n                    anchorOrigin={{\r\n                      vertical: 'top',\r\n                      horizontal: 'right',\r\n                    }}\r\n                    open={open}\r\n                    autoHideDuration={time || 4000}\r\n                    variant={variant}\r\n                    onClose={close}\r\n                    onExited={close}\r\n                  >\r\n                    <SnackbarContentWrapper\r\n                      onClose={close}\r\n                      variant={variant || 'info'}\r\n                      message={mensaje}\r\n                    />\r\n                  </Snackbar>\r\n                  <LoginModal history={this.props.history} />\r\n                  <ConfirmModal />\r\n                  <LeftSideBar history={this.props.history} />\r\n                </div>\r\n\r\n                {/* <Footer /> */}\r\n              </AppLayout>\r\n            </ScrollTop>\r\n          </Router>\r\n        </UserProvdier>\r\n      </ApolloProvider>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ loginState, snackbarState }) => {\r\n  const { usuario, logged } = loginState;\r\n\r\n  const { open, time, mensaje, variant } = snackbarState;\r\n  return {\r\n    usuario,\r\n    logged,\r\n    open,\r\n    time,\r\n    mensaje,\r\n    variant,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    loadOrders: idComercio => dispatch({ type: 'ORDERS_GET', idComercio }),\r\n    loadComercio: idComercio =>\r\n      dispatch({ type: 'COMERCIO_GET_BY_ID', idComercio }),\r\n    close: () => dispatch({ type: 'CLOSE_SNACKBAR', open: false }),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, mapDispatchToProps)\r\n)(App);\r\n// export default compose(\r\n//     withRouter,\r\n//     connect(\r\n//         mapStateToProps,\r\n//         null\r\n//     )\r\n// )(App);\r\n","// let user = localStorage.getItem(\"user\");\r\nlet usuario = JSON.parse(localStorage.getItem('usuario'));\r\n\r\nlet defaultState = {\r\n  loading: false,\r\n  usuario,\r\n  logged: usuario ? true : false,\r\n  showLoginModal: false,\r\n};\r\n\r\nconst loginReducer = (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case 'LOGIN':\r\n      return { ...state, loading: true, login: action.login };\r\n    case 'LOGIN_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        usuario: { ...action.usuario },\r\n        logged: true,\r\n      };\r\n    case 'LOGIN_ERROR':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.error,\r\n      };\r\n    case 'LOGOUT':\r\n      return {\r\n        ...state,\r\n        logged: false,\r\n        usuario: undefined,\r\n      };\r\n    case 'SHOW_LOGIN_MODAL':\r\n      return {\r\n        ...state,\r\n        showLoginModal: action.show,\r\n      };\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n\r\nexport default loginReducer;\r\n","let initialState = {\r\n  loading: false,\r\n  loadingList: false,\r\n  plan: {},\r\n  planes: [],\r\n  stepForm: 0,\r\n  error: {},\r\n};\r\n\r\nexport default function lugarReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'PLAN_CHANGE':\r\n      return { ...state, plan: { ...action.plan } };\r\n    case 'PLAN_STEP_FORM_CHANGE':\r\n      return { ...state, stepForm: action.stepForm };\r\n    case 'PLANES_GET':\r\n      return { ...state, loadingList: true };\r\n    case 'PLANES_GET_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        planes: [...action.planes],\r\n        lastSync: new Date(),\r\n      };\r\n    case 'PLANES_GET_ERROR':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        mensaje: action.mensaje,\r\n        error: action.error,\r\n      };\r\n    case 'PLANES_GET_BY_CIUDAD':\r\n      return { ...state, loadingList: true };\r\n    case 'PLANES_GET_BY_PLANNER':\r\n      return { ...state, loadingList: true };\r\n    case 'PLANES_GET_BY_PLANNER_SUCCESS':\r\n      return { ...state, loadingList: false, planes: [...action.planes] };\r\n    case 'PLAN_GET_BY_ID':\r\n      return { ...state, loadingList: true };\r\n    case 'PLAN_GET_BY_ID_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        plan: { ...action.plan, lastSync: new Date() },\r\n      };\r\n    case 'PLAN_GET_BY_ID_ERROR':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        mensaje: action.mensaje,\r\n        error: action.error,\r\n      };\r\n    case 'PLAN_BASIC_INFO_SAVE':\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case 'PLAN_MAIN_PICTURE_SAVE':\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case 'PLAN_INCLUIDOS_SAVE':\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case 'PLAN_ITINERARIOS_SAVE':\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case 'PLAN_LUGARES_SAVE':\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case 'PLAN_ACTIVIDADES_SAVE':\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case 'PLAN_SAVE_SUCCESS':\r\n      let index = state.planes.findIndex(\r\n        plan => plan.idPlan == action.plan.idPlan\r\n      );\r\n\r\n      let newPlanesState = [];\r\n\r\n      if (index == -1) {\r\n        newPlanesState = [...state.planes, action.plan];\r\n      } else {\r\n        newPlanesState = replaceArrayPlans(state.planes, action.plan);\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        planes: newPlanesState,\r\n      };\r\n    case 'PLAN_SAVE_ERROR':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        mensaje: action.mensaje,\r\n        error: action.error,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n\r\n  function replaceArrayPlans(state, plan) {\r\n    let index = state.findIndex(x => x.idPlan === plan.idPlan);\r\n    let arr = Object.assign([], state);\r\n    arr[index] = plan;\r\n    return arr;\r\n  }\r\n}\r\n","let initialState = {\r\n  loading: false,\r\n  loadingList: false,\r\n  ciudad: {},\r\n  ciudades: [],\r\n  error: {},\r\n};\r\n\r\nexport default function ciudadReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'CIUDADES_GET':\r\n      return { ...state, loadingList: true };\r\n    case 'CIUDADES_GET_SUCCESS':\r\n      return { ...state, loadingList: false, ciudades: action.ciudades };\r\n    case 'CIUDAD_GET_BY_ID_SUCCESS':\r\n      return { ...state, loadingList: false, ciudad: { ...action.ciudad } };\r\n    case 'CIUDAD_GET_BY_ID_ERROR':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        error: { ...action.error },\r\n        mensaje: action.mensaje,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","let initialState = {\r\n  loading: false,\r\n  loadingList: false,\r\n  lugar: {},\r\n  lugares: [],\r\n  error: {},\r\n};\r\n\r\nexport default function lugarReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'LUGARES_GET':\r\n      return { ...state, loadingList: true };\r\n    case 'LUGARES_GET_SUCCESS':\r\n      return { ...state, loadingList: false, lugares: action.lugares };\r\n    case 'LOAD_LUGAR_BY_ID':\r\n      return { ...state, loading: true };\r\n    case 'LOAD_LUGAR_BY_ID_SUCCESS':\r\n      return { ...state, loading: false, lugar: action.lugar };\r\n    // LEGACY\r\n    case 'CREATE_LUGAR':\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case 'CREATE_LUGAR_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        lugares: [...state.lugares, action.lugar],\r\n      };\r\n    case 'UPDATE_LUGAR':\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case 'UPDATE_LUGAR_SUCCESS':\r\n      return {\r\n        ...state,\r\n        lugares: [...replaceArrayLugar(state, action.lugar)],\r\n      };\r\n    case 'DELETE_LUGAR':\r\n      return { ...state, loading: true };\r\n    case 'DELETE_LUGAR_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        lugares: [...state.filter(x => x.idLugar !== action.lugar.idLugar)],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n\r\n  function replaceArrayLugar(state, lugar) {\r\n    let index = state.findIndex(x => x.idLugar === lugar.idLugar);\r\n    let arr = Object.assign([], state);\r\n    arr[index] = lugar;\r\n    return arr;\r\n  }\r\n}\r\n","let defaultState = {\r\n  loading: false,\r\n  registro: {},\r\n  registrado: false,\r\n};\r\n\r\nconst registroReducer = (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case 'REGISTRO':\r\n      return { ...state, loading: true, registro: action.registro };\r\n    case 'REGISTRO_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      };\r\n    case 'REGISTRO_ERROR':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.error,\r\n        mensaje: action.mensaje,\r\n      };\r\n    case 'VERIFICAR':\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        verified: false,\r\n      };\r\n    case 'VERIFICAR_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        verified: true,\r\n        mensaje: undefined,\r\n      };\r\n    case 'VERIFICAR_ERROR':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        verified: false,\r\n        mensaje: action.mensaje,\r\n      };\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n\r\nexport default registroReducer;\r\n","let initialState = {\r\n  loading: false,\r\n  loadingList: false,\r\n  usuario: {},\r\n  usuarioOldValue: {},\r\n};\r\n\r\nexport default function usuarioReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'USUARIO_CHANGE':\r\n      return { ...state, usuario: { ...action.usuario } };\r\n    case 'USUARIO_GET_BY_ID':\r\n      return { ...state, loadingList: true };\r\n    case 'USUARIO_GET_BY_ID_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        usuario: { ...action.usuario },\r\n        usuarioOldValue: { ...action.usuario },\r\n      };\r\n    case 'USUARIO_GET_BY_ID_ERROR':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        mensaje: action.mensaje,\r\n        error: action.error,\r\n      };\r\n    case 'USUARIO_SAVE_PROFILE_INFO':\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case 'USUARIO_SAVE_PERSONAL_INFO':\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case 'USUARIO_SAVE_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      };\r\n    case 'USUARIO_SAVE_ERROR':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        mensaje: action.mensaje,\r\n        error: action.error,\r\n      };\r\n    case 'USUARIO_CHANGE_PASSWORD':\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case 'USUARIO_CHANGE_PASSWORD_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        usuarioContrasena: undefined,\r\n      };\r\n    case 'USUARIO_CHANGE_PASSWORD_ERROR':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        mensaje: action.mensaje,\r\n        error: action.error,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","let initialState = {\r\n  loading: false,\r\n  loadingList: false,\r\n  pais: {},\r\n  paises: [],\r\n  error: {},\r\n};\r\n\r\nexport default function paisReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'PAISES_GET':\r\n      return { ...state, loadingList: true };\r\n    case 'PAISES_GET_SUCCESS':\r\n      return { ...state, loadingList: false, paises: action.paises };\r\n    case 'PAISES_GET_ERROR':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        error: action.error,\r\n        mensaje: action.mensaje,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","let initialState = {\r\n  loading: false,\r\n  loadingList: false,\r\n  planner: {},\r\n  plannerOldValue: {},\r\n  stepForm: 0,\r\n};\r\n\r\nexport default function plannerReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'PLANNER_CHANGE':\r\n      return { ...state, planner: { ...action.planner } };\r\n    case 'PLANNNER_STEP_FORM_CHANGE':\r\n      return { ...state, stepForm: action.stepForm };\r\n    case 'PLANNER_GET_BY_ID':\r\n      return { ...state, loadingList: true };\r\n    case 'PLANNER_GET_BY_ID_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        planner: { ...action.planner },\r\n        plannerOldValue: { ...action.planner },\r\n      };\r\n    case 'PLANNER_GET_BY_ID_ERROR':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        mensaje: action.mensaje,\r\n        error: action.error,\r\n      };\r\n    case 'PLANNER_GET_BY_ID_USUARIO':\r\n      return { ...state, loadingList: true };\r\n    case 'PLANNER_GET_BY_ID_USUARIO_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        planner: { ...action.planner },\r\n        plannerOldValue: { ...action.planner },\r\n        stepForm: action.stepForm,\r\n      };\r\n    case 'PLANNER_GET_BY_ID_USUARIO_ERROR':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        mensaje: action.mensaje,\r\n        error: action.error,\r\n      };\r\n    case 'PLANNER_BASIC_INFO_SAVE':\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case 'PLANNER_LOCATION_INFO_SAVE':\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case 'PLANNER_BRAND_INFO_SAVE':\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case 'PLANNER_SAVE_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      };\r\n    case 'PLANNER_SAVE_ERROR':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        mensaje: action.mensaje,\r\n        error: action.error,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","let defaultState = {\r\n  open: false,\r\n};\r\n\r\nconst snackbarReducer = (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case 'SHOW_SNACKBAR':\r\n      return {\r\n        ...state,\r\n        open: true,\r\n        mensaje: action.mensaje,\r\n        time: action.time,\r\n        variant: action.variant,\r\n      };\r\n    case 'CLOSE_SNACKBAR':\r\n      return {\r\n        ...state,\r\n        open: false,\r\n      };\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n\r\nexport default snackbarReducer;\r\n","let initialState = {\r\n  loading: false,\r\n  loadingList: false,\r\n  incluido: {},\r\n  incluidos: [],\r\n  error: {},\r\n};\r\n\r\nexport default function incluidoReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'INCLUIDOS_GET':\r\n      return { ...state, loadingList: true };\r\n    case 'INCLUIDOS_GET_SUCCESS':\r\n      return { ...state, loadingList: false, incluidos: [...action.incluidos] };\r\n    case 'INCLUIDOS_GET_ERROR':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        error: action.error,\r\n        mensaje: action.mensaje,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","let initialState = {\r\n  loading: false,\r\n  loadingList: false,\r\n  actividad: {},\r\n  actividades: [],\r\n  error: {},\r\n};\r\n\r\nexport default function actividadReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'ACTIVIDADES_GET':\r\n      return { ...state, loadingList: true };\r\n    case 'ACTIVIDADES_GET_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        actividades: [...action.actividades],\r\n      };\r\n    case 'ACTIVIDADES_GET_ERROR':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        error: action.error,\r\n        mensaje: action.mensaje,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","let initialState = {\r\n  loading: false,\r\n  loadingList: false,\r\n  dia: {},\r\n  dias: [],\r\n  error: {},\r\n};\r\n\r\nexport default function diaReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'DIAS_GET':\r\n      return { ...state, loadingList: true };\r\n    case 'DIAS_GET_SUCCESS':\r\n      return { ...state, loadingList: false, dias: [...action.dias] };\r\n    case 'DIAS_GET_ERROR':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        error: action.error,\r\n        mensaje: action.mensaje,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","let initialState = {\r\n  loading: false,\r\n  loadingList: false,\r\n  reserva: {},\r\n  reservas: [],\r\n  error: {},\r\n};\r\n\r\nexport default function reservaReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'RESERVA_CHANGE':\r\n      return { ...state, reserva: { ...action.reserva } };\r\n    case 'RESERVA_SAVE':\r\n      return { ...state, loading: true };\r\n    case 'RESERVA_SAVE_SUCCESS':\r\n      return { ...state, loading: false, error: false };\r\n    case 'RESERVA_SAVE_ERROR':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { ...action.error },\r\n        mensaje: action.error.mensaje,\r\n        // setErrors(state.reserva, action.error)\r\n      };\r\n    case 'RESERVA_DELETE':\r\n      return { ...state, loading: true };\r\n    case 'RESERVA_DELETE_SUCCESS':\r\n      return { ...state, loading: false };\r\n    case 'RESERVA_DELETE_ERROR':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { ...action.error },\r\n        mensaje: action.error.mensaje,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst setErrors = (reserva, error) => {\r\n  if (error) {\r\n    reserva.error = error;\r\n    return reserva;\r\n  } else {\r\n    return reserva;\r\n  }\r\n};\r\n","let initialState = {\r\n  loading: false,\r\n  loadingList: false,\r\n  salida: {},\r\n  salidas: [],\r\n  error: {},\r\n};\r\n\r\nexport default function reservaReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'SALIDA_GET':\r\n      return { ...state, loadingList: true };\r\n    case 'SALIDA_GET_SUCCESS':\r\n      return { ...state, loadingList: false, salida: { ...action.salida } };\r\n    case 'SALIDA_SAVE':\r\n      return { ...state, loading: true };\r\n    case 'SALIDA_SAVE_SUCCESS':\r\n      return { ...state, loading: false };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","let initialState = {\r\n  loading: false,\r\n  loadingList: false,\r\n  trip: {},\r\n  trips: [],\r\n};\r\n\r\n// EN ESTE REDUCER SE MANEJARAN LOS PLANES QUE TIENE EL VIAJERO\r\nexport default function tripReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'TRIP_CHANGE':\r\n      return { ...state, trip: { ...action.trip } };\r\n    case 'TRIP_GET_BY_USUARIO':\r\n      return { ...state, loadingList: true, error: undefined };\r\n    case 'TRIP_GET_BY_PLANNER':\r\n      return { ...state, loadingList: true, error: undefined };\r\n    case 'TRIP_GET_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        loading: false,\r\n        trips: [...action.trips],\r\n        lastSync: new Date(),\r\n      };\r\n    case 'TRIP_GET_ERROR':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        mensaje: action.mensaje,\r\n        error: action.error,\r\n      };\r\n    case 'TRIP_GET_BY_ID':\r\n      return { ...state, loadingList: true, error: undefined };\r\n    case 'TRIP_GET_BY_ID_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        trip: { ...action.trip, lastSync: new Date() },\r\n        trips: [...replaceArrayTrips(state.trips, action.trip)],\r\n      };\r\n    case 'TRIP_PLAN_GET':\r\n      return { ...state, loadingList: true, error: undefined };\r\n    case 'TRIP_PLAN_GET_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        trip: { ...action.trip, lastSync: new Date() },\r\n      };\r\n    case 'TRIP_SAVE':\r\n      return { ...state, loading: true, error: undefined };\r\n    case 'TRIP_SAVE_SUCCESS':\r\n      return { ...state, loading: false, trips: [...state.trips, action.trip] };\r\n    case 'TRIP_SAVE_ERROR':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        mensaje: action.mensaje,\r\n        error: action.error,\r\n      };\r\n    case 'TRIP_UPDATE':\r\n      return { ...state, loading: true, error: undefined };\r\n    case 'TRIP_UPDATE_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        trips: [...replaceArrayTrips(state.trips, action.trip)],\r\n      };\r\n    case 'TRIP_UPDATE_ERROR':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        mensaje: action.mensaje,\r\n        error: action.error,\r\n      };\r\n    case 'TRIP_DELETE':\r\n      return { ...state, loading: true, error: undefined };\r\n    case 'TRIP_DELETE_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        trips: [\r\n          ...state.trips.filter(trip => trip.idSalida != action.idSalida),\r\n        ],\r\n      };\r\n    case 'TRIP_DELETE_ERROR':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        mensaje: action.mensaje,\r\n        error: action.error,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n\r\n  function replaceArrayTrips(state, trip) {\r\n    let index = state.findIndex(x => x.idSalida === trip.idSalida);\r\n    let arr = Object.assign([], state);\r\n    arr[index] = trip;\r\n    return arr;\r\n  }\r\n}\r\n","let initialState = {\r\n  loading: false,\r\n  isOpen: false,\r\n  config: {},\r\n};\r\n\r\nexport default function confirmReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'OPEN_CONFIRM':\r\n      return { ...state, isOpen: true, config: action.config };\r\n    case 'CLOSE_CONFIRM':\r\n      return { ...state, isOpen: false };\r\n    case 'LOADING_CONFIRM':\r\n      return {\r\n        ...state,\r\n        loading: action.loading,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","let initialState = {\r\n  isLeftSideBarOpen: false,\r\n};\r\n\r\nexport default function sideBarReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'OPEN_LEFT_SIDEBAR':\r\n      return { ...state, isLeftSideBarOpen: true };\r\n    case 'CLOSE_LEFT_SIDEBAR':\r\n      return { ...state, isLeftSideBarOpen: false };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","let initialState = {\r\n  loading: false,\r\n  loadingList: false,\r\n  order: {},\r\n  orders: [],\r\n  error: {},\r\n};\r\n\r\nexport default function orderReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'ORDERS_GET':\r\n      return { ...state, loadingList: true };\r\n    case 'ORDERS_GET_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        orders: action.orders,\r\n        lastSync: new Date(),\r\n      };\r\n    case 'ORDERS_GET_ERROR':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        error: action.error,\r\n        mensaje: action.mensaje,\r\n      };\r\n    case 'ORDER_STATE_UPDATE':\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case 'ORDER_STATE_UPDATE_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        orders: [\r\n          ...state.orders.map(order => {\r\n            if (order.idOrden == action.order.idOrden) {\r\n              order['estado'] = action.order.estado;\r\n            }\r\n            return order;\r\n          }),\r\n        ],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","let initialState = {\r\n  loading: false,\r\n  loadingList: false,\r\n  comercio: {},\r\n  comercios: [],\r\n  error: {},\r\n};\r\n\r\nexport default function comercioReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'COMERCIO_GET_BY_ID':\r\n      return { ...state, loadingList: true };\r\n    case 'COMERCIO_GET_BY_ID_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        comercio: action.comercio,\r\n        lastSync: new Date(),\r\n      };\r\n    case 'COMERCIO_GET_BY_ID_ERROR':\r\n      return {\r\n        ...state,\r\n        loadingList: false,\r\n        error: action.error,\r\n        mensaje: action.mensaje,\r\n      };\r\n    case 'COMERCIO_OPEN_UPDATE':\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case 'COMERCIO_OPEN_UPDATE_SUCCESS':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        comercio: {\r\n          ...state.comercio,\r\n          isOpen: state.comercio.isOpen == 1 ? 0 : 1,\r\n        },\r\n      };\r\n    case 'COMERCIO_OPEN_UPDATE_ERROR':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.error,\r\n        mensaje: action.mensaje,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport loginReducer from './loginReducer';\r\nimport planReducer from './planReducer';\r\nimport ciudadReducer from './ciudadReducer';\r\nimport lugarReducer from './lugarReducer';\r\nimport registroReducer from './registroReducer';\r\nimport usuarioReducer from './usuarioReducer';\r\nimport paisReducer from './paisReducer';\r\nimport plannerReducer from './plannerReducer';\r\nimport snackbarReducer from './snackbarReducer';\r\nimport incluidoReducer from './incluidoReducer';\r\nimport actividadReducer from './actividadReducer';\r\nimport diaReducer from './diaReducer';\r\nimport reservaReducer from './reservaReducer';\r\nimport salidaReducer from './salidaReducer';\r\nimport tripReducer from './tripReducer';\r\nimport confirmReducer from './confirmReducer';\r\nimport sideBarReducer from './sideBarReducer';\r\nimport orderReducer from './orderReducer';\r\nimport comercioReducer from './comercioReducer';\r\n\r\nexport default combineReducers({\r\n  loginState: loginReducer,\r\n  planState: planReducer,\r\n  tripState: tripReducer,\r\n  ciudadState: ciudadReducer,\r\n  lugarState: lugarReducer,\r\n  registroState: registroReducer,\r\n  reservaState: reservaReducer,\r\n  salidaState: salidaReducer,\r\n  usuarioState: usuarioReducer,\r\n  diaState: diaReducer,\r\n  paisState: paisReducer,\r\n  incluidoState: incluidoReducer,\r\n  actividadState: actividadReducer,\r\n  plannerState: plannerReducer,\r\n  snackbarState: snackbarReducer,\r\n  confirmState: confirmReducer,\r\n  sideBarState: sideBarReducer,\r\n  orderState: orderReducer,\r\n  comercioState: comercioReducer,\r\n});\r\n","import { logOut } from './sesion';\r\n\r\nexport const handleAxiosError = error => {\r\n  console.log(error);\r\n  if (!error.status) return;\r\n\r\n  if (error.response.status == 500) {\r\n    // window.location = '/500';\r\n  } else if (error.response.status == 404) {\r\n    // window.location = '/404';\r\n  } else if (error.response.status == 403) {\r\n    window.location = '/login';\r\n    logOut();\r\n  }\r\n};\r\n","import axios from 'axios';\r\nimport { call, put } from 'redux-saga/effects';\r\nimport { handleAxiosError } from '../helpers/errorHandlers';\r\nimport { logOut } from '../helpers/sesion';\r\nimport { proxyConfig } from '../helpers/proxyConfig';\r\n\r\nconst login = login => {\r\n  return axios.post(`${proxyConfig.url}/login/afiliado`, {\r\n    ...login,\r\n    // password: sha1(login.password),\r\n  });\r\n};\r\n\r\nconst setSession = (usuario, token) => {\r\n  localStorage.setItem('usuario', JSON.stringify(usuario));\r\n  localStorage.setItem('token', token);\r\n};\r\n\r\nexport function* loginSaga(action) {\r\n  try {\r\n    const response = yield call(login, action.login);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      setSession(data.usuario, data.authToken);\r\n      yield put({ type: 'LOGIN_SUCCESS', usuario: data.usuario });\r\n      if (action.onSuccess) action.onSuccess(data.usuario.idComercio);\r\n      yield put({ type: 'SHOW_LOGIN_MODAL', show: false });\r\n    } else {\r\n      yield put({\r\n        type: 'LOGIN_ERROR',\r\n        error: data.error,\r\n        message: data.mensaje,\r\n      });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'warning',\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    // handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'LOGIN_ERROR',\r\n      error,\r\n      mensaje: error.message,\r\n    });\r\n\r\n    yield put({\r\n      type: 'NOTIFICATION_SHOW',\r\n      notification: {\r\n        type: 'error',\r\n        message: 'Something happened! :(',\r\n      },\r\n    });\r\n  }\r\n}\r\n\r\nexport function* logoutSagas(action) {\r\n  // window.location = '/login';\r\n  logOut();\r\n}\r\n","import axios from 'axios';\r\nimport { call, put } from 'redux-saga/effects';\r\nimport { handleAxiosError } from '../helpers/errorHandlers';\r\nimport { proxyConfig } from '../helpers/proxyConfig';\r\n\r\nconst registro = _registro => {\r\n  return axios.post(`${proxyConfig.url}/api/registro`, {\r\n    ..._registro,\r\n  });\r\n};\r\n\r\nconst verificar = token => {\r\n  return axios.post(`${proxyConfig.url}/api/verificar`, {\r\n    token,\r\n  });\r\n};\r\n\r\nexport function* registroSaga(action) {\r\n  try {\r\n    const response = yield call(registro, action.registro);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      // history.location = '/dashboard';\r\n      action.navigate();\r\n      yield put({ type: 'REGISTRO_SUCCESS' });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'success',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({ type: 'SHOW_LOGIN_MODAL', show: false });\r\n    } else {\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'warning',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({\r\n        type: 'REGISTRO_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    // handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'SHOW_SNACKBAR',\r\n      variant: 'error',\r\n      mensaje: 'Something happened! :(',\r\n    });\r\n\r\n    yield put({\r\n      type: 'REGISTRO_ERROR',\r\n      error,\r\n      message: 'Something went wrong.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* verificarSaga(action) {\r\n  try {\r\n    const response = yield call(verificar, action.token);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'VERIFICAR_SUCCESS' });\r\n    } else {\r\n      yield put({ type: 'VERIFICAR_ERROR', mensaje: data.mensaje });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'VERIFICAR_ERROR',\r\n      mensaje: 'Something happend, try this later.',\r\n    });\r\n  }\r\n}\r\n","import axios from 'axios';\r\nimport { call, put } from 'redux-saga/effects';\r\nimport { getToken } from '../helpers/sesion';\r\nimport { handleAxiosError } from '../helpers/errorHandlers';\r\nimport { proxyConfig } from '../helpers/proxyConfig';\r\n\r\nconst getUsuarioById = idUsuario => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  return axios.get(`${proxyConfig.url}/api/usuario/${idUsuario}`, { headers });\r\n};\r\n\r\nconst saveProfileInfo = usuario => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  return axios.post(`${proxyConfig.url}/api/usuario/profile-info`, usuario, {\r\n    headers,\r\n  });\r\n};\r\n\r\nconst savePersonalInfo = usuario => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  return axios.post(`${proxyConfig.url}/api/usuario/personal-info`, usuario, {\r\n    headers,\r\n  });\r\n};\r\n\r\nconst cambiarContrasena = usuarioContrasena => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  return axios.post(\r\n    `${proxyConfig.url}/api/usuario/contrasena`,\r\n    usuarioContrasena,\r\n    { headers }\r\n  );\r\n};\r\n\r\nexport function* getUsuarioByIdSaga(action) {\r\n  try {\r\n    const response = yield call(getUsuarioById, action.idUsuario);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'USUARIO_GET_BY_ID_SUCCESS', usuario: data.usuario });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'USUARIO_GET_BY_ID_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'USUARIO_GET_BY_ID_ERROR',\r\n      error,\r\n      mensaje: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* saveProfileInfoSaga(action) {\r\n  try {\r\n    const response = yield call(saveProfileInfo, action.usuario);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'USUARIO_SAVE_SUCCESS' });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'success',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      action.onSuccess();\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'warning',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({\r\n        type: 'USUARIO_SAVE_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    // handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'SHOW_SNACKBAR',\r\n      variant: 'error',\r\n      mensaje: 'Something happened! :(',\r\n    });\r\n\r\n    yield put({\r\n      type: 'USUARIO_SAVE_ERROR',\r\n      mensaje: 'Something happend, try this later.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* savePersonalInfoSaga(action) {\r\n  try {\r\n    const response = yield call(savePersonalInfo, action.usuario);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'USUARIO_SAVE_SUCCESS' });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'success',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      // ACTUALIZA INFORMACION DE LA SESION\r\n      let usuario = JSON.parse(localStorage.getItem('usuario'));\r\n      usuario = { ...usuario, ...action.usuario };\r\n      localStorage.setItem('usuario', JSON.stringify(usuario));\r\n      yield put({ type: 'LOGIN_SUCCESS', usuario });\r\n\r\n      action.onSuccess();\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'warning',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({\r\n        type: 'USUARIO_SAVE_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    // handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'SHOW_SNACKBAR',\r\n      variant: 'error',\r\n      mensaje: 'Something happened! :(',\r\n    });\r\n\r\n    yield put({\r\n      type: 'USUARIO_SAVE_ERROR',\r\n      mensaje: 'Something happend, try this later.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* cambiarContrasenaSaga(action) {\r\n  try {\r\n    const response = yield call(cambiarContrasena, action.usuarioContrasena);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      // ACTUALIZAO LOCAL STORAGE CON NUEVA FECHA DE UPDATEPASSWORD\r\n      let usuario = JSON.parse(localStorage.getItem('usuario'));\r\n      usuario.feUpdatePassword = data.feUpdatePassword;\r\n      localStorage.setItem('usuario', JSON.stringify(usuario));\r\n      yield put({ type: 'LOGIN_SUCCESS', usuario });\r\n\r\n      yield put({ type: 'USUARIO_CHANGE_PASSWORD_SUCCESS' });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'success',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      if (action.onSuccess) action.onSuccess();\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'warning',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({\r\n        type: 'USUARIO_CHANGE_PASSWORD_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    // handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'SHOW_SNACKBAR',\r\n      variant: 'error',\r\n      mensaje: 'Something happened! :(',\r\n    });\r\n\r\n    yield put({\r\n      type: 'USUARIO_SAVE_ERROR',\r\n      error,\r\n      mensaje: error.message,\r\n    });\r\n  }\r\n}\r\n","import axios from 'axios';\r\nimport { call, put } from 'redux-saga/effects';\r\nimport { handleAxiosError } from '../helpers/errorHandlers';\r\nimport { proxyConfig } from '../helpers/proxyConfig';\r\n\r\nconst getCiudadById = idCiudad => {\r\n  return axios.get(`${proxyConfig.url}/api/ciudad/${idCiudad}`);\r\n};\r\n\r\nconst getCiudades = () => {\r\n  return axios.get(`${proxyConfig.url}/api/ciudad`);\r\n};\r\n\r\nexport function* getCiudadesSaga() {\r\n  try {\r\n    const response = yield call(getCiudades);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'CIUDADES_GET_SUCCESS', ciudades: data.ciudades });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'CIUDADES_GET_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'CIUDADES_GET_ERROR',\r\n      error,\r\n      mensaje: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* getCiudadByIdSaga(action) {\r\n  try {\r\n    const response = yield call(getCiudadById, action.idCiudad);\r\n\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({\r\n        type: 'CIUDAD_GET_BY_ID_SUCCESS',\r\n        ciudad: data.ciudad || {},\r\n      });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'CIUDAD_GET_BY_ID_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'CIUDAD_GET_BY_ID_ERROR',\r\n      error,\r\n      mensaje: error.message,\r\n    });\r\n  }\r\n}\r\n","import axios from 'axios';\r\nimport { call, put } from 'redux-saga/effects';\r\nimport { getToken } from '../helpers/sesion';\r\nimport { handleAxiosError } from '../helpers/errorHandlers';\r\nimport { proxyConfig } from '../helpers/proxyConfig';\r\n\r\nconst getPlanes = () => {\r\n  return axios.get(`${proxyConfig.url}/api/planes`);\r\n};\r\n\r\nconst getPlanesByPlanner = idPlanner => {\r\n  return axios.get(`${proxyConfig.url}/api/planes/planner/${idPlanner}`);\r\n};\r\n\r\nconst getPlanesByCiudad = idCiudad => {\r\n  return axios.get(`${proxyConfig.url}/api/planes/ciudad/${idCiudad}`);\r\n};\r\n\r\nconst getPlanById = idPlan => {\r\n  return axios.get(`${proxyConfig.url}/api/plan/${idPlan}`);\r\n};\r\n\r\nconst saveBasicInfo = plan => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  return axios.post(`${proxyConfig.url}/api/plan/basic`, plan, { headers });\r\n};\r\n\r\nconst savePlanMainPicture = (idUsuario, idPlan, file) => {\r\n  let headers = { 'x-access-token': getToken() };\r\n\r\n  let data = new FormData();\r\n  data.append('idUsuario', idUsuario);\r\n  data.append('idPlan', idPlan);\r\n  data.append('file', file);\r\n\r\n  return axios.post(`${proxyConfig.url}/api/plan/picture`, data, {\r\n    headers: {\r\n      accept: 'application/json',\r\n      // 'Accept-Language': 'en-US,en;q=0.8',\r\n      'Content-Type': `multipart/form-data; boundary=${data._boundary}`,\r\n      ...headers,\r\n    },\r\n  });\r\n};\r\n\r\nconst savePlanIncluidos = plan => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  return axios.post(`${proxyConfig.url}/api/plan/incluidos`, plan, { headers });\r\n};\r\n\r\nconst savePlanItinerario = plan => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  return axios.post(`${proxyConfig.url}/api/plan/itinerario`, plan, {\r\n    headers,\r\n  });\r\n};\r\n\r\nconst savePlanLugares = plan => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  return axios.post(`${proxyConfig.url}/api/plan/lugares`, plan, { headers });\r\n};\r\n\r\nconst savePlanActividades = plan => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  return axios.post(`${proxyConfig.url}/api/plan/actividades`, plan, {\r\n    headers,\r\n  });\r\n};\r\n\r\nexport function* getPlanesSaga() {\r\n  try {\r\n    const response = yield call(getPlanes);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'PLANES_GET_SUCCESS', planes: data.planes });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'error',\r\n        mensaje: 'No se pudieron sincronizar los planes',\r\n      });\r\n\r\n      yield put({\r\n        type: 'PLANES_GET_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'SHOW_SNACKBAR',\r\n      variant: 'error',\r\n      mensaje: 'No se pudieron sincronizar los planes',\r\n    });\r\n\r\n    yield put({\r\n      type: 'PLANES_GET_ERROR',\r\n      error,\r\n      mensaje: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* getPlanesByPlannerSaga(action) {\r\n  try {\r\n    const response = yield call(getPlanesByPlanner, action.idPlanner);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'PLANES_GET_SUCCESS', planes: data.planes });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'PLANES_GET_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'PLANES_GET_ERROR',\r\n      error,\r\n      mensaje: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* getPlanesByCiudadSaga(action) {\r\n  try {\r\n    const response = yield call(getPlanesByCiudad, action.idCiudad);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'PLANES_GET_SUCCESS', planes: data.planes });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'PLANES_GET_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'PLANES_GET_ERROR',\r\n      error,\r\n      mensaje: error.message,\r\n    });\r\n  }\r\n}\r\n\r\nexport function* getPlanByIdSaga(action) {\r\n  try {\r\n    const response = yield call(getPlanById, action.idPlan);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      let { plan } = data;\r\n\r\n      // Si ya tiene la información completa va a agencypage\r\n      if (plan.isInfoCompleted && action.toPlanPage) {\r\n        action.toPlanPage(plan.idPlan);\r\n      }\r\n\r\n      yield put({\r\n        type: 'PLAN_GET_BY_ID_SUCCESS',\r\n        plan: plan,\r\n      });\r\n\r\n      if (action.onSuccess) action.onSuccess(plan);\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'PLAN_GET_BY_ID_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'PLAN_GET_BY_ID_ERROR',\r\n      error,\r\n      mensaje: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* savePlanBasicInfoSaga(action) {\r\n  try {\r\n    const response = yield call(saveBasicInfo, action.plan);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'PLAN_SAVE_SUCCESS', plan: data.plan });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'success',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      if (!action.plan.idPlan && action.onSuccess) {\r\n        action.onSuccess(data.plan.idPlan);\r\n      }\r\n\r\n      yield put({ type: 'PLAN_GET_BY_ID_SUCCESS', plan: data.plan });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'warning',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({\r\n        type: 'PLAN_SAVE_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    // handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'SHOW_SNACKBAR',\r\n      variant: 'error',\r\n      mensaje: 'Something happened! :(',\r\n    });\r\n\r\n    yield put({\r\n      type: 'PLAN_SAVE_ERROR',\r\n      mensaje: 'Something happend, try this later.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* savePlanMainPictureSaga(action) {\r\n  try {\r\n    const response = yield call(\r\n      savePlanMainPicture,\r\n      action.idUsuario,\r\n      action.idPlan,\r\n      action.file\r\n    );\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'PLAN_SAVE_SUCCESS', plan: data.plan });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'success',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({ type: 'PLAN_GET_BY_ID_SUCCESS', plan: data.plan });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'warning',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({\r\n        type: 'PLAN_SAVE_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    // handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'SHOW_SNACKBAR',\r\n      variant: 'error',\r\n      mensaje: 'Something happened! :(',\r\n    });\r\n\r\n    yield put({\r\n      type: 'PLAN_SAVE_ERROR',\r\n      mensaje: 'Something happend, try this later.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* savePlanIncluidosSaga(action) {\r\n  try {\r\n    const response = yield call(savePlanIncluidos, action.plan);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'PLAN_SAVE_SUCCESS', plan: data.plan });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'success',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({ type: 'PLAN_GET_BY_ID_SUCCESS', plan: data.plan });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'warning',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({\r\n        type: 'PLAN_SAVE_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    // handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'SHOW_SNACKBAR',\r\n      variant: 'error',\r\n      mensaje: 'Something happened! :(',\r\n    });\r\n\r\n    yield put({\r\n      type: 'PLAN_SAVE_ERROR',\r\n      mensaje: 'Something happend, try this later.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* savePlanItinerarioSaga(action) {\r\n  try {\r\n    const response = yield call(savePlanItinerario, action.plan);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'PLAN_SAVE_SUCCESS', plan: data.plan });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'success',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({ type: 'PLAN_GET_BY_ID_SUCCESS', plan: data.plan });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'warning',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({\r\n        type: 'PLAN_SAVE_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    // handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'SHOW_SNACKBAR',\r\n      variant: 'error',\r\n      mensaje: 'Something happened! :(',\r\n    });\r\n\r\n    yield put({\r\n      type: 'PLAN_SAVE_ERROR',\r\n      mensaje: 'Something happend, try this later.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* savePlanLugaresSaga(action) {\r\n  try {\r\n    const response = yield call(savePlanLugares, action.plan);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'PLAN_SAVE_SUCCESS', plan: data.plan });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'success',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({ type: 'PLAN_GET_BY_ID_SUCCESS', plan: data.plan });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'warning',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({\r\n        type: 'PLAN_SAVE_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    // handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'SHOW_SNACKBAR',\r\n      variant: 'error',\r\n      mensaje: 'Something happened! :(',\r\n    });\r\n\r\n    yield put({\r\n      type: 'PLAN_SAVE_ERROR',\r\n      mensaje: 'Something happend, try this later.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* savePlanActividadesSaga(action) {\r\n  try {\r\n    const response = yield call(savePlanActividades, action.plan);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'PLAN_SAVE_SUCCESS', plan: data.plan });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'success',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({ type: 'PLAN_GET_BY_ID_SUCCESS', plan: data.plan });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'warning',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({\r\n        type: 'PLAN_SAVE_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    // handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'SHOW_SNACKBAR',\r\n      variant: 'error',\r\n      mensaje: 'Something happened! :(',\r\n    });\r\n\r\n    yield put({\r\n      type: 'PLAN_SAVE_ERROR',\r\n      mensaje: 'Something happend, try this later.',\r\n    });\r\n  }\r\n}\r\n","import axios from 'axios';\r\nimport { call, put } from 'redux-saga/effects';\r\nimport { handleAxiosError } from '../helpers/errorHandlers';\r\nimport { proxyConfig } from '../helpers/proxyConfig';\r\n\r\nconst getLugares = () => {\r\n  return axios.get(`${proxyConfig.url}/api/lugar`);\r\n};\r\n\r\nconst getLugaresByCiudad = idCiudad => {\r\n  return axios.get(`${proxyConfig.url}/api/lugar/${idCiudad}`);\r\n};\r\n\r\nexport function* getLugaresSaga() {\r\n  try {\r\n    const response = yield call(getLugares);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'LUGARES_GET_SUCCESS', lugares: data.lugares });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'LUGARES_GET_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'LUGARES_GET_ERROR',\r\n      error,\r\n      mensaje: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* getLugaresByCiudadSaga(action) {\r\n  try {\r\n    const response = yield call(getLugaresByCiudad, action.idCiudad);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'LUGARES_GET_SUCCESS', lugares: data.lugares });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'LUGARES_GET_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'LUGARES_GET_ERROR',\r\n      error,\r\n      mensaje: error.message,\r\n    });\r\n  }\r\n}\r\n","import axios from 'axios';\r\nimport { call, put } from 'redux-saga/effects';\r\nimport { handleAxiosError } from '../helpers/errorHandlers';\r\nimport { proxyConfig } from '../helpers/proxyConfig';\r\n\r\nconst getPaises = () => {\r\n  return axios.get(`${proxyConfig.url}/api/pais`);\r\n};\r\n\r\nexport function* getPaisesSaga(action) {\r\n  try {\r\n    const response = yield call(getPaises);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'PAISES_GET_SUCCESS', paises: data.paises });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'PAISES_GET_ERROR',\r\n        error: data.error,\r\n        message: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'PAISES_GET_ERROR',\r\n      error,\r\n      message: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n","import axios from 'axios';\r\nimport { call, put } from 'redux-saga/effects';\r\nimport { getToken } from '../helpers/sesion';\r\nimport { handleAxiosError } from '../helpers/errorHandlers';\r\nimport { proxyConfig } from '../helpers/proxyConfig';\r\n\r\nconst getPlannerById = idPlanner => {\r\n  return axios.get(`${proxyConfig.url}/api/planner/${idPlanner}`);\r\n};\r\n\r\nconst getPlannerByIdUsuario = idUsuario => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  return axios.get(`${proxyConfig.url}/api/planner/usuario/${idUsuario}`, {\r\n    headers,\r\n  });\r\n};\r\n\r\nconst saveBasicInfo = planner => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  return axios.post(`${proxyConfig.url}/api/planner/basic`, planner, {\r\n    headers,\r\n  });\r\n};\r\n\r\nconst saveLocationInfo = planner => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  return axios.post(`${proxyConfig.url}/api/planner/location`, planner, {\r\n    headers,\r\n  });\r\n};\r\n\r\nconst saveBrandnInfo = (idUsuario, idPlanner, file) => {\r\n  let headers = { 'x-access-token': getToken() };\r\n\r\n  let data = new FormData();\r\n  data.append('idUsuario', idUsuario);\r\n  data.append('idPlanner', idPlanner);\r\n  data.append('file', file);\r\n\r\n  return axios.post(`${proxyConfig.url}/api/planner/brand`, data, {\r\n    headers: {\r\n      accept: 'application/json',\r\n      // 'Accept-Language': 'en-US,en;q=0.8',\r\n      'Content-Type': `multipart/form-data; boundary=${data._boundary}`,\r\n      ...headers,\r\n    },\r\n  });\r\n};\r\n\r\nconst updateSessionInfo = agencia => {\r\n  let usuario = JSON.parse(localStorage.getItem('usuario'));\r\n  usuario = { ...usuario, agencia };\r\n  localStorage.setItem('usuario', JSON.stringify(usuario));\r\n\r\n  return usuario;\r\n};\r\n\r\nexport function* getPlannerByIdSaga(action) {\r\n  try {\r\n    const response = yield call(getPlannerById, action.idPlanner);\r\n\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({\r\n        type: 'PLANNER_GET_BY_ID_SUCCESS',\r\n        planner: data.planner || {},\r\n      });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'PLANNER_GET_BY_ID_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'PLANNER_GET_BY_ID_ERROR',\r\n      error,\r\n      mensaje: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* getPlannerByIdUsuarioSaga(action) {\r\n  try {\r\n    const response = yield call(getPlannerByIdUsuario, action.idUsuario);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      let stepForm;\r\n\r\n      let { planner } = data;\r\n\r\n      if (!planner) {\r\n        stepForm = 0;\r\n      } else if (!planner.direccion || !planner.latitud || !planner.longitud) {\r\n        stepForm = 1;\r\n      } else {\r\n        stepForm = 2;\r\n      }\r\n      // Si ya tiene la información completa va a agencypage\r\n      if (planner && planner.isInfoCompleted && action.toAgencyPage) {\r\n        action.toAgencyPage(planner.idPlanner);\r\n      }\r\n      yield put({\r\n        type: 'PLANNER_GET_BY_ID_USUARIO_SUCCESS',\r\n        planner: planner || {},\r\n        stepForm,\r\n      });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'PLANNER_GET_BY_ID_USUARIO_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'PLANNER_GET_BY_ID_USUARIO_ERROR',\r\n      error,\r\n      mensaje: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* saveBasicInfoSaga(action) {\r\n  try {\r\n    const response = yield call(saveBasicInfo, action.planner);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'PLANNER_SAVE_SUCCESS' });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'success',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({ type: 'PLANNER_CHANGE', planner: data.planner });\r\n      yield put({ type: 'PLANNNER_STEP_FORM_CHANGE', stepForm: 1 });\r\n\r\n      if (action.onSuccess) action.onSuccess();\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'warning',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({\r\n        type: 'PLANNER_SAVE_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    // handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'SHOW_SNACKBAR',\r\n      variant: 'error',\r\n      mensaje: 'Something happened! :(',\r\n    });\r\n\r\n    yield put({\r\n      type: 'PLANNER_SAVE_ERROR',\r\n      error,\r\n      mensaje: error.message,\r\n    });\r\n  }\r\n}\r\n\r\nexport function* saveLocationInfoSaga(action) {\r\n  try {\r\n    const response = yield call(saveLocationInfo, action.planner);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'PLANNER_SAVE_SUCCESS' });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'success',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({ type: 'PLANNER_CHANGE', planner: data.planner });\r\n      yield put({ type: 'PLANNNER_STEP_FORM_CHANGE', stepForm: 2 });\r\n\r\n      if (action.onSuccess) action.onSuccess();\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'warning',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({\r\n        type: 'PLANNER_SAVE_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    // handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'SHOW_SNACKBAR',\r\n      variant: 'error',\r\n      mensaje: 'Something happened! :(',\r\n    });\r\n\r\n    yield put({\r\n      type: 'PLANNER_SAVE_ERROR',\r\n      error,\r\n      mensaje: error.message,\r\n    });\r\n  }\r\n}\r\n\r\nexport function* saveBrandInfoSaga(action) {\r\n  try {\r\n    const response = yield call(\r\n      saveBrandnInfo,\r\n      action.idUsuario,\r\n      action.idPlanner,\r\n      action.file\r\n    );\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'PLANNER_SAVE_SUCCESS' });\r\n\r\n      let usuario = updateSessionInfo(data.planner);\r\n\r\n      yield put({ type: 'LOGIN_SUCCESS', usuario });\r\n      // To agency page if comes function\r\n      if (action.toAgencyPage) {\r\n        action.toAgencyPage();\r\n      }\r\n\r\n      if (action.onSuccess) action.onSuccess();\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'success',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({\r\n        type: 'PLANNER_GET_BY_ID_USUARIO',\r\n        idUsuario: action.idUsuario,\r\n      });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'warning',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({\r\n        type: 'PLANNER_SAVE_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    // handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'SHOW_SNACKBAR',\r\n      variant: 'error',\r\n      mensaje: 'Something happened! :(',\r\n    });\r\n\r\n    yield put({\r\n      type: 'PLANNER_SAVE_ERROR',\r\n      error,\r\n      mensaje: error.message,\r\n    });\r\n  }\r\n}\r\n","import axios from 'axios';\r\nimport { call, put } from 'redux-saga/effects';\r\nimport { getToken } from '../helpers/sesion';\r\nimport { handleAxiosError } from '../helpers/errorHandlers';\r\nimport { proxyConfig } from '../helpers/proxyConfig';\r\n\r\nconst getIncluidos = () => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  return axios.get(`${proxyConfig.url}/api/incluido`, { headers });\r\n};\r\n\r\nexport function* getIncluidosSaga() {\r\n  try {\r\n    const response = yield call(getIncluidos);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'INCLUIDOS_GET_SUCCESS', incluidos: data.incluidos });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'INCLUIDOS_GET_ERROR',\r\n        error: data.error,\r\n        message: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'INCLUIDOS_GET_ERROR',\r\n      error,\r\n      message: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n","import axios from 'axios';\r\nimport { call, put } from 'redux-saga/effects';\r\nimport { getToken } from '../helpers/sesion';\r\nimport { handleAxiosError } from '../helpers/errorHandlers';\r\nimport { proxyConfig } from '../helpers/proxyConfig';\r\n\r\nconst getDias = () => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  return axios.get(`${proxyConfig.url}/api/dia`, { headers });\r\n};\r\n\r\nexport function* getDiasSaga() {\r\n  try {\r\n    const response = yield call(getDias);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({\r\n        type: 'DIAS_GET_SUCCESS',\r\n        dias: data.dias,\r\n      });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'DIAS_GET_ERROR',\r\n        error: data.error,\r\n        message: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'DIAS_GET_ERROR',\r\n      error,\r\n      message: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n","import axios from 'axios';\r\nimport { call, put } from 'redux-saga/effects';\r\nimport { getToken } from '../helpers/sesion';\r\nimport { handleAxiosError } from '../helpers/errorHandlers';\r\nimport { proxyConfig } from '../helpers/proxyConfig';\r\n\r\nconst getActividades = () => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  return axios.get(`${proxyConfig.url}/api/actividad`, {\r\n    headers,\r\n  });\r\n};\r\n\r\nexport function* getActividadesSaga() {\r\n  try {\r\n    const response = yield call(getActividades);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({\r\n        type: 'ACTIVIDADES_GET_SUCCESS',\r\n        actividades: data.actividades,\r\n      });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'ACTIVIDADES_GET_ERROR',\r\n        error: data.error,\r\n        message: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'ACTIVIDADES_GET_ERROR',\r\n      error,\r\n      message: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n","import axios from 'axios';\r\nimport { call, put } from 'redux-saga/effects';\r\nimport { getToken, getSesion } from '../helpers/sesion';\r\nimport { handleAxiosError } from '../helpers/errorHandlers';\r\nimport { proxyConfig } from '../helpers/proxyConfig';\r\n\r\nconst saveReserva = reserva => {\r\n  let headers = { 'x-access-token': getToken() };\r\n\r\n  return axios.post(`${proxyConfig.url}/api/reserva`, reserva, { headers });\r\n};\r\n\r\nconst deleteReserva = (idCompra, notificar) => {\r\n  let headers = { 'x-access-token': getToken() };\r\n\r\n  let { idUsuario } = getSesion();\r\n  return axios.delete(\r\n    `${proxyConfig.url}/api/reserva/${idCompra}/${idUsuario}/${notificar}`,\r\n    {\r\n      headers,\r\n    }\r\n  );\r\n};\r\n\r\nexport function* saveReservaSaga(action) {\r\n  try {\r\n    const response = yield call(saveReserva, action.reserva);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'RESERVA_SAVE_SUCCESS' });\r\n      yield put({ type: 'TRIP_GET_BY_ID_SUCCESS', trip: data.trip });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'success',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      if (action.onSuccess) action.onSuccess();\r\n    } else {\r\n      yield put({\r\n        type: 'RESERVA_SAVE_ERROR',\r\n        message: data.mensaje,\r\n        error: data.error,\r\n      });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'error',\r\n        mensaje: 'Something happened! :(',\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'SHOW_SNACKBAR',\r\n      variant: 'error',\r\n      mensaje: 'Something happened! :(',\r\n    });\r\n\r\n    yield put({\r\n      type: 'RESERVA_SAVE_ERROR',\r\n      error,\r\n      message: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* deleteReservaSaga(action) {\r\n  try {\r\n    const response = yield call(\r\n      deleteReserva,\r\n      action.idCompra,\r\n      action.notificar\r\n    );\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'RESERVA_DELETE_SUCCESS' });\r\n\r\n      yield put({ type: 'TRIP_GET_BY_ID_SUCCESS', trip: data.trip });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'success',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      if (action.onSuccess) action.onSuccess();\r\n    } else {\r\n      yield put({\r\n        type: 'RESERVA_DELETE_ERROR',\r\n        message: data.mensaje,\r\n        error: data.error,\r\n      });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'error',\r\n        mensaje: 'Something happened! :(',\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'SHOW_SNACKBAR',\r\n      variant: 'error',\r\n      mensaje: 'Something happened! :(',\r\n    });\r\n\r\n    yield put({\r\n      type: 'RESERVA_DELETE_ERROR',\r\n      error,\r\n      message: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n","import axios from 'axios';\r\nimport { call, put } from 'redux-saga/effects';\r\nimport { getToken, getSesion } from '../helpers/sesion';\r\nimport { handleAxiosError } from '../helpers/errorHandlers';\r\nimport { proxyConfig } from '../helpers/proxyConfig';\r\n\r\nconst getTripsById = idSalida => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  return axios.get(`${proxyConfig.url}/api/trip/${idSalida}`, { headers });\r\n};\r\n\r\nconst getTripsByUsuario = idUsuario => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  return axios.get(`${proxyConfig.url}/api/trip/usuario/` + idUsuario, {\r\n    headers,\r\n  });\r\n};\r\n\r\nconst getTripsByPlanner = () => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  let { agencia } = getSesion();\r\n  return axios.get(`${proxyConfig.url}/api/trip/planner/${agencia.idPlanner}`, {\r\n    headers,\r\n  });\r\n};\r\n\r\nconst getTripPlan = (idSalida, idPlan) => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  return axios.get(`${proxyConfig.url}/api/trip/${idSalida}/${idPlan}`, {\r\n    headers,\r\n  });\r\n};\r\n\r\nconst saveTrip = trip => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  let { idUsuario, agencia } = getSesion();\r\n  return axios.post(\r\n    `${proxyConfig.url}/api/trip`,\r\n    { ...trip, idUsuario, idPlanner: agencia.idPlanner },\r\n    { headers }\r\n  );\r\n};\r\n\r\nconst deleteTrip = idSalida => {\r\n  let headers = { 'x-access-token': getToken() };\r\n  let { idUsuario } = getSesion();\r\n  return axios.delete(`${proxyConfig.url}/api/trip/${idSalida}/${idUsuario}`, {\r\n    headers,\r\n  });\r\n};\r\n\r\nexport function* getTripsByIdSaga(action) {\r\n  try {\r\n    const response = yield call(getTripsById, action.idSalida);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'TRIP_GET_BY_ID_SUCCESS', trip: data.trip });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'TRIP_GET_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'TRIP_GET_ERROR',\r\n      error,\r\n      mensaje: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* getTripsByUsuarioSaga(action) {\r\n  try {\r\n    const response = yield call(getTripsByUsuario, action.idUsuario);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'TRIP_GET_SUCCESS', trips: data.trips });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'TRIP_GET_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'TRIP_GET_ERROR',\r\n      error,\r\n      mensaje: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* getTripsByPlannerSaga(action) {\r\n  try {\r\n    const response = yield call(getTripsByPlanner);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'TRIP_GET_SUCCESS', trips: data.trips });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'error',\r\n        mensaje: 'No se pudieron sincronizar los viajes',\r\n      });\r\n\r\n      yield put({\r\n        type: 'TRIP_GET_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'SHOW_SNACKBAR',\r\n      variant: 'error',\r\n      mensaje: 'No se pudieron sincronizar los viajes',\r\n    });\r\n\r\n    yield put({\r\n      type: 'TRIP_GET_ERROR',\r\n      error,\r\n      mensaje: error.message,\r\n    });\r\n  }\r\n}\r\n\r\nexport function* getTripPlanSaga(action) {\r\n  try {\r\n    const response = yield call(getTripPlan, action.idSalida, action.idPlan);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      let { trip, plan } = data;\r\n      yield put({\r\n        type: 'TRIP_PLAN_GET_SUCCESS',\r\n        trip,\r\n      });\r\n      yield put({\r\n        type: 'PLAN_GET_BY_ID_SUCCESS',\r\n        plan,\r\n      });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'TRIP_GET_ERROR',\r\n        error: data.error,\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'TRIP_GET_ERROR',\r\n      error,\r\n      mensaje: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* saveTripSaga(action) {\r\n  try {\r\n    const response = yield call(saveTrip, action.trip);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      if (data.trips) {\r\n        yield put({ type: 'TRIP_GET_SUCCESS', trips: data.trips });\r\n      } else {\r\n        yield put({ type: 'TRIP_SAVE_SUCCESS', trip: data.trip });\r\n      }\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'success',\r\n        mensaje: data.mensaje,\r\n      });\r\n      action.onSuccess && action.onSuccess();\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'TRIP_SAVE_ERROR',\r\n        error: data.error,\r\n        message: data.mensaje,\r\n      });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'warning',\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'TRIP_SAVE_ERROR',\r\n      error,\r\n      message: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* updateTripSaga(action) {\r\n  try {\r\n    const response = yield call(saveTrip, action.trip);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'TRIP_UPDATE_SUCCESS', trip: data.trip });\r\n      yield put({ type: 'TRIP_CHANGE', trip: data.trip });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'success',\r\n        mensaje: data.mensaje,\r\n      });\r\n      action.onSuccess && action.onSuccess();\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'TRIP_UPDATE_ERROR',\r\n        error: data.error,\r\n        message: data.mensaje,\r\n      });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'warning',\r\n        mensaje: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'TRIP_UPDATE_ERROR',\r\n      error,\r\n      message: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* deleteTripSaga(action) {\r\n  try {\r\n    const response = yield call(deleteTrip, action.idSalida);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'TRIP_DELETE_SUCCESS', idSalida: action.idSalida });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'success',\r\n        mensaje: data.mensaje,\r\n      });\r\n      action.onSuccess && action.onSuccess();\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'TRIP_DELETE_ERROR',\r\n        error: data.error,\r\n        message: data.mensaje,\r\n      });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'warning',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      yield put({\r\n        type: 'LOADING_CONFIRM',\r\n        loading: false,\r\n      });\r\n\r\n      yield put({\r\n        type: 'CLOSE_CONFIRM',\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'TRIP_DELETE_ERROR',\r\n      error,\r\n      message: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n","import axios from 'axios';\r\nimport { call, put } from 'redux-saga/effects';\r\nimport { handleAxiosError } from '../helpers/errorHandlers';\r\nimport { proxyConfig } from '../helpers/proxyConfig';\r\n\r\nconst getOrders = idComercio => {\r\n  return axios.get(`${proxyConfig.url}/order/afiliado/${idComercio}`);\r\n};\r\n\r\nconst updateState = order => {\r\n  return axios.put(`${proxyConfig.url}/order/state`, order);\r\n};\r\n\r\nexport function* getOrdersSaga(action) {\r\n  try {\r\n    const response = yield call(getOrders, action.idComercio);\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'ORDERS_GET_SUCCESS', orders: data.data });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'ORDERS_GET_ERROR',\r\n        error: data.error,\r\n        message: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'ORDERS_GET_ERROR',\r\n      error,\r\n      message: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* updateStateSaga(action) {\r\n  try {\r\n    debugger;\r\n    const response = yield call(updateState, action.order);\r\n    debugger;\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({\r\n        type: 'ORDER_STATE_UPDATE_SUCCESS',\r\n        order: action.order,\r\n      });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'success',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      if (action.onSuccess) action.onSuccess();\r\n    } else {\r\n      yield put({\r\n        type: 'ORDER_STATE_UPDATE_ERROR',\r\n        message: data.mensaje,\r\n        error: data.error,\r\n      });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'error',\r\n        mensaje: 'Something happened! :(',\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'SHOW_SNACKBAR',\r\n      variant: 'error',\r\n      mensaje: 'Something happened! :(',\r\n    });\r\n\r\n    yield put({\r\n      type: 'ORDER_STATE_UPDATE_ERROR',\r\n      error,\r\n      message: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n","import axios from 'axios';\r\nimport { call, put } from 'redux-saga/effects';\r\nimport { handleAxiosError } from '../helpers/errorHandlers';\r\nimport { proxyConfig } from '../helpers/proxyConfig';\r\n\r\nconst getById = idComercio => {\r\n  return axios.get(`${proxyConfig.url}/comercio/${idComercio}`);\r\n};\r\n\r\nconst setIsOpen = comercio => {\r\n  return axios.put(`${proxyConfig.url}/comercio/open`, comercio);\r\n};\r\n\r\nexport function* getComercioById(action) {\r\n  try {\r\n    const response = yield call(getById, action.idComercio);\r\n    const data = response.data;\r\n\r\n    if (data) {\r\n      yield put({ type: 'COMERCIO_GET_BY_ID_SUCCESS', comercio: data });\r\n    } else {\r\n      console.log(data.error);\r\n\r\n      yield put({\r\n        type: 'COMERCIO_GET_BY_ID_ERROR',\r\n        error: data.error,\r\n        message: data.mensaje,\r\n      });\r\n    }\r\n  } catch (error) {\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'COMERCIO_GET_BY_ID_ERROR',\r\n      error,\r\n      message: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n\r\nexport function* updateIsOpen(action) {\r\n  try {\r\n    const response = yield call(setIsOpen, action.comercio);\r\n\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      yield put({ type: 'COMERCIO_OPEN_UPDATE_SUCCESS' });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'success',\r\n        mensaje: data.mensaje,\r\n      });\r\n\r\n      if (action.onSuccess) action.onSuccess();\r\n    } else {\r\n      yield put({\r\n        type: 'COMERCIO_OPEN_UPDATE_ERROR',\r\n        message: data.mensaje,\r\n        error: data.error,\r\n      });\r\n\r\n      yield put({\r\n        type: 'SHOW_SNACKBAR',\r\n        variant: 'error',\r\n        mensaje: 'Something happened! :(',\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    handleAxiosError(error);\r\n\r\n    yield put({\r\n      type: 'SHOW_SNACKBAR',\r\n      variant: 'error',\r\n      mensaje: 'Something happened! :(',\r\n    });\r\n\r\n    yield put({\r\n      type: 'COMERCIO_OPEN_UPDATE_ERROR',\r\n      error,\r\n      message: 'Algo salió mal al conectarse al servidor.',\r\n    });\r\n  }\r\n}\r\n","import { takeLatest } from 'redux-saga/effects';\r\nimport { loginSaga, logoutSagas } from './loginSaga';\r\nimport { registroSaga, verificarSaga } from './registroSaga';\r\nimport {\r\n  getUsuarioByIdSaga,\r\n  cambiarContrasenaSaga,\r\n  savePersonalInfoSaga,\r\n  saveProfileInfoSaga,\r\n} from './usuarioSaga';\r\nimport { getCiudadesSaga, getCiudadByIdSaga } from './ciudadSaga';\r\nimport {\r\n  getPlanesSaga,\r\n  getPlanesByPlannerSaga,\r\n  savePlanBasicInfoSaga,\r\n  getPlanByIdSaga,\r\n  savePlanMainPictureSaga,\r\n  savePlanIncluidosSaga,\r\n  savePlanItinerarioSaga,\r\n  savePlanLugaresSaga,\r\n  savePlanActividadesSaga,\r\n  getPlanesByCiudadSaga,\r\n} from './planSaga';\r\nimport { getLugaresSaga, getLugaresByCiudadSaga } from './lugarSaga';\r\nimport { getPaisesSaga } from './paisSaga';\r\nimport {\r\n  getPlannerByIdUsuarioSaga,\r\n  saveBasicInfoSaga,\r\n  saveLocationInfoSaga,\r\n  saveBrandInfoSaga,\r\n  getPlannerByIdSaga,\r\n} from './plannerSagas';\r\nimport { getIncluidosSaga } from './incluidoSaga';\r\nimport { getDiasSaga } from './diaSaga';\r\nimport { getActividadesSaga } from './actividadSaga';\r\nimport {\r\n  saveSalidaSaga,\r\n  getSalidaByIdSaga,\r\n  getSalidaPlanSaga,\r\n} from './salidaSaga';\r\nimport { saveReservaSaga, deleteReservaSaga } from './reservaSaga';\r\nimport {\r\n  getTripsByUsuarioSaga,\r\n  getTripsByPlannerSaga,\r\n  saveTripSaga,\r\n  updateTripSaga,\r\n  deleteTripSaga,\r\n  getTripPlanSaga,\r\n  getTripsByIdSaga,\r\n} from './tripSaga';\r\nimport { getOrdersSaga, updateStateSaga } from './orderSaga';\r\nimport { getComercioById, updateIsOpen } from './comercioSaga';\r\n\r\nexport default function* watcherSaga() {\r\n  yield takeLatest('LOGIN', loginSaga);\r\n  yield takeLatest('LOGOUT', logoutSagas);\r\n  yield takeLatest('REGISTRO', registroSaga);\r\n  yield takeLatest('VERIFICAR', verificarSaga);\r\n\r\n  yield takeLatest('USUARIO_GET_BY_ID', getUsuarioByIdSaga);\r\n  yield takeLatest('USUARIO_SAVE_PROFILE_INFO', saveProfileInfoSaga);\r\n  yield takeLatest('USUARIO_SAVE_PERSONAL_INFO', savePersonalInfoSaga);\r\n  yield takeLatest('USUARIO_CHANGE_PASSWORD', cambiarContrasenaSaga);\r\n\r\n  yield takeLatest('PLANNER_GET_BY_ID', getPlannerByIdSaga);\r\n  yield takeLatest('PLANNER_GET_BY_ID_USUARIO', getPlannerByIdUsuarioSaga);\r\n  yield takeLatest('PLANNER_BASIC_INFO_SAVE', saveBasicInfoSaga);\r\n  yield takeLatest('PLANNER_LOCATION_INFO_SAVE', saveLocationInfoSaga);\r\n  yield takeLatest('PLANNER_BRAND_INFO_SAVE', saveBrandInfoSaga);\r\n\r\n  yield takeLatest('PLANES_GET', getPlanesSaga);\r\n  yield takeLatest('PLANES_GET_BY_PLANNER', getPlanesByPlannerSaga);\r\n  yield takeLatest('PLANES_GET_BY_CIUDAD', getPlanesByCiudadSaga);\r\n  yield takeLatest('PLAN_GET_BY_ID', getPlanByIdSaga);\r\n  yield takeLatest('PLAN_BASIC_INFO_SAVE', savePlanBasicInfoSaga);\r\n  yield takeLatest('PLAN_MAIN_PICTURE_SAVE', savePlanMainPictureSaga);\r\n  yield takeLatest('PLAN_INCLUIDOS_SAVE', savePlanIncluidosSaga);\r\n  yield takeLatest('PLAN_ITINERARIOS_SAVE', savePlanItinerarioSaga);\r\n  yield takeLatest('PLAN_LUGARES_SAVE', savePlanLugaresSaga);\r\n  yield takeLatest('PLAN_ACTIVIDADES_SAVE', savePlanActividadesSaga);\r\n\r\n  yield takeLatest('TRIP_GET_BY_ID', getTripsByIdSaga);\r\n  yield takeLatest('TRIP_GET_BY_USUARIO', getTripsByUsuarioSaga);\r\n  yield takeLatest('TRIP_GET_BY_PLANNER', getTripsByPlannerSaga);\r\n  yield takeLatest('TRIP_PLAN_GET', getTripPlanSaga);\r\n  yield takeLatest('TRIP_SAVE', saveTripSaga);\r\n  yield takeLatest('TRIP_UPDATE', updateTripSaga);\r\n  yield takeLatest('TRIP_UPDATE', updateTripSaga);\r\n  yield takeLatest('TRIP_DELETE', deleteTripSaga);\r\n\r\n  yield takeLatest('RESERVA_SAVE', saveReservaSaga);\r\n  yield takeLatest('RESERVA_DELETE', deleteReservaSaga);\r\n\r\n  yield takeLatest('CIUDADES_GET', getCiudadesSaga);\r\n  yield takeLatest('CIUDADES_GET_BY_ID', getCiudadByIdSaga);\r\n\r\n  yield takeLatest('LUGARES_GET', getLugaresSaga);\r\n  yield takeLatest('LUGARES_GET_BY_CIUDAD', getLugaresByCiudadSaga);\r\n\r\n  yield takeLatest('DIAS_GET', getDiasSaga);\r\n  yield takeLatest('INCLUIDOS_GET', getIncluidosSaga);\r\n  yield takeLatest('ACTIVIDADES_GET', getActividadesSaga);\r\n  yield takeLatest('PAISES_GET', getPaisesSaga);\r\n\r\n  yield takeLatest('ORDERS_GET', getOrdersSaga);\r\n\r\n  yield takeLatest('ORDER_STATE_UPDATE', updateStateSaga);\r\n\r\n  yield takeLatest('COMERCIO_GET_BY_ID', getComercioById);\r\n  yield takeLatest('COMERCIO_OPEN_UPDATE', updateIsOpen);\r\n}\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport reducers from '../reducers/index';\r\nimport watcherSaga from '../sagas/index';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst reduxDevTools =\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__();\r\nlet store;\r\n\r\n//es te no va\r\nstore = createStore(reducers, compose(applyMiddleware(sagaMiddleware)));\r\n//este va\r\n// if (!process.env.NODE_ENV) {\r\n//   store = createStore(reducers, compose(applyMiddleware(sagaMiddleware)));\r\n// } else {\r\n//   store = createStore(\r\n//     reducers,\r\n//     compose(\r\n//       applyMiddleware(sagaMiddleware),\r\n//       reduxDevTools\r\n//     )\r\n//   );\r\n// }\r\n\r\nsagaMiddleware.run(watcherSaga);\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport store from './store/index';\n\nconst Index = () => {\n  const { loginState } = store.getState();\n  return (\n    <Provider store={store}>\n      <Router>\n        <App loginState={loginState} />\n      </Router>\n    </Provider>\n  );\n};\n\nReactDOM.render(<Index />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}
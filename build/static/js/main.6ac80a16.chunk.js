(window["webpackJsonpnomadem.web"]=window["webpackJsonpnomadem.web"]||[]).push([[0],{250:function(e,a,t){e.exports=t.p+"static/media/logo.c2eb4d31.png"},268:function(e){e.exports=JSON.parse('{"gps_restrictions":{"title":"Antes de ingresar a las Islas gal\xe1pagos","description":"Listado de productos y derivados de origen vegetal y animal reglamentados para su ingreso a las Islas Gal\xe1pagos","allowedProducts":{"title":"Productos permitidos","description":"Deben cumplir con las normas generales (N.G.), y los requisitos espec\xedficos** estableccidos: ","list":[{"code":"001","description":"Acceites vegetales: soya, ma\xedz, girasol"},{"code":"002","description":"Accelga"},{"code":"003","description":"Achiote"},{"code":"004","description":"Aj\xed fresco o procesado"},{"code":"005","description":"Ajonjol\xed"},{"code":"006","description":"Albahaca"},{"code":"007","description":"Alcachofa"},{"code":"008","description":"Alfalfa"},{"code":"009","description":"Almeja sin valvas"},{"code":"010","description":"Anicillo"},{"code":"011","description":"An\xeds"},{"code":"012","description":"Apio"},{"code":"013","description":"Arroz"},{"code":"014","description":"Artesan\xedas de Banb\xfa"},{"code":"015","description":"Artesan\xedas de ca\xf1a"},{"code":"016","description":"Artesan\xedas de madera"},{"code":"017","description":"Art\xedculos de paja"},{"code":"018","description":"Avena"},{"code":"019","description":"Berenjena"},{"code":"020","description":"Boroj\xf3"}]},"restrictedProducts":{"title":"Productos restringidos","description":"Tienen mayor riesgo sanitario y fitosanitario para el transporte de plagas y enfermadades. Deben cumplir con las normas generales *(N.G.) y los requisitos espec\xedficos ** establecidos","list":[{"code":"201","description":"Agua"},{"code":"202","description":"Aguacate"},{"code":"203","description":"Ajo"},{"code":"204","description":"Arveja"},{"code":"205","description":"Babaco"},{"code":"206","description":"Banano"},{"code":"207","description":"Berro"},{"code":"208","description":"Br\xf3coli"},{"code":"209","description":"Capul\xed"},{"code":"210","description":"Cebolla Paite\xf1a"},{"code":"211","description":"Cebolla Perla"},{"code":"212","description":"Chocho"},{"code":"213","description":"Choclo"},{"code":"214","description":"Claudia"},{"code":"215","description":"Cocos"},{"code":"216","description":"Col blanca/morada"},{"code":"217","description":"Coliflor"},{"code":"218","description":"Culantro"},{"code":"219","description":"Durazno"},{"code":"220","description":"Eucalipto"},{"code":"221","description":"Flores Secas"},{"code":"222","description":"Fr\xe9jol"}]},"prohibitedProducts":{"title":"Productos no permitidos","description":"Son altamente agresivos y pueden transportar enfermedades o plagas","list":[{"code":"401","description":"Ajenjo"},{"code":"402","description":"Ajenjo serrano"},{"code":"403","description":"Albaricoque"},{"code":"404","description":"Anoa"},{"code":"405","description":"Badea"},{"code":"406","description":"Caf\xe9 en grano seco"},{"code":"407","description":"Caimito"},{"code":"408","description":"Ca\xf1a de Az\xfacar"},{"code":"409","description":"Cereza"},{"code":"410","description":"Chamico"},{"code":"411","description":"Chirimoya"},{"code":"412","description":"Chulco"},{"code":"413","description":"Especies forestales y maderables y sus partes propagativas"},{"code":"414","description":"Flores frescas"},{"code":"415","description":"Frambuesa"},{"code":"416","description":"Granada"},{"code":"417","description":"Granadilla"},{"code":"418","description":"Grosella"},{"code":"419","description":"Guaba bejuco"},{"code":"420","description":"Guaba machete"},{"code":"421","description":"Guanabana"},{"code":"422","description":"Guayaba"}]}}}')},470:function(e,a,t){e.exports=t.p+"static/media/nomadem_isotipo1.bc8e230a.png"},471:function(e,a,t){e.exports=t.p+"static/media/nomademdotcom.4eda8f96.png"},472:function(e,a,t){e.exports=t.p+"static/media/loadie.5f9c942d.gif"},489:function(e,a,t){e.exports=t.p+"static/media/noti.51968488.mp3"},579:function(e,a,t){e.exports=t(914)},592:function(e,a,t){},593:function(e,a,t){e.exports=t.p+"static/media/nomadem_imagotipo.0822d52f.png"},594:function(e,a,t){e.exports=t.p+"static/media/place-def.b8d18214.png"},914:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(37),o=t.n(c),i=t(29),l=t(32),s=t(31),u=t(30),m=t(49),d=t(47),p=t(48),E=t(10),b=t.n(E),f=(t(588),t(142)),g=(t(589),t(590),t(591),t(103)),v=(t(592),t(17)),O=t(475),h=t.n(O),S=(t(593),t(250)),j=t.n(S),C=t(470),y=t.n(C),x=t(471),N=t.n(x),_=(t(594),t(472)),R=t.n(_),A=(j.a,j.a),I=(y.a,N.a,R.a,function(e){var a=e.image,t=e.size,n={backgroundImage:"url('".concat(a,"')"),width:t||"50px",height:t||"50px",backgroundSize:"cover",backgroundPosition:"top center",borderRadius:"50%",margin:"auto"};return r.a.createElement("div",{style:n})}),P=t(1039),T=function(e){var a=e.usuario,t=e.className,n=e.size,c=void 0===n?"50px":n;return a.foto?r.a.createElement(P.a,{src:a.foto,className:t,style:{width:c,height:c}}):r.a.createElement(P.a,{className:t,style:{width:c,height:c}},"".concat(a.nombre[0].toUpperCase()+" "+a.apellido[0].toUpperCase()))},k=t(357),w=t(204),L=t.n(w),D=t(215),U=t(1002),G=function(e){var a=e.text,t=e.type,n=e.className,c=e.loading,o=e.disabled,i=e.children,l=e.variant,s=e.size,u=e.color,m=e.onClick,d=e.style,p=e.startIcon;return r.a.createElement(D.a,{startIcon:!c&&p,type:t||"button",variant:l,className:n,color:u,size:s,disabled:o||c,onClick:m||null,style:d},c?r.a.createElement(U.a,{size:24}):r.a.createElement("div",null,i,a&&r.a.createElement("span",{className:"mx-1"},a)))},B=Object(l.b)((function(e){var a=e.loginState;return{usuario:a.usuario,logged:a.logged,menu:a.menu}}),(function(e){return{logout:function(){return e({type:"LOGOUT"})},openLeftSideBar:function(){return e({type:"OPEN_LEFT_SIDEBAR"})}}}))((function(e){var a,t=e.usuario,c=e.logged,o=e.openLeftSideBar,l=e.history,s=Object(n.useState)(navigator.onLine),u=Object(v.a)(s,2),m=u[0],d=u[1];Object(n.useEffect)((function(){var e=function(){d(navigator.onLine)};return window.addEventListener("online",e),window.addEventListener("offline",e),function(){window.removeEventListener("online",e),window.removeEventListener("offline",e)}}),[d]),t&&(a=t.agencia);return a&&[{path:"/dashboard",text:"Dashboard"},{path:"/calendar",text:"Calendario"},{path:"/plans",text:"Planes"},{path:"/plan/create",text:"Crea un nuevo plan"},{path:"/analytics",text:"Analytics"},{path:"/agency/"+a.idPlanner||!1,text:"Perfil de agencia"}],r.a.createElement("div",null,r.a.createElement("nav",{id:"navbar-main",className:"ps-navbar-web navbar fixed-top navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("div",{className:"container-fluid py-2"},c&&r.a.createElement(k.a,{"aria-label":"Back",color:"primary",onClick:function(){return l.goBack()}},r.a.createElement(L.a,null)),r.a.createElement(k.a,{"aria-label":"Open Men\xfa",color:"primary",onClick:o},r.a.createElement(h.a,null)),r.a.createElement(i.b,{to:"/dashboard",className:"navbar-brand mr-auto"},r.a.createElement("img",{src:A})),r.a.createElement("p",null,m?"Conectado a internet":"No hay conexi\xf3n a internet"))),r.a.createElement("div",{className:"ps-menu-movil"}))})),M=function(){return r.a.createElement("div",{className:"container page"},"Not found")},Y=t(4),F={marginBottom:"3em",marginTop:"3em"},V=function(e){var a=e.children,t=e.className,n=e.style,c=e.title,o=e.description,i=e.button;return r.a.createElement("section",{className:t,style:n||F},r.a.createElement("div",{className:"d-flex"},c&&r.a.createElement("h2",null,c),i),o&&r.a.createElement("p",null,o),r.a.createElement("div",{style:F},a))},H=function(e){var a=e.size,t=void 0===a?3:a,n=e.cols,c=e.disablePhoto,o=e.disableTitle,i=e.disableDescription;n||(n="col-sm-12 col-md-6 col-lg-4 col-xl-4");var l=new Array(t).fill(1);return r.a.createElement("div",{className:"text-center w-100 ps-dummyCardWrapper"},r.a.createElement("div",{className:"lds-facebook"}),l.map((function(e,a){return r.a.createElement("div",{key:a},r.a.createElement("div",{className:"ps-dummyCard my-1 "+n},!c&&r.a.createElement("div",{className:"photo"}),!o&&r.a.createElement("div",{className:"title"}),!i&&r.a.createElement("div",{className:"description"})))})))},W=function(e){var a=e.idCompra,t=e.pasajero,n=e.cupos,c=(e.estado,e.estadoFormat),o=e.feCreacion,i=e.total,l=e.ganancia,s=e.onDetail;return r.a.createElement("tr",null,r.a.createElement("th",null,c),r.a.createElement("td",null,t,r.a.createElement("br",null),n," pasajero(s)"),r.a.createElement("td",null,b()(o).utc().format("ddd DD, MMM YYYY")),r.a.createElement("td",null,"$",i),r.a.createElement("td",null,"$",l),r.a.createElement("td",{className:"text-center"},r.a.createElement(G,{type:"button",onClick:function(){return s(a)},variant:"contained",color:"primary"},"Detalle")))},z=function(e){var a,t=e.reservations,n=e.onDetail;return t||(t=[]),a=e.loading?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"6",className:"text-center px-0"},r.a.createElement(H,{cols:"col-sm-12 px-0",size:1,disablePhoto:!0}))):0===t.length?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"6",className:"text-center"},r.a.createElement("h5",null,r.a.createElement("i",{className:"far fa-sticky-note"})),r.a.createElement("p",null,"No existen reservas para mostrar."))):t.map((function(e,a){return r.a.createElement(W,Object.assign({key:e.idCompra},e,{onDetail:n}))})),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Estado"),r.a.createElement("th",{scope:"col"},"Pasajero"),r.a.createElement("th",{scope:"col"},"Reservado"),r.a.createElement("th",{scope:"col"},"Total"),r.a.createElement("th",{scope:"col"},"Ganancias"),r.a.createElement("th",{scope:"col"}))),r.a.createElement("tbody",null,a))},K=function(e){e.idReserva;var a=e.nombre,t=e.apellido,n=e.pais,c=e.identificacion,o=(e.estado,e.feCreacion);e.onDetail;return r.a.createElement("tr",null,r.a.createElement("td",null,"".concat(a," ").concat(t)),r.a.createElement("td",null,c),r.a.createElement("td",null,n),r.a.createElement("td",null,b()(o).utc().format("ddd DD, MMM YYYY")))},q=function(e){var a,t=e.travelers,n=e.onDetail;return t||(t=[]),a=e.loading?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"6",className:"text-center px-0"},r.a.createElement(H,{cols:"col-sm-12 px-0",size:1,disablePhoto:!0}))):0===t.length?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"3",className:"text-center"},r.a.createElement("h5",null,r.a.createElement("i",{className:"far fa-sticky-note"})),r.a.createElement("p",null,"No existen pasajeros para mostrar."))):t.map((function(e,a){return r.a.createElement(K,Object.assign({key:e.idReservation},e,{onDetail:n}))})),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Pasajero"),r.a.createElement("th",{scope:"col"},"Identificaci\xf3n"),r.a.createElement("th",{scope:"col"},"Pa\xeds"),r.a.createElement("th",{scope:"col"},"Reservado"))),r.a.createElement("tbody",null,a))},$=t(117),J=t(927),X=t(928),Q=t(1006),Z=t(929),ee=t(72),ae=t.n(ee),te=t(34),ne=t(40),re={primary:{main:"#03dda2",contrastText:"#ffffff"},secondary:{main:"#ff4762",contrastText:"#ffffff"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#fff"},gray:{gray100:"#FAFAFA",gray200:"#F5F5F5",gray300:"#ECECEC"},dark:{dark:"#353535",gray:"#919094",metalblue:"#3E4A63"},white:{white0:"#ffffff",white100:"#FAFAFA",white200:"#F5F5F5",white300:"#ECECEC"}},ce="#FA3E3E",oe={CENTER:{display:"flex",alignItems:"center",justifyContent:"center"},CENTER_VERTICAL:{display:"flex",alignItems:"center"},TRUNCATE:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},BOX_SHADOW:{boxShadow:"rgba(0, 0, 0, 0.16) 0px 1px 4px !important"}},ie="\n        display:flex;\n        align-items: center;\n        justify-content: center;\n        flex-direction:row;\n    ",le="border-radius:12pt",se="\n    -webkit-box-shadow: 0px 8px 6px -6px rgba(0,0,0,0.123);\n    -moz-box-shadow: 0px 8px 6px -6px rgba(0,0,0,0.123);\n    box-shadow: 0px 8px 6px -6px rgba(0,0,0,0.123);\n  ",ue={MENU:".9em",H1:"2.5rem",H2:"2rem",H3:"1.75rem",H4:"1.5rem",H5:"1.25rem",H6:"1rem",MD:"1.5rem",SM:"1rem"},me={BODY:"https://fonts.googleapis.com/css?family=Poppins&display=swap",MENU:"https://fonts.googleapis.com/css?family=Raleway&display=swap"},de={BODY:"'Poppins', sans-serif",MENU:"'Raleway', sans-serif;"},pe={FROM:"0",TO:"768"},Ee={FROM:"768",TO:"4000"};function be(){var e=Object(te.a)(["\n  > * {\n    margin-top: 3em;\n  }\n"]);return be=function(){return e},e}function fe(){var e=Object(te.a)(["\n  padding-bottom: 10em;\n  padding-left: 6em;\n  padding-right: 6em;\n\n  flex-direction: row;\n  @media only screen and (min-width: ","px) and (max-width: ","px) {\n    padding-left: 1.5em;\n    padding-right: 1.5em;\n  }\n"]);return fe=function(){return e},e}function ge(){var e=Object(te.a)(["\n  margin-top: 2em;\n  margin-bottom: 2em;\n"]);return ge=function(){return e},e}var ve=function(e){return r.a.createElement(he,null,r.a.createElement(Oe,null,e.title&&r.a.createElement("h1",null,e.title),e.description&&r.a.createElement("p",null,e.description)),r.a.createElement(Se,null,e.children))},Oe=ne.b.div(ge()),he=ne.b.div(fe(),pe.FROM,pe.TO),Se=ne.b.div(be()),je=t(916),Ce=t(1005),ye=t(923),xe=t(954),Ne=function(e){var a=e.label,t=e.name,n=e.value,c=e.variant,o=e.options,i=void 0===o?[]:o,l=e.className,s=e.error,u=e.onChange,m=e.disabled;return r.a.createElement("div",{className:"form-group"},a&&r.a.createElement(je.a,{htmlFor:"age-simple"},a),r.a.createElement(xe.a,{disabled:m,fullWidth:!0,variant:c,value:void 0!=n?n:"",className:l,onChange:u,inputProps:{name:t,id:t}},i.map((function(e){return r.a.createElement(Ce.a,{key:e.value,value:e.value},e.text)}))),s&&r.a.createElement(ye.a,{error:!0},s))},_e=t(85),Re=t(924),Ae=t(517),Ie=t(342);function Pe(e){var a=e.inputRef,t=e.onChange,n=Object(_e.a)(e,["inputRef","onChange"]);return r.a.createElement(Ie.a,Object.assign({},n,{getInputRef:a,onValueChange:function(e){t({target:{value:e.value}})},allowNegative:!1,decimalScale:2}))}function Te(e){var a=e.inputRef,t=e.onChange,n=Object(_e.a)(e,["inputRef","onChange"]);return r.a.createElement(Ie.a,Object.assign({},n,{getInputRef:a,onValueChange:function(e){t({target:{value:e.value}})},allowNegative:!1,decimalScale:0}))}var ke=function(e){var a,t=e.label,n=e.name,c=e.type,o=e.value,i=(e.className,e.disabled),l=(e.textColor,e.multiline),s=e.placeholder,u=e.rows,m=e.error,d=e.variant,p=e.onChange,E=e.endAdornment;return"decimal"===c&&(a={name:n,inputComponent:Pe,startAdornment:r.a.createElement(Re.a,{position:"start"},"$")}),"integer"===c&&(a={name:n,inputComponent:Te}),E&&(a=a?Object(Y.a)({},a,{endAdornment:E}):{endAdornment:E}),r.a.createElement("div",{className:"form-group"},r.a.createElement(Ae.a,{id:n,name:n,placeholder:s,label:t,fullWidth:!0,type:c||"text",value:o||"",disabled:i,error:m,helperText:m,multiline:l,rows:u,InputProps:a,onChange:p,variant:d}))},we=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Le=/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$/,De=t(926);t(596),t(268);var Ue=t(1030),Ge=function(e){var a=e.label,t=e.name,n=e.value,c=e.variant,o=e.options,i=void 0===o?[]:o,l=(e.className,e.error),s=e.onChange,u=e.autoSelect,m=e.autoComplete,d=e.disableClearable,p=e.disabled,E=i.find((function(e){return e.value==n}));return E=E?E.text:"",r.a.createElement("div",{className:"form-group"},r.a.createElement(Ue.a,{disabled:p,id:t,options:i,getOptionLabel:function(e){return isNaN(e)?e.text:E},getOptionSelected:function(e){return e.value==n},autoSelect:u,autoComplete:m,disableClearable:d,value:n,onChange:s,renderInput:function(e){return r.a.createElement(Ae.a,Object.assign({},e,{label:a,variant:c,fullWidth:!0,error:l}))}}),l&&r.a.createElement(ye.a,{error:!0},l))},Be=function(e){var a=e.title,t=e.description,c=e.loading,o=e.reserva,i=void 0===o?{}:o,l=e.onReservaChange,s=e.numberOptions,u=void 0===s?[]:s,m=e.usuario,d=e.onSubmit,p=e.isAgency,E=e.onDelete,b=e.paisesOption,f=Object(n.useState)({}),g=Object(v.a)(f,2),O=g[0],h=g[1],S=Object(n.useState)(!1),j=Object(v.a)(S,2),C=j[0],y=j[1],x=function(e){var a=i.pasajeros;if(i[e.target.name]=e.target.value,"cupos"==e.target.name)if(i.total=void 0,+e.target.value>0){var t=+e.target.value+0;i.pasajeros=[];for(var n=0;n<t;n++){var r=a[n];i.pasajeros.push(r||{})}}else i.pasajeros=[];l(i)},N=function(e,a){i.pasajeros[a][e.target.name]=e.target.value,l(i)};return r.a.createElement(V,{title:a,description:t},r.a.createElement("h3",null,"\xbfQui\xe9n viene?"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),h({});var a={},t=!0;a.pasajeros=i.pasajeros.map((function(e,a){var n,r,c;return e.nombre&&0!=e.nombre.length||(n="El nombre es requerido",t=!1),e.apellido&&0!=e.apellido.length||(r="El apellido es requerido",t=!1),e.correo&&e.correo.length>0&&!new RegExp(we).test(e.correo)&&(c="Ingresa un correo v\xe1lido",t=!1),{nombre:n,apellido:r,correo:c,idPais:void 0}})),t?(C||(i.notas=void 0),d(i)):h(Object(Y.a)({},a))},noValidate:!0},r.a.createElement(V,null,r.a.createElement(Ne,{disabled:i.idCompra,label:"N\xfamero de pasajeros",name:"cupos",variant:"outlined",value:i.cupos,options:u,onChange:x,error:O.cupos}),r.a.createElement("div",{className:"form-group"},r.a.createElement("h5",null,"Detalle de pasajeros"),r.a.createElement("p",null,"La informaci\xf3n ingresada ser\xe1 utilizada para ingresar pasajeros a esta reserva.")),r.a.createElement("hr",{className:"w-100 my-1 mb-2"}),m&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-12 px-0"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("p",{className:"font-weight-bold my-auto"},"".concat(m.nombre," ").concat(m.apellido)),r.a.createElement("div",{className:"ml-auto"},r.a.createElement(T,{usuario:m})))),r.a.createElement("hr",{className:"w-100 my-1 mb-3"})),i.pasajeros&&i.pasajeros.map((function(e,a){return r.a.createElement("div",{className:"w-100 mb-3"},r.a.createElement("div",{className:"form-group"},0!=a?r.a.createElement("h5",null,"Pasajero ",a+1):p&&r.a.createElement("h5",null,"Pasajero principal"),0==a&&r.a.createElement("p",null,"Mant\xe9n a tus pasajeros informados. Ingresa su informaci\xf3n y les enviaremos un correo con el itinerario.")),0!=a?r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-6"},r.a.createElement(ke,{disabled:i.idCompra,label:"Nombre",name:"nombre",value:e.nombre,onChange:function(e){return N(e,a)},variant:"outlined",error:O.pasajeros&&O.pasajeros[a]?O.pasajeros[a].nombre:null})),r.a.createElement("div",{className:"col-6"},r.a.createElement(ke,{disabled:i.idCompra,label:"Apellido",name:"apellido",value:e.apellido,onChange:function(e){return N(e,a)},variant:"outlined",error:O.pasajeros&&O.pasajeros[a]?O.pasajeros[a].apellido:null})),r.a.createElement("div",{className:"col-4"},r.a.createElement(ke,{disabled:i.idCompra,label:"Indentificaci\xf3n (Opcional)",name:"identificacion",value:e.identificacion,onChange:function(e){return N(e,a)},variant:"outlined",error:O.pasajeros&&O.pasajeros[a]?O.pasajeros[a].identificacion:null})),r.a.createElement("div",{className:"col-4"},r.a.createElement(Ge,{disabled:i.idCompra,className:"mt-2",label:"Pa\xeds (Opcional)",name:"idPais",variant:"outlined",value:e.idPais,options:b,onChange:function(e,t){return N({target:{name:"idPais",value:t.value}},a)},error:O.pasajeros&&O.pasajeros[a]?O.pasajeros[a].idPais:null})),r.a.createElement("div",{className:"col-4"},r.a.createElement(ke,{disabled:i.idCompra,label:"Correo electr\xf3nico (Opcional)",name:"correo",value:e.correo,onChange:function(e){return N(e,a)},variant:"outlined",error:O.pasajeros&&O.pasajeros[a]?O.pasajeros[a].correo:null}))):p&&r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-6"},r.a.createElement(ke,{disabled:i.idCompra,label:"Nombre",name:"nombre",value:e.nombre,onChange:function(e){return N(e,a)},variant:"outlined",error:O.pasajeros&&O.pasajeros[a]?O.pasajeros[a].nombre:null})),r.a.createElement("div",{className:"col-6"},r.a.createElement(ke,{disabled:i.idCompra,label:"Apellido",name:"apellido",value:e.apellido,onChange:function(e){return N(e,a)},variant:"outlined",error:O.pasajeros&&O.pasajeros[a]?O.pasajeros[a].apellido:null})),r.a.createElement("div",{className:"col-4"},r.a.createElement(ke,{disabled:i.idCompra,label:"Indentificaci\xf3n (Opcional)",name:"identificacion",value:e.identificacion,onChange:function(e){return N(e,a)},variant:"outlined",error:O.pasajeros&&O.pasajeros[a]?O.pasajeros[a].identificacion:null})),r.a.createElement("div",{className:"col-4"},r.a.createElement(Ge,{disabled:i.idCompra,className:"mt-2",label:"Pa\xeds (Opcional)",name:"idPais",variant:"outlined",value:e.idPais,options:b,onChange:function(e,t){return N({target:{name:"idPais",value:t.value}},a)},error:O.pasajeros&&O.pasajeros[a]?O.pasajeros[a].idPais:null})),r.a.createElement("div",{className:"col-4"},r.a.createElement(ke,{disabled:i.idCompra,label:"Correo electr\xf3nico (Opcional)",name:"correo",value:e.correo,onChange:function(e){return N(e,a)},variant:"outlined",error:O.pasajeros&&O.pasajeros[a]?O.pasajeros[a].correo:null}))))})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-row"},!i.idCompra&&r.a.createElement("div",{className:"col-12 mb-2"},r.a.createElement("a",{href:"javascript:;",onClick:function(){return y(!C)}},C?"Cancelar":"Agregar notas")),(C||i.idCompra)&&r.a.createElement("div",{className:"col-12"},r.a.createElement(ke,{disabled:i.idCompra,label:"Notas",name:"notas",variant:"outlined",multiline:!0,rows:3,placeholder:"Ingresa notas adicionales para tu reserva",value:i.notas,onChange:x}))))),r.a.createElement(De.a,null,i.idCompra?r.a.createElement(G,{loading:c,color:"secondary",variant:"contained",onClick:E,right:!0},"Eliminar reserva"):r.a.createElement(G,{type:"submit",loading:c,color:"primary",variant:"contained",right:!0},"Confirmar reserva"))))};function Me(){var e=Object(te.a)(["\n  padding: 0 0.9em 0 0.9em;\n  @media only screen and (max-width: ","px) and (min-width: ","px) {\n    max-width: ","%;\n    flex: ",";\n  }\n  @media only screen and (max-width: ","px) and (min-width: ","px) {\n    flex: 1;\n  }\n"]);return Me=function(){return e},e}function Ye(){var e=Object(te.a)(["\n  @media only screen and (max-width: ","px) and (min-width: ","px) {\n    max-width: ","%;\n    flex: ",";\n  }\n\n  @media only screen and (max-width: ","px) and (min-width: ","px) {\n    padding: 0;\n    flex: 1;\n  }\n"]);return Ye=function(){return e},e}function Fe(){var e=Object(te.a)(["\n  display: flex;\n  flex-direction: ",";\n  @media only screen and (max-width: ","px) and (min-width: ","px) {\n    flex-direction: ",";\n  }\n"]);return Fe=function(){return e},e}function Ve(e){var a={left:100*e.web.left/(e.web.left+e.web.right),right:100*e.web.right/(e.web.left+e.web.right)},t={flexDirection:e.mob.d};return r.a.createElement(He,{web:a,mob:t},r.a.createElement(We,{web:a,mob:t},e.children[0]),r.a.createElement(ze,{web:a,mob:t},e.children[1]))}var He=ne.b.div(Fe(),(function(e){return e.web.direction?e.web.direction:"row"}),pe.TO,pe.FROM,(function(e){return e.mob.flexDirection?e.mob.flexDirection:"row"})),We=ne.b.div(Ye(),Ee.TO,Ee.FROM,(function(e){return e.web.left}),(function(e){return e.web.left}),pe.TO,pe.FROM),ze=ne.b.div(Me(),Ee.TO,Ee.FROM,(function(e){return e.web.right}),(function(e){return e.web.right}),pe.FROM,pe.FROM),Ke=t(272);function qe(){var e=Object(te.a)(["\n  /* border-radius: 0.3em; */\n\n  @media only screen and (min-width: ",") and (max-width: ",") {\n    src: url(",");\n    height: 30vh;\n    object-fit: cover;\n    width: 100%;\n  }\n\n  @media only screen and (min-width: ",") and (max-width: ",") {\n    src: url(",");\n    height: 20vh;\n    object-fit: cover;\n    width: 100%;\n  }\n"]);return qe=function(){return e},e}var $e=ne.b.img(qe(),Ee.FROM+"px",Ee.TO+"px",(function(e){return e.src}),pe.FROM+"px",pe.TO+"px",(function(e){return e.src})),Je=function(e){e.id;var a=e.title,t=e.subtitle,n=e.description,c=e.image,o=(e.imgClass,e.onClick),l=e.link;return r.a.createElement("div",{onClick:o,style:{display:"flex",flexDirection:"column"}},r.a.createElement(Ke.a,{style:{outline:"none",borderRadius:".2em"}},r.a.createElement(i.b,{to:l},r.a.createElement($e,{src:c,draggable:"false",style:Object(Y.a)({borderRadius:".6em"},oe.BOX_SHADOW)}))),r.a.createElement("div",{className:"card-body px-0 pt-3 pb-0"},t&&r.a.createElement("p",{className:"mb-1 text-muted"},t)," ",a&&r.a.createElement("h5",{style:oe.TRUNCATE},a),n&&r.a.createElement("p",null,n)))},Xe=t(481),Qe=t.n(Xe),Ze=function(e){var a=e.plan,t=void 0===a?{}:a,n=e.reserva,c=void 0===n?{}:n,o=e.showTotalInput,i=e.total,l=e.onChangePrecio,s=e.salida,u=void 0===s?{}:s;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(Je,{image:t.urlFoto})),r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",{className:"card-title mt-2 mb-0"},t.plan),r.a.createElement("p",{className:"text-muted mb-0"},b()(u.horaFin).diff(b()(u.horaInicio),"hour"),"H duraci\xf3n"),t.planner&&r.a.createElement("p",{className:"text-muted"},"Ofrecido por ",t.planner.agencia)),r.a.createElement("hr",{className:"w-100 mx-2 my-1 mb-3"}),r.a.createElement("div",{className:"col-12"},r.a.createElement("p",{className:"text-muted mb-0"},b()(u.feSalida).format("ddd[,] MMM DD")),r.a.createElement("p",{className:"text-muted"},b()(u.horaInicio).format("hh:mm A")," "," \u2013 ",b()(u.horaFin).format("hh:mm A"))),r.a.createElement("hr",{className:"w-100 mx-2 my-1 mb-3"}),void 0==i&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("p",{className:"text-muted"},"$",t.precio," x ",c.cupos," pasajero(s)"),r.a.createElement("p",{className:"text-muted ml-auto"},"".concat(t.precio*c.cupos)||0))),r.a.createElement("hr",{className:"w-100 mx-2 my-1 mb-3"})),r.a.createElement("div",{className:"col-12"},o?r.a.createElement(ke,{type:"decimal",label:"Total",name:"total",value:i,onChange:function(e){l(e.target.value)},endAdornment:r.a.createElement(Re.a,{position:"end"},r.a.createElement(k.a,{"aria-label":"go",size:"medium",onClick:function(){l(void 0)}},r.a.createElement(ae.a,{fontSize:"inherit"}))),error:""==i&&"Ingresa un valor v\xe1lido"}):r.a.createElement("div",{className:"d-flex"},r.a.createElement("p",{className:"font-weight-bold"},"Total(USD)"),r.a.createElement("p",{className:"font-weight-bold ml-auto",onClick:function(){return l(t.precio*c.cupos)}},"$",t.precio*c.cupos," ",r.a.createElement(k.a,{"aria-label":"go",style:{borderRadius:"unset",backgroundColor:"unset"},className:"h-100 ml-auto p-0",size:"medium"},r.a.createElement(Qe.a,{fontSize:"inherit"}))))))))},ea=Object($.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),aa=r.a.forwardRef((function(e,a){return r.a.createElement(J.a,Object.assign({direction:"up",ref:a},e))})),ta=Object(l.b)((function(e){return{reservaState:e.reservaState,login:e.loginState,paisesOption:e.paisState.paises.map((function(e){return{value:e.idPais,text:e.pais}}))}}),(function(e){return{reservaChange:function(a){return e({type:"RESERVA_CHANGE",reserva:a})},booking:function(a,t){return e({type:"RESERVA_SAVE",reserva:a,onSuccess:t})},loadPaises:function(){return e({type:"PAISES_GET"})}}}))((function(e){e.history;var a=e.open,t=e.onClose,c=e.trip,o=e.reservaState,i=(e.planState,e.login),l=e.reservaChange,s=e.booking,u=e.loadPaises,m=e.paisesOption,d=e.onDelete;Object(n.useEffect)((function(){l({cupos:1,pasajeros:[{}]}),u()}),[]);var p=ea(),E=function(e){for(var a=[],t=e.cupos-e.ocupados,n=0;n<t;n++)a.push({text:n+1,value:n+1});return a}(c);return r.a.createElement(X.a,{fullScreen:!0,open:a,onClose:t,TransitionComponent:aa},r.a.createElement(Q.a,{className:p.appBar},r.a.createElement(Z.a,null,r.a.createElement(k.a,{edge:"start",color:"inherit",onClick:t,"aria-label":"close"},r.a.createElement(ae.a,null)))),r.a.createElement(ve,null,r.a.createElement(Ve,{web:{left:9,right:3},mob:{left:1,right:1,direction:"column-reverse"}},r.a.createElement(Be,{title:"Nueva reserva",loading:o.loading,reserva:o.reserva,numberOptions:E,onReservaChange:l,paisesOption:m,isAgency:!0,onSubmit:function(e){e.pasajeros||(e.pasajeros=[]),s(Object(Y.a)({},e,{idSalida:c.idSalida,idPlan:c.idPlan,idUsuario:i.usuario.idUsuario,valorUnitario:c.precio,tipoCompra:"AGCY"}),(function(){l({cupos:1,pasajeros:[{}]}),t()}))},onDelete:d}),r.a.createElement(Ze,{plan:c.planDetalle,reserva:o.reserva,total:o.reserva.total,onChangePrecio:function(e){return l(Object(Y.a)({},o.reserva,{total:e}))},showTotalInput:!o.reserva.idCompra&&void 0!=o.reserva.total,salida:c}))))})),na=t(139),ra=t.n(na),ca=t(12),oa=t(1035),ia=Object(ca.a)({root:{},thumb:{marginTop:"-1.75px","&:focus,&:hover,&$active":{boxShadow:"inherit"}},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(oa.a),la=function(e){var a=e.label,t=e.className,n=e.value,c=e.step,o=void 0===c?10:c,i=e.marks,l=e.valueLabelDisplay,s=e.getAriaValueText;return r.a.createElement("div",{className:"form-group ".concat(t)},a&&r.a.createElement(je.a,{htmlFor:"age-simple"},a),r.a.createElement(ia,{defaultValue:n,getAriaValueText:s,"aria-labelledby":"discrete-slider-always",step:o,marks:i,valueLabelDisplay:l}))};function sa(){var e=Object(te.a)(["\n  border-radius: 0.3em;\n\n  @media only screen and (min-width: ",") and (max-width: ",") {\n    src: url(",");\n    height: 100%;\n    object-fit: cover;\n    width: 100%;\n  }\n\n  @media only screen and (min-width: ",") and (max-width: ",") {\n    src: url(",");\n    height: 100%;\n    object-fit: cover;\n    width: 100%;\n  }\n"]);return sa=function(){return e},e}var ua=[{value:0,label:"0%"},{value:25,label:"25%"},{value:50,label:"50%"},{value:75,label:"75%"},{value:100,label:"100%"}];function ma(e){return"".concat(e,"%")}var da=function(e){var a,t,n=e.loading,c=e.idSalida,o=e.plan,i=e.urlFoto,l=e.feSalida,s=e.horaInicio,u=e.horaFin,m=e.cupos,d=e.ocupados,p=e.onClick,E=e.onDetail,f=e.onSeeReservations,g=e.showOccupationSlide,v=void 0!==g&&g;return a=d>=m?"Todos los cupos llenos.":"".concat(d," de ").concat(m," reservados."),p&&(t={cursor:"pointer"}),r.a.createElement("div",{className:"w-100 mb-4"},n?r.a.createElement(H,{size:1,cols:"col-12",disablePhoto:!0}):r.a.createElement("div",{className:"d-flex",style:t,onClick:function(){return p&&p({idSalida:c,fecha:l})}},r.a.createElement("div",{className:"col-3"},r.a.createElement(pa,{src:i,draggable:"false"})),r.a.createElement("div",{className:"col"},r.a.createElement("h6",{style:oe.TRUNCATE}," ",o),r.a.createElement("p",{className:"mb-1"},b()(l).format("ddd[,] MMM DD")),r.a.createElement("p",{className:"mb-1"},b()(s).format("hh:mm A")," "," - ",b()(u).format("hh:mm A")),r.a.createElement("p",null,a),v&&r.a.createElement(la,{className:"mb-0",value:+Number(d/m*100).toFixed(1),getAriaValueText:ma,step:5,marks:ua,valueLabelDisplay:"auto"}),E&&r.a.createElement(G,{color:"primary",onClick:function(){return E({idSalida:c,fecha:l})}},"Detalles"),f&&r.a.createElement(G,{color:"primary",onClick:function(){return f(c)}},"Ver reservas")),p&&r.a.createElement("div",{className:"ml-auto"},r.a.createElement(k.a,{"aria-label":"go",style:{borderRadius:"unset",backgroundColor:"unset"},className:"h-100",size:"medium"},r.a.createElement(ra.a,{fontSize:"inherit"})))),r.a.createElement("hr",{className:"w-100"}))},pa=ne.b.img(sa(),Ee.FROM+"px",Ee.TO+"px",(function(e){return e.src}),pe.FROM+"px",pe.TO+"px",(function(e){return e.src})),Ea=t(114),ba=t.n(Ea),fa=t(113),ga=t.n(fa),va=t(1007),Oa=t(930),ha=t(80),Sa=t(925),ja=t(917),Ca=t(1036),ya=t(1008),xa=t(1032),Na=Object(ca.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var a=e.children,t=e.classes,n=e.onClose;return r.a.createElement(va.a,{disableTypography:!0,className:t.root},r.a.createElement(ha.a,{variant:"h6"},a),n?r.a.createElement(k.a,{"aria-label":"close",className:t.closeButton,onClick:n},r.a.createElement(ae.a,null)):null)})),_a=Object(ca.a)((function(e){return{root:{padding:e.spacing(2)}}}))(Oa.a);var Ra=function(e){var a=e.isOpen,t=e.loading,c=e.onConfirm,o=e.onCloseModal,i=e.onCancel,l=e.cancelText,s=e.confirmText,u=Object(n.useState)(1),m=Object(v.a)(u,2),d=m[0],p=m[1],E=function(){i&&i(),o()};return r.a.createElement(X.a,{onClose:!t&&E,"aria-labelledby":"customized-dialog-title",open:a,maxWidth:"sm",fullWidth:!0},r.a.createElement(Na,{id:"customized-dialog-title",onClose:!t&&E},"Eliminar reserva"),r.a.createElement(_a,{dividers:!0},r.a.createElement(Sa.a,{component:"fieldset"},r.a.createElement(ja.a,{component:"legend"},"\xbfDeseas notificar a tus pasajeros de la cancelaci\xf3n de esta reserva?"),r.a.createElement(Ca.a,{"aria-label":"avisar",name:"avisar",value:d,onChange:function(e){return p(+e.target.value)}},r.a.createElement(ya.a,{value:1,control:r.a.createElement(xa.a,null),label:"S\xed, avisar."}),r.a.createElement(ya.a,{value:0,control:r.a.createElement(xa.a,null),label:"No avisar (Considera esta opci\xf3n si estas eliminando esta reserva para crearla de nuevo)."})))),r.a.createElement(De.a,null,!t&&r.a.createElement(G,{onClick:E,color:"primary"},l||"No"),r.a.createElement(G,{onClick:function(){return c(d)},color:"primary",loading:t},s||"yes")))},Aa=t(43),Ia=t(343),Pa=t.n(Ia),Ta=t(482),ka=t.n(Ta);Pa.a.vfs=ka.a.pdfMake.vfs;var wa=Object(l.b)((function(e,a){var t=e.tripState,n=e.loginState,r=e.reservaState,c=t.trip,o=t.trips,i=t.loadingList,l=n.usuario,s=r.reserva;return{trip:c,trips:o,loadingReserva:r.loading,loadingList:i,usuario:l,reserva:s}}),(function(e){return{reservaChange:function(a){return e({type:"RESERVA_CHANGE",reserva:a})},reservaDelete:function(a,t,n){return e({type:"RESERVA_DELETE",idCompra:a,notificar:t,onSuccess:n})},showConfirm:function(a){return e({type:"OPEN_CONFIRM",config:a})},loadTrip:function(a){return e({type:"TRIP_GET_BY_ID",idSalida:a})},loadTrips:function(){return e({type:"TRIP_GET_BY_PLANNER"})}}}))((function(e){var a=Object(n.useState)("RESERVA"),t=Object(v.a)(a,2),c=t[0],o=t[1],l=Object(n.useState)(!1),s=Object(v.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(!1),p=Object(v.a)(d,2),E=p[0],f=p[1];Object(n.useEffect)((function(){e.loadTrip(S.params.idTrip),e.loadTrips()}),[]);var g=e.trip,O=e.trips,h=void 0===O?[]:O,S=e.match,j=e.history,C=e.loadingList,y=e.loadingReserva,x=e.reservaChange,N=(e.showConfirm,e.reserva),_=e.reservaDelete,R=function(e){e&&x(e),m(!0)},A=function(){var e=h.findIndex((function(e){return e.idSalida==S.params.idTrip})),a=e-2,t=e+3;return a=a<0?0:a,t=t>h.length-1?h.length:t,h.slice(a,t)}();return r.a.createElement(r.a.Fragment,null,g.idSalida&&r.a.createElement(ta,{open:u,onClose:function(){return m(!1)},trip:g,history:j,onDelete:function(){return f(!0)}}),r.a.createElement("div",{className:"container-fluid2",style:{marginTop:"6rem"}},r.a.createElement("div",{className:"row p-0 m-0"},r.a.createElement("div",{className:"col-sm-12 col-md-2"},r.a.createElement(V,{title:"Viajes"},A.map((function(a){return r.a.createElement("div",{style:{borderRight:a.idSalida==S.params.idTrip?"solid ".concat(re.primary.main):"unset"}},r.a.createElement(i.b,{to:"/reservation/"+a.idSalida,onClick:function(){return e.loadTrip(a.idSalida)}},a.plan),r.a.createElement("p",null,b()(a.feSalida).format("ddd[,] DD MMM YYYY")))})))),r.a.createElement("div",{className:"col-sm-12 col-md-10"},r.a.createElement(V,{title:"RESERVA"==c?"Reservas":"Pasajeros",button:r.a.createElement(G,{className:"ml-auto",startIcon:r.a.createElement(ba.a,null),text:b()(g.lastSync).isValid()&&r.a.createElement(ga.a,{date:b()(g.lastSync).toDate()}),color:"primary",loading:C,onClick:function(){e.loadTrip(S.params.idTrip),e.loadTrips()}})},r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example"},r.a.createElement(G,{type:"button",color:"primary",style:{borderTopRightRadius:0,borderBottomRightRadius:0},variant:"".concat("RESERVA"==c?"contained":"outlined"),onClick:function(){return o("RESERVA")}},"Reservas"),r.a.createElement(G,{type:"button",color:"primary",style:{borderTopLeftRadius:0,borderBottomLeftRadius:0},variant:"".concat("PASAJERO"==c?"contained":"outlined"),onClick:function(){return o("PASAJERO")}},"Pasajeros")),!C&&g.ocupados<g.cupos?r.a.createElement(G,{onClick:function(){return R({cupos:1,pasajeros:[{}]})},disabled:b()(g.feSalida).isBefore(b()(),"day"),type:"button",color:"primary",variant:"outlined",className:"ml-auto"},"Agregar"):r.a.createElement(G,{type:"button",color:"primary",variant:"contained",className:"ml-auto",disabled:!0},C?"Cargando":"Agotado"))),r.a.createElement(V,null,r.a.createElement(da,Object.assign({loading:C},g,{feSalida:g.feSalida,showOccupationSlide:!0}))),r.a.createElement(V,null,"RESERVA"==c?r.a.createElement(z,{loading:C,reservations:g.reservas,onDetail:function(e){var a=g.reservas.find((function(a){return a.idCompra==e}));R(Object(Y.a)({},a,{pasajeros:g.pasajeros.filter((function(a){return a.idCompra==e}))}))}}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement(G,{onClick:function(){return function(e){var a=e.pasajeros;try{var t=b()().format("DDMMYYYHHmmss")+".pdf",n=a.map((function(e){return[{text:e.nombre},{text:e.apellido},{text:e.identificacion||""},{text:e.pais||""},{text:b()(e.feCreacion).format("ddd DD, MMM YYYY")}]})),r={pageSize:"A4",content:[{table:{body:[["Nombre","Apellido","Identificaci\xf3n","Pais","Fecha de reserva"]].concat(Object(Aa.a)(n))}}]};Pa.a.createPdf(r).download(t)}catch(c){console.log(new Error(c))}}({pasajeros:g.pasajeros.filter((function(e){return"A"==e.estado}))})},type:"button",color:"primary",variant:"outlined",className:"ml-auto mb-1"},"Generar pdf")),r.a.createElement(q,{loading:C,travelers:g.pasajeros.filter((function(e){return"A"==e.estado}))})))))),E&&r.a.createElement(Ra,{loading:y,isOpen:E,onCloseModal:function(){return f(!1)},onConfirm:function(e){return _(N.idCompra,e,(function(){f(!1),m(!1),x({cupos:1,pasajeros:[{}]})}))},confirmText:"Eliminar",cancelText:"Cancelar"}))})),La=t(1028),Da=t(28),Ua=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).state={login:{},errors:{}},t.onSubmit=t.onSubmit.bind(Object(Da.a)(t)),t.onInputChange=t.onInputChange.bind(Object(Da.a)(t)),t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({errors:{}});var a=this.state.login,t={},n=!0;a.usuario&&""!==a.usuario.trim()||(n=!1,t=Object(Y.a)({},t,{usuario:"El usuario es requerido"})),a.contrasena&&""!==a.contrasena.trim()||(n=!1,t=Object(Y.a)({},t,{contrasena:"La contrase\xf1a es requerida"})),n?this.props.onSubmit(a):this.setState({errors:t})}},{key:"onInputChange",value:function(e){var a=this.state.login;a[e.target.name]=e.target.value,this.setState({login:a})}},{key:"render",value:function(){var e=this.state,a=e.login,t=e.errors,n=this.props.loading;return r.a.createElement("form",{onSubmit:this.onSubmit,noValidate:!0},r.a.createElement(ke,{label:"Usuario",name:"usuario",value:a.usuario,onChange:this.onInputChange,error:t.usuario}),r.a.createElement(ke,{type:"password",label:"Contrase\xf1a",name:"contrasena",value:a.contrasena,onChange:this.onInputChange,error:t.contrasena}),r.a.createElement(G,{type:"submit",text:"Login",className:"btn btn-block",loading:n}))}}]),a}(n.Component),Ga=t(58),Ba=t(140),Ma=t(66),Ya=t(1009),Fa=function(e){var a=e.label,t=e.name,n=e.value,c=e.format,o=(e.disablePast,e.disableToolbar),i=e.error,l=e.variant,s=e.onChange,u=e.className;return r.a.createElement("div",Object(Ga.a)({className:"form-group"},"className",u),r.a.createElement(Ma.a,{utils:Ba.a},r.a.createElement(Ya.b,{fullWidth:!0,disablePast:!0,disableToolbar:o,variant:l,format:c||"YYYY-MM-DD",id:t,label:a,value:n,error:i,onChange:s,KeyboardButtonProps:{"aria-label":"change date"}}),i&&r.a.createElement(ye.a,{error:!0},i)))};n.Component;var Va=Object(l.b)((function(e,a){var t=e.loginState,n=e.registroState,r=t.loading,c=t.usuario,o=t.logged;return{loginLoading:r,registroLoading:n.loading,usuario:c,logged:o}}),(function(e){return{login:function(a,t){return e({type:"LOGIN",login:a,onSuccess:t})},registro:function(a,t){return e({type:"REGISTRO",registro:a,navigate:t})},loadOrders:function(a){return e({type:"ORDERS_GET",idComercio:a})},loadComercio:function(a){return e({type:"COMERCIO_GET_BY_ID",idComercio:a})}}}))((function(e){var a=e.history,t=e.loginLoading,c=e.login,o=(e.registro,e.loadOrders),i=e.loadComercio,l=Object(n.useState)(0),s=Object(v.a)(l,2),u=(s[0],s[1],function(e){o(e),i(e),a.replace("/dashboard")});return r.a.createElement(Ua,{onSubmit:function(e){c(Object(Y.a)({},e),0!==a.location.pathname.indexOf("login")?u:null)},loading:t})})),Ha=t(1010),Wa=t(1011),za=Object($.a)((function(e){return{card:Object(Y.a)({},oe.BOX_SHADOW,{borderRadius:".6em"}),floatRight:{marginLeft:"auto",display:"flex",flexDirection:"row",justifyContent:"space-between"},input:{marginLeft:"2em"}}})),Ka=function(e){var a=e.history,t=za();return r.a.createElement("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},className:"container"},r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-sm-12 text-center mb-4 d-flex"},r.a.createElement("div",{className:"bg-dark rounded-circle m-auto"},r.a.createElement("img",{width:"150",className:"px-2 py-4",src:A}))),r.a.createElement("h5",{className:"col-12 text-center my-2"},"Afiliados"),r.a.createElement("div",{className:"col-sm-12"},r.a.createElement(Ha.a,{className:t.card},r.a.createElement(Wa.a,null,r.a.createElement(Va,{history:a}))),r.a.createElement("p",{className:"text-center"},"V. 0.3.2"))))},qa=t(512),$a=t(1040),Ja=t(5),Xa=t(483),Qa=t.n(Xa),Za=t(485),et=t.n(Za),at=t(486),tt=t.n(at),nt=t(267),rt=t(1012),ct=t(1013),ot=t(484),it=t.n(ot),lt=Object($.a)((function(e){return{success:{backgroundColor:nt.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:rt.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}})),st={success:Qa.a,warning:it.a,error:et.a,info:tt.a};var ut=function(e){var a=lt(),t=e.className,n=e.message,c=e.onClose,o=e.variant,i=Object(_e.a)(e,["className","message","onClose","variant"]),l=st[o];return r.a.createElement(ct.a,Object.assign({className:Object(Ja.a)(a[o],t),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:a.message},r.a.createElement(l,{className:Object(Ja.a)(a.icon,a.iconVariant)}),n),action:[r.a.createElement(k.a,{key:"close","aria-label":"Close",color:"inherit",onClick:c},r.a.createElement(ae.a,{className:a.icon}))]},i))},mt=function(e){var a,t=e.icon,n=e.title,c=e.description,o=e.onClick;return o&&(a={cursor:"pointer"}),r.a.createElement("div",{onClick:o,style:a,className:"card border border-dark rounded"},r.a.createElement("div",{className:"card-body p-4"},t&&r.a.createElement("h2",null,r.a.createElement("i",{className:t})),r.a.createElement("h6",{className:"font-weight-bold"},n),r.a.createElement("p",null,c)))},dt=Object(l.b)((function(e,a){return{usuario:e.loginState.usuario}}),null)((function(e){var a=e.history,t=e.usuario;return r.a.createElement("div",{className:"container",style:{marginTop:"4rem"}},r.a.createElement(V,{className:"mt-4"},r.a.createElement("h2",null,"Configuraci\xf3n de cuenta"),r.a.createElement("p",null,r.a.createElement("strong",null,t.nombre," ",t.apellido),", ",t.correo," \xb7"," ")),r.a.createElement(V,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 col-md-4 mb-4"},r.a.createElement(mt,{onClick:function(){return a.push("/account/personal-info")},icon:"far fa-address-card",title:"Informaci\xf3n personal",description:"Provee tu informaci\xf3n personal y como se te puede contactar."})),r.a.createElement("div",{className:"col-sm-12 col-md-4 mb-4"},r.a.createElement(mt,{onClick:function(){return a.push("/account/login-security")},icon:"fas fa-key",title:"Inicio de sesi\xf3n y seguradad",description:"Actualiza tu contrase\xf1a y asegura tu cuenta."})))),r.a.createElement(V,{className:"my-4"},r.a.createElement("h2",null,"Agency"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 col-md-4 mb-4"},t.agencia&&t.agencia.idPlanner?r.a.createElement(mt,{onClick:function(){return a.push("/account/agency-info")},icon:"far fa-address-card",title:"Informaci\xf3n de tu cuenta de agencia",description:"Mira y actualiza los detalles de tu cuenta de agencia."}):r.a.createElement(mt,{onClick:function(){return a.push("/account/become-provider")},icon:"far fa-address-card",title:"Become an agency partner",description:"You can apply with your agency to offer touristic plans"})))))})),pt=function(e){var a=e.icon,t=e.title,n=e.description;return r.a.createElement("div",null,a&&r.a.createElement("i",{className:a}),r.a.createElement("h6",{className:"mt-2 mb-0 font-weight-bold"},t),r.a.createElement("p",{className:"p-x-sm-0"},n))},Et=t(184),bt=function(e){var a=e.image,t=e.stars,n=e.comentario,c=e.nombre,o=e.fecha;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 px-0"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"p-2"},r.a.createElement(I,{image:a,size:"50px"})),r.a.createElement("div",{className:"p-2 author"},r.a.createElement("div",null,c),r.a.createElement("div",{className:"text-muted"},r.a.createElement(Et.a,{initialRating:t,fullSymbol:r.a.createElement("i",{className:"fas fa-star"}),emptySymbol:r.a.createElement("i",{className:"far fa-star"})}))),r.a.createElement("div",{className:"ml-auto p-2 my-auto"},r.a.createElement("span",{className:"text-muted"},o)))),r.a.createElement("div",{className:"col-12 px-0"},r.a.createElement("p",null,n)))},ft=function(e){var a=e.reviews;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 px-0"},a.map((function(e,a){return r.a.createElement(bt,Object.assign({key:"index"},e))}))))},gt=function(e){var a=e.stars,t=e.reviews;return r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-md-4 col-sm-12"},r.a.createElement("h2",null,"Traveler reviews"),r.a.createElement("p",null,a," \xa0",r.a.createElement(Et.a,{initialRating:a,fullSymbol:r.a.createElement("i",{className:"fas fa-star"}),emptySymbol:r.a.createElement("i",{className:"far fa-star"})}))),r.a.createElement("div",{className:"col-md-8 col-sm-12"},r.a.createElement(ft,{reviews:t})))},vt=t(1014),Ot=t(1034),ht=t(1015),St=t(953),jt=(Object(St.a)({card:{width:"100%"},media:{height:140}}),Object(ca.a)((function(e){return{root:{color:ce,backgroundColor:e.palette.getContrastText(ce),borderColor:ce}}}))(Ot.a)),Ct=function(e){var a=e.idPlan,t=e.plan,n=e.descripcion,c=e.idPlanner,o=e.agencia,l=e.ciudad,s=e.logoAgencia,u=e.isInfoCompleted,m=e.urlFoto,d=e.onClick,p=e.onClickPlanner,E=e.onNewDate,b=e.onEdit,f=e.onWatch,g=e.onDelete,v=e.showCardHeader,O=void 0===v||v,h=e.showStatus,S=void 0!==h&&h;return r.a.createElement("div",{className:"w-100"},O&&r.a.createElement(vt.a,{className:"px-1 py-2",style:p&&{cursor:"pointer"},onClick:function(){return p?p(c):null},avatar:s?r.a.createElement(P.a,{"aria-label":"recipe",src:s}):r.a.createElement(P.a,{"aria-label":"recipe",src:s},o&&o[0]),action:r.a.createElement(k.a,{"aria-label":"settings"}),title:o,subheader:l}),r.a.createElement(Je,{id:a,title:t,description:n,image:m||"http://18.219.227.87/assets/img/place-def.png",imgclassName:"card-img-20",onClick:function(){return d(a)}}),S&&(u?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ot.a,{label:"Disponible",clickable:!0,className:"mb-1 mt-2",size:"small",color:"primary",variant:"outlined"}),r.a.createElement("p",null,"Listo para a\xf1adir fechas")):r.a.createElement(r.a.Fragment,null,r.a.createElement(jt,{label:"En progreso",clickable:!0,className:"mb-1",size:"small",variant:"outlined"}),r.a.createElement("p",null,"Continua con la creaci\xf3n de tu plan"))),E&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",{className:"mt-2 mb-3"}),r.a.createElement("div",{onClick:function(e){return E(a)},style:{cursor:"pointer"},className:"d-flex"},r.a.createElement("p",null,r.a.createElement(i.b,{to:"#"},"Agrega una nueva fecha")),r.a.createElement(k.a,{"aria-label":"go",style:{borderRadius:"unset",backgroundColor:"unset"},className:"h-100 ml-auto p-0",size:"medium"},r.a.createElement(ra.a,{fontSize:"inherit"}))),r.a.createElement("hr",{className:"mt-3 mb-1"})),(b||f||g)&&r.a.createElement(ht.a,{className:"px-0"},b&&r.a.createElement(i.b,{color:"default",className:"mr-2",onClick:function(e){return b(a)}},u?"Editar":"Continuar"),1==u&&f&&r.a.createElement(i.b,{color:"default",className:"mr-2",onClick:function(e){return f(a)}},"Ver"),g&&r.a.createElement(i.b,{color:"default",className:"mr-2",onClick:function(e){return g(a)}},"Eliminar")))},yt=function(e){var a=e.title,t=e.button,n=e.children,c="";return a&&t?c=r.a.createElement("div",{className:"d-flex",style:{marginBottom:"3rem"}},r.a.createElement("h3",null,a),t):a&&(c=r.a.createElement("h2",{className:"align-items-center mt-4 mb-1"},a)),r.a.createElement("div",null,c,n)},xt=function(e){var a,t=e.planes,c=(e.lastSync,e.onSync,e.onClickPlanner),o=e.onClick,i=e.showCardHeader,l=e.showStatus,s=e.onNewDate,u=e.onEdit,m=e.onWatch,d=e.onDelete,p=e.title,E=e.loading,b=e.cols,f=e.dummySize,g=e.button,O=Object(n.useState)(0),h=Object(v.a)(O,2);h[0],h[1];return t||(t=[]),b||(b="col-sm-12 col-md-4 col-lg-3 col-xl-3"),a=E?r.a.createElement(H,{size:f,cols:b}):0===t.length?r.a.createElement("div",{className:"card w-100"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h1",{className:"text-center"},r.a.createElement("i",{className:"far fa-sticky-note"})),r.a.createElement("p",{className:"text-center"},"No existen planes para mostrar"))):t.map((function(e){return r.a.createElement("div",{className:"my-1 "+b,key:e.idPlan},r.a.createElement(Ct,Object.assign({},e,{showCardHeader:i,showStatus:l,onClickPlanner:c,onClick:o,onNewDate:s,onEdit:u,onWatch:m,onDelete:d})))})),r.a.createElement(yt,{title:p,button:g},r.a.createElement("div",{className:"row flex"},a))},Nt=Object($.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),_t=r.a.forwardRef((function(e,a){return r.a.createElement(J.a,Object.assign({direction:"up",ref:a},e))}));function Rt(e){var a=e.isOpen,t=e.children,n=e.onClose,c=Nt();return r.a.createElement(X.a,{fullScreen:!0,open:a,onClose:n,TransitionComponent:_t},r.a.createElement(Q.a,{className:c.appBar},r.a.createElement(Z.a,null,r.a.createElement(k.a,{edge:"start",color:"inherit",onClick:n,"aria-label":"close"},r.a.createElement(ae.a,null)))),t)}var At=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).googleMapRef=r.a.createRef(),t.createGoogleMap=function(){var e=t.props,a=e.center,n=void 0===a?{}:a,r=e.zoom;return new window.google.maps.Map(t.googleMapRef.current,{zoom:r||8,center:{lat:n.lat||-.3830876,lng:n.lng||-90.983792}})},t.createMarker=function(e,a){return new window.google.maps.Marker({position:{lat:e,lng:a},map:t.googleMap})},t.createGoogleMap=t.createGoogleMap.bind(Object(Da.a)(t)),t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props,t=a.center,n=void 0===t?{}:t,r=a.onCenterChange,c=document.createElement("script");c.src="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyB0gLcuepbnqwTpe66w0IW2IIavCxP83Rw","&libraries=places"),window.document.body.appendChild(c),c.addEventListener("load",(function(){e.googleMap=e.createGoogleMap(),e.marker=e.createMarker(n.lat||-.3830876,n.lng||-90.983792),e.eventOnChange=e.googleMap.addListener("center_changed",(function(){return r&&r(e.googleMap.getCenter())}))}))}},{key:"componentDidUpdate",value:function(){var e=this,a=this.props.onCenterChange;this.eventOnChange&&(this.eventOnChange.remove(),this.eventOnChange=this.googleMap.addListener("center_changed",(function(){return a&&a(e.googleMap.getCenter())}))),this.googleMap&&this.googleMap.setZoom(this.props.zoom),this.marker&&this.marker.setPosition(this.props.center)}},{key:"render",value:function(){return r.a.createElement("div",{id:"google-map",ref:this.googleMapRef,style:{width:"100%",height:"100%"}})}}]),a}(n.Component);function It(){var e=Object(te.a)(["\n  .MuiPickersDay-daySelected {\n    color: #ffffff;\n    font-weight: 500;\n    background-color: #343a40ed;\n  }\n"]);return It=function(){return e},e}function Pt(){var e=Object(te.a)(["\n  // @media only screen and (min-width: ",") {\n  //   height: 100vh;\n  //   overflow-y: scroll;\n  // }\n  .MuiPickersBasePicker-pickerView {\n    transform: scale(2);\n    transform-origin: 0 0;\n  }\n  .MuiPickersStaticWrapper-staticWrapperRoot {\n    overflow: unset;     \n  }  \n  // zoom: 2;\n"]);return Pt=function(){return e},e}var Tt=Object(ca.a)((function(e){return{isDisabled:{textDecoration:"line-through",opacity:.7,"&:hover":{cursor:"unset",background:"rgba(0,0,0,0)"}},isTrip:{backgroundColor:"#009ada21",color:re.primary.main,fontWeight:"bold"},isSelected:{backgroundColor:re.primary.main,color:re.primary.contrastText},day:{width:"2.5rem",height:"2.5rem",borderRadius:"5%"}}}),{name:"Calendar"})((function(e){var a=e.classes,t=e.value,n=e.datesChecked,c=void 0===n?[]:n,o=e.onChange,i=(e.format,e.emptyLabel,e.onClose,Object(_e.a)(e,["classes","value","datesChecked","onChange","format","emptyLabel","onClose"])),l=c;return r.a.createElement(kt,null,r.a.createElement(Ma.a,{utils:Ba.a},r.a.createElement(Ya.a,Object.assign({},i,{variant:"static",autoOk:!0,orientation:"landscape",disableToolbar:!0,value:t,renderDay:function(e,n,c,i){var s=function(){var n;return r.a.cloneElement(i,{onClick:function(a){a.stopPropagation();var t=l.findIndex((function(a){return b()(e).isSame(a,"day")}));t>=0&&Object(Aa.a)(l).splice(t,1);o&&o(b()(e))},selected:!!l.find((function(a){return b()(e).isSame(a,"day")})),className:Object(Ja.a)(a.day,(n={},Object(Ga.a)(n,a.hidden,i.props.hidden),Object(Ga.a)(n,a.current,i.props.current),Object(Ga.a)(n,a.isTrip,!!(l&&l.length>0)&&l.find((function(a){return b()(a).isSame(e,"day")}))),Object(Ga.a)(n,a.isSelected,b()(e).isSame(b()(t),"day")),n))})};return b()(e).isSame(t,"day")?r.a.createElement(wt,null,r.a.createElement(s,null)):r.a.createElement("div",null,r.a.createElement(s,null))}}))))})),kt=ne.b.div(Pt(),Ee.FROM+"px"),wt=ne.b.div(It()),Lt=function(e){var a,t,n=e.idSalida,c=e.feSalida,o=e.horaInicio,i=e.horaFin,l=e.ocupados,s=e.cupos,u=e.onClickFecha;return l===s?(a="No available left.",t=!1):(a="".concat(s-l," of ").concat(s," spots left."),t=!0),r.a.createElement("div",{className:"w-100 mb-4"},r.a.createElement("h3",{className:"mb-1"},b()(c).format("ddd[,] DD MMM YYYY")),r.a.createElement("hr",{className:"w-100"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"mb-1"},b()(o).format("hh:mm A")," "," - ",b()(i).format("hh:mm A")),r.a.createElement("p",null,a)),u&&r.a.createElement("div",{className:"col m-auto text-center"},r.a.createElement(G,{color:"primary",variant:"contained",onClick:function(){return u({idSalida:n,fecha:c})},disabled:!t},"Choose"))),r.a.createElement("hr",{className:"w-100"}))};function Dt(){var e=Object(te.a)(["\n  @media only screen and (min-width: ",") {\n    height: 100vh;\n    overflow-y: scroll;\n  }\n"]);return Dt=function(){return e},e}function Ut(e){var a=e.isOpen,t=e.plan,c=e.onClose,o=Object(n.useState)(b()()),i=Object(v.a)(o,2),l=i[0],s=i[1],u=t.idPlan,m=(t.feSalida,t.urlFoto),d=t.plan,p=t.ciudad,E=t.descripcion,f=(t.latitud,t.longitud,t.horaInicio,t.horaSalida,t.fechas?t.fechas.map((function(e){return b()(e.fecha)})):[]),g=t.fechas?t.fechas.filter((function(e){return b()(e.fecha).isSame(l,"day")})):[];return r.a.createElement(Rt,{isOpen:a,onClose:c},r.a.createElement("div",{className:"row p-0 m-0"},r.a.createElement(Gt,{className:"col-sm-12 col-md-3 mt-4"},r.a.createElement(Je,{onClick:function(){return window.open("/plan/"+u,"_newtab")},image:m,title:d,subtitle:p,description:E})),r.a.createElement("div",{className:"col-sm-12 col-md-9 p-0 m-0",style:{height:"100vh"}},r.a.createElement("div",{className:"container page mt-4"},r.a.createElement(V,null,r.a.createElement("h1",null,"Pr\xf3ximas fechas"),r.a.createElement("p",null,"Estas son las pr\xf3ximas fechas que tienes previsto realizar este viaje"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(Tt,{datesChecked:f,format:"DD-MM-YYYY",onChange:function(e){return s(b()(e))}})),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row p-0 m-0"},g.length>0?g.map((function(e){return r.a.createElement("div",{className:"col-12 p-0 m-0"},r.a.createElement(Lt,Object.assign({key:b()(e.fecha).format("DDMMYYY")},e)))})):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mb-1"},b()(l).format("ddd[,] DD MMM YYYY")),r.a.createElement("hr",{className:"w-100"}),r.a.createElement("p",null,"No tienes viajes planificados para este d\xeda."),r.a.createElement("hr",{className:"w-100"})),r.a.createElement("div",{className:"col-12 p-0 m-0"},r.a.createElement(G,{className:"btn btn-block"},"Crear un nuevo viaje"))))))))))}var Gt=ne.b.div(Dt(),Ee.FROM+"px"),Bt=[{image:"https://miro.medium.com/fit/c/256/256/1*85AoiyLeFdu9Qqhr4niO3Q.jpeg",nombre:"Thian Lopez",stars:4.5,fecha:"23 Ago, 2019",comentario:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."}],Mt=Object(l.b)((function(e,a){var t=e.plannerState,n=e.planState,r=e.loginState,c=t.planner,o=t.loadingList,i=n.plan,l=n.planes,s=n.loadingList;return{plan:i,usuario:r.usuario,agency:c,loadingAgency:o,planes:l,loadingPlanes:s}}),(function(e){return{setPlan:function(a){return e({type:"PLAN_CHANGE",plan:a})},loadPlan:function(a){return e({type:"PLAN_GET_BY_ID",idPlan:a})},getPlanner:function(a){return e({type:"PLANNER_GET_BY_ID",idPlanner:a})},loadPlanes:function(a){return e({type:"PLANES_GET_BY_PLANNER",idPlanner:a})}}}))((function(e){var a=e.match,t=e.history,c=(e.loadPlan,e.setPlan),o=e.loadPlanes,l=e.getPlanner,s=e.agency,u=e.plan,m=e.planes,d=e.usuario,p=e.loadingPlanes,E=(e.loadingAgency,Object(n.useState)(!1)),f=Object(v.a)(E,2),g=f[0],O=f[1],h=Object(n.useState)({}),S=Object(v.a)(h,2);S[0],S[1];Object(n.useEffect)((function(){l(a.params.idPlanner),o(a.params.idPlanner),c({})}),[]);var j=function(){var e=!0;return d&&d.agencia?d.agencia.idPlanner!=a.params.idPlanner&&(e=!1):e=!1,e}();return r.a.createElement("div",{className:"container-fluid2 page"},r.a.createElement(V,null,r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-md-3 col-sm-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(P.a,{className:"mx-auto",src:s.urlLogo,style:{width:"120px",height:"120px"}}),r.a.createElement("p",{className:"my-2 text-center"},4.5," \xa0",r.a.createElement(Et.a,{initialRating:4.5,fullSymbol:r.a.createElement("i",{className:"fas fa-star"}),emptySymbol:r.a.createElement("i",{className:"far fa-star"})})),r.a.createElement("hr",{className:"w-100"}),r.a.createElement("p",{className:"text-muted"},r.a.createElement("span",{className:"mx-1"},r.a.createElement("i",{className:"fas fa-home"})),r.a.createElement("a",{href:"javascript:;"},s.ciudad,", ",s.pais)),r.a.createElement("p",{className:"text-muted"},r.a.createElement("span",{className:"mx-1"},r.a.createElement("i",{className:"fas fa-map-marker"})),s.direccion)))),r.a.createElement("div",{className:"col-md-9 col-sm-12"},r.a.createElement("h1",{className:"mb-0"},s.agencia),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"p-2"},r.a.createElement("p",{className:"text-muted"},"Joined on"," ",s.feCreacion&&b()(s.feCreacion).format("YYYY"))),j&&r.a.createElement("div",{className:"p-2"},r.a.createElement(i.b,{to:"/account/agency-info"},"Edit agency profile"))),r.a.createElement("hr",{className:"w-100"}),r.a.createElement(V,null,r.a.createElement("div",null,r.a.createElement(xt,{cols:"col-sm-12 col-md-4 col-lg-4 col-xl-4",title:"Plans ofered by ".concat(s.agencia||""),addText:"Empieza a ofrecer un plan",addAction:function(){return t.push("/plan/create")},planes:m,onClick:function(e){return window.open("/plan/"+e,"_newtab")},loading:p}))),r.a.createElement("hr",{className:"w-100"}),r.a.createElement(V,null,r.a.createElement(gt,{stars:4,reviews:Bt}))))),g&&r.a.createElement(Ut,{isOpen:g,plan:u,onClose:function(){return O(!1)}}))})),Yt=t(487),Ft=function(e){return Object(Yt.a)(e),r.a.createElement("div",{className:"w-100 text-center"},r.a.createElement(U.a,null))},Vt=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).state={errors:{}},t.onSubmit=t.onSubmit.bind(Object(Da.a)(t)),t.onChange=t.onChange.bind(Object(Da.a)(t)),t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({errors:{}});var a=this.props.plan,t={},n=!0;a.plan&&""!==a.plan.trim()||(n=!1,t=Object(Y.a)({},t,{plan:"The name of the plan is required"})),a.descripcion&&""!==a.descripcion.trim()||(n=!1,t=Object(Y.a)({},t,{descripcion:"The description of the plan is required"})),a.cupos&&0!==Number(a.cupos)||(n=!1,t=Object(Y.a)({},t,{cupos:"The group size of the plan is required"})),a.precio&&0!==Number(a.precio)||(n=!1,t=Object(Y.a)({},t,{precio:"The price of the plan is required"})),n?this.props.onSubmit(a):this.setState({errors:t})}},{key:"onChange",value:function(e){var a=this.props,t=a.plan,n=a.onPlanChange;t[e.target.name]=e.target.value,n(t)}},{key:"onChangeNumbers",value:function(e,a){var t=this.props,n=t.plan,r=t.onPlanChange;n[a]=e.target.value,r(n)}},{key:"render",value:function(){var e=this,a=this.state.errors,t=this.props,n=t.loading,c=t.plan;return r.a.createElement("form",{onSubmit:this.onSubmit,noValidate:!0},r.a.createElement(V,{title:"Dale un nombre a tu plan",description:"Hazlo corto, descriptivo y emocionante.",style:{marginBottom:"4rem"}},r.a.createElement(ke,{label:"Nombre del plan",name:"plan",value:c.plan,onChange:this.onChange,error:a.plan})),r.a.createElement(V,{title:"Haz un peque\xf1o resumen de lo que har\xe1s",description:"Describe el plan desde principio a fin, trata de explicar las\r actividades que se realizar\xe1n.",style:{marginBottom:"4rem"}},r.a.createElement(ke,{label:"Descripci\xf3n",name:"descripcion",multiline:!0,rows:3,value:c.descripcion,onChange:this.onChange,error:a.descripcion})),r.a.createElement(V,{title:"M\xe1ximo tama\xf1o del grupo",description:"Piensa en el tama\xf1o del grupo con el que puedas trabajar mejor.",style:{marginBottom:"4rem"}},r.a.createElement(ke,{type:"integer",label:"Tama\xf1o de grupo",name:"cupos",value:c.cupos,onChange:function(a){return e.onChangeNumbers(a,"cupos")},error:a.cupos})),r.a.createElement(V,{title:"Configura el precio por pasajero",description:"El precio de tu plan lo pones tu, seg\xfan la conveniencia de tu\r negocio.",style:{marginBottom:"4rem"}},r.a.createElement(ke,{type:"decimal",label:"Precio por pasajero",name:"precio",value:c.precio,onChange:function(a){return e.onChangeNumbers(a,"precio")},error:a.precio})),r.a.createElement(G,{type:"submit",text:"Guardar",variant:"contained",className:"mr-2",color:"primary",loading:n}))}}]),a}(n.Component),Ht=function(e){var a=e.name,t=(e.error,e.onChange),n=e.accept,c=e.hidden;return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{hidden:c,id:a,name:a,type:"file",onChange:t,accept:n}))},Wt=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).state={file:{}},t.onSubmit=t.onSubmit.bind(Object(Da.a)(t)),t.onChange=t.onChange.bind(Object(Da.a)(t)),t.onImageChange=t.onImageChange.bind(Object(Da.a)(t)),t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({errors:{}});var a=this.state.file,t={},n=!0;a&&a.name||(n=!1,t=Object(Y.a)({},t,{file:"Select a file"})),n?this.props.onSubmit(a):this.setState({errors:t})}},{key:"onChange",value:function(e){var a=this.props,t=a.plan,n=a.onPlanChange;t[e.target.name]=e.target.value,n(t)}},{key:"onImageChange",value:function(e){var a=this.props,t=a.plan,n=a.onPlanChange,r=a.onFileTooBig,c=e.target.files[0];if(c){if(c.size/1024/1024>3)return r();var o=new FileReader;o.readAsDataURL(c),o.onload=function(e){n(Object(Y.a)({},t,{urlFoto:o.result}))},this.setState({file:c})}}},{key:"triggerFileInput",value:function(){document.getElementById("file").click()}},{key:"render",value:function(){var e=this.state,a=e.errors,t=e.file,n=this.props,c=n.loading,o=n.plan;return r.a.createElement("form",{onSubmit:this.onSubmit,noValidate:!0},r.a.createElement(V,{title:"Agrega una foto de portada para tu plan",description:"Elige una foto que represente tu plan. Esta es la foto principal, la\r que aparecer\xe1 cuando tus pasajeros busquen tu oferta.",style:{marginBottom:"4rem"}},r.a.createElement("div",{className:"row form-group my-3"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-5 col-sm-12 my-auto"},r.a.createElement("p",{className:"text-center"},r.a.createElement("a",{href:"javascript:;",onClick:this.triggerFileInput,text:t&&t.name||"Subir archivo"},t&&t.name||"Elige una imagen"))),r.a.createElement("div",{className:"col-md-7 col-sm-12"},r.a.createElement("p",{className:"text-muted text-center"},"Preview"),r.a.createElement(Ct,o))),r.a.createElement(Ht,{hidden:!0,name:"file",value:t&&t.name,onChange:this.onImageChange,accept:"image/*"})),a&&r.a.createElement("div",{className:"col-12"},r.a.createElement(ye.a,{error:!0},a.file)))),r.a.createElement(G,{type:"submit",text:"Guardar",variant:"contained",className:"mr-2",color:"primary",loading:c}))}}]),a}(n.Component),zt=t(488),Kt=t.n(zt),qt=t(1001),$t=t(189),Jt=t(25),Xt=t(82),Qt=t(511);function Zt(e){var a=e.inputRef,t=Object(_e.a)(e,["inputRef"]);return r.a.createElement("div",Object.assign({ref:a},t))}var en={Control:function(e){var a=e.children,t=e.innerProps,n=e.innerRef,c=e.selectProps,o=c.classes,i=c.TextFieldProps;return r.a.createElement(Ae.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:Zt,inputProps:Object(Y.a)({className:o.input,ref:n,children:a},t)}},i))},Menu:function(e){return r.a.createElement($t.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){return r.a.createElement(Ot.a,{tabIndex:-1,label:e.children,className:Object(Ja.a)(e.selectProps.classes.chip,Object(Ga.a)({},e.selectProps.classes.chipFocused,e.isFocused)),onDelete:e.removeProps.onClick,deleteIcon:r.a.createElement(Kt.a,e.removeProps)})},NoOptionsMessage:function(e){return r.a.createElement(ha.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return r.a.createElement(Ce.a,Object.assign({ref:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){var a=e.selectProps,t=e.innerProps,n=void 0===t?{}:t,c=e.children;return r.a.createElement(ha.a,Object.assign({color:"textSecondary",className:a.classes.placeholder},n),c)},ValueContainer:function(e){return r.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}},an=Object($.a)((function(e){return{root:{flexGrow:1,height:250,minWidth:290},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(Jt.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0},divider:{height:e.spacing(2)}}})),tn=function(e){var a=e.label,t=e.name,n=e.value,c=e.options,o=e.groupedOptions,i=e.closeMenuOnSelect,l=e.placeholder,s=e.error,u=e.onChange,m=an(),d=Object(Xt.a)(),p={input:function(e){return Object(Y.a)({},e,{color:d.palette.text.primary,"& input":{font:"inherit"}})}};return c=o||c.map((function(e){return{value:e.value,label:e.text}})),r.a.createElement("div",{className:"form-group"},a&&r.a.createElement(je.a,{htmlFor:t},a),r.a.createElement(qt.a,null,r.a.createElement(Qt.a,{closeMenuOnSelect:i,classes:m,styles:p,inputId:t,name:t,components:en,TextFieldProps:{InputLabelProps:{htmlFor:t,shrink:!0}},placeholder:l,options:c||o,value:n,onChange:u,isMulti:!0})),s&&r.a.createElement(ye.a,{error:!0},s))},nn=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).state={errors:{}},t.onSubmit=t.onSubmit.bind(Object(Da.a)(t)),t.onChange=t.onChange.bind(Object(Da.a)(t)),t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({errors:{}});var a=this.props.plan;this.props.onSubmit(a)}},{key:"onChange",value:function(e){e||(e=[]);var a=this.props,t=a.plan,n=a.onPlanChange;t.incluidos=e.map((function(e){return{idIncluido:e.value,incluido:e.label}})),n(t)}},{key:"onChangeNumbers",value:function(e,a){var t=this.props,n=t.plan,r=t.onPlanChange;n[a]=e.target.value,r(n)}},{key:"render",value:function(){var e=this.state.errors,a=this.props,t=a.loading,n=a.plan,c=a.incluidosOption;return r.a.createElement("form",{onSubmit:this.onSubmit,noValidate:!0},r.a.createElement(V,{style:{marginBottom:"4rem"}},r.a.createElement("h2",null,"Agrega detalles de lo que incluye tu plan"),r.a.createElement("p",null,"Puedes ofrecer comida y bebidas, equipo especial, o cualquier cosa que haga que tus pasajeros se sientan c\xf3modos."),r.a.createElement(tn,{closeMenuOnSelect:!1,className:"mt-2",label:"Incluye",name:"incluidos",value:n.incluidos?n.incluidos.map((function(e){return{value:e.idIncluido,label:e.incluido}})):[],groupedOptions:c,onChange:this.onChange,error:e.incluidos})),r.a.createElement(G,{type:"submit",text:"Guardar",variant:"contained",className:"mr-2",color:"primary",loading:t}))}}]),a}(n.Component),rn=t(1037),cn=function(e){var a=e.label,t=e.name,n=e.value,c=e.error,o=e.variant,i=e.inputVariant,l=e.onChange;return r.a.createElement("div",{className:"form-group mb-0"},r.a.createElement(Ma.a,{utils:Ba.a},r.a.createElement(rn.a,{margin:"normal",variant:o,inputVariant:i,id:t,label:a,value:n,onChange:l,inpu:!0,KeyboardButtonProps:{"aria-label":"change time"}})),c&&r.a.createElement(ye.a,{error:!0},c))},on=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0==e.length)return 0;var a=0;return e.forEach((function(e){var t=b()(e.horaInicio),n=b()(e.horaFin);a+=n.diff(t,"hours",!0)})),a/e.length},ln=(n.Component,function(e){var a=e.idLugar,t=e.lugar,n=e.ciudad,c=e.foto,o=e.onClick;return r.a.createElement(Je,{id:a,title:t,subtitle:n,description:"Offered in 4 plans",image:"/assets/img/lugares/".concat(c),imgclassName:"card-img-20",onClick:o})}),sn=function(e){var a=e.lugares,t=e.addAction,c=(e.editAction,e.deleteAction,e.detailAction,e.title),o=e.loading,i=e.cols,l=e.horizontal,s=e.showEmpty,u=void 0!==s&&s,m=e.elemsToShow,d=void 0===m?a.length||4:m,p=Object(n.useState)(0),E=Object(v.a)(p,2),b=E[0],f=E[1];a||(a=[]);var g,O=a.filter((function(e,a){return a>=b&&a<b+d}));return i||(i="col-sm-12 col-md-4 col-lg-2 col-xl-2"),g=o?r.a.createElement(H,{cols:i}):0===a.length?u?r.a.createElement("div",{className:"card w-100"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h1",{className:"text-center"},r.a.createElement("i",{className:"far fa-sticky-note"})),r.a.createElement("p",{className:"text-center"},"No existen lugares"))):null:l?O.map((function(e,t){return r.a.createElement("div",{className:"my-1 "+i,style:{display:"flex"},key:e.idLugar},0==t&&r.a.createElement("div",{style:{position:"absolute",top:"50%",left:"0",zIndex:1}},r.a.createElement("button",{onClick:function(){0!==b&&(b--,f(b))},className:"btn btn-primary btn-icon-only rounded-circle"},r.a.createElement("i",{className:"fas fa-chevron-left"}))),r.a.createElement(ln,Object.assign({},e,{landscapeCardImage:e.foto})),t==O.length-1&&r.a.createElement("div",{style:{position:"absolute",top:"50%",right:"0"}},r.a.createElement("button",{onClick:function(){b+d!==a.length&&(b++,f(b))},className:"btn btn-primary btn-icon-only rounded-circle"},r.a.createElement("i",{className:"fas fa-chevron-right"}))))})):O.map((function(e){return r.a.createElement("div",{className:"my-1 "+i,style:{display:"flex"},key:e.idLugar},r.a.createElement(ln,Object.assign({},e,{landscapeCardImage:e.foto})))})),r.a.createElement(yt,{title:c,handle:t},r.a.createElement("div",{className:"row flex"},g))},un=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).state={errors:{}},t.onSubmit=t.onSubmit.bind(Object(Da.a)(t)),t.onChange=t.onChange.bind(Object(Da.a)(t)),t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({errors:{}});var a=this.props.plan,t={},n=!0;a.lugares&&0!==a.lugares.length||(n=!1,t=Object(Y.a)({},t,{lugares:"You must select almost one place"})),n?this.props.onSubmit({idPlan:a.idPlan,lugares:a.lugares}):this.setState({errors:t})}},{key:"onChange",value:function(e){e||(e=[]);var a=this.props,t=a.plan,n=a.onPlanChange;t.lugares=e.map((function(e){return{idLugar:e.value,lugar:e.label}})),n(t)}},{key:"render",value:function(){var e=this.state.errors,a=this.props,t=a.loading,n=a.plan,c=a.lugaresOption,o=a.lugares;return r.a.createElement("form",{onSubmit:this.onSubmit,noValidate:!0},r.a.createElement(V,{title:"\xbfEn d\xf3nde estaremos?",description:"Elige los luagares a los que vas a estar durante tu plan.",style:{marginBottom:"4rem"}},r.a.createElement(tn,{closeMenuOnSelect:!1,className:"mt-2",label:"En donde estaremos",name:"lugares",value:n.lugares?n.lugares.map((function(e){return{value:e.idLugar,label:e.lugar}})):[],groupedOptions:c,onChange:this.onChange,error:e.lugares}),r.a.createElement(sn,{cols:"col-md-6 col-sm-12",lugares:o.filter((function(e){return n.lugares&&n.lugares.find((function(a){return e.idLugar==a.idLugar}))})),horizontal:!0})),r.a.createElement(G,{type:"submit",text:"Guardar",variant:"contained",className:"mr-2",color:"primary",loading:t}))}}]),a}(n.Component),mn=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).state={errors:{}},t.onSubmit=t.onSubmit.bind(Object(Da.a)(t)),t.onChange=t.onChange.bind(Object(Da.a)(t)),t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({errors:{}});var a=this.props.plan,t={},n=!0;a.actividades&&0!==a.actividades.length||(n=!1,t=Object(Y.a)({},t,{actividades:"You must specify at least one activity."})),n?this.props.onSubmit({idPlan:a.idPlan,actividades:a.actividades}):this.setState({errors:t})}},{key:"onChange",value:function(e){e||(e=[]);var a=this.props,t=a.plan,n=a.onPlanChange;t.actividades=e.map((function(e){return{idActividad:e.value,actividad:e.label}})),n(t)}},{key:"render",value:function(){var e=this.state.errors,a=this.props,t=a.loading,n=a.plan,c=a.actividadesOption;return r.a.createElement("form",{onSubmit:this.onSubmit,noValidate:!0},r.a.createElement(V,{title:"\xbfQu\xe9 har\xe1s?",description:"Elige las actividades que se podr\xe1n relizar en tu plan.",style:{marginBottom:"4rem"}},r.a.createElement(tn,{closeMenuOnSelect:!1,className:"mt-2",label:"Actividades",name:"actividades",value:n.actividades?n.actividades.map((function(e){return{value:e.idActividad,label:e.actividad}})):[],options:c,onChange:this.onChange,error:e.actividades})),r.a.createElement(G,{type:"submit",text:"Guardar",variant:"contained",className:"mr-2",color:"primary",loading:t}))}}]),a}(n.Component),dn=t(1029),pn=t(1016);function En(e){var a=e.children,t=e.value,n=e.index,c=Object(_e.a)(e,["children","value","index"]);return r.a.createElement(ha.a,Object.assign({component:"div",className:"w-100",role:"tabpanel",hidden:t!==n,id:"vertical-tabpanel-".concat(n),"aria-labelledby":"vertical-tab-".concat(n)},c),r.a.createElement(La.a,{p:3},a))}function bn(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e),className:"p-4"}}var fn=Object(St.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex"},tabs:{borderRight:"1px solid ".concat(e.palette.divider)}}})),gn=function(e){var a=e.loading,t=e.plan,n=e.step,c=e.lugares,o=e.incluidosOption,i=(e.diasOption,e.lugaresOption),l=e.actividadesOption,s=e.onPlanChange,u=e.onChangeStepForm,m=e.onSubmitBasicInfo,d=e.onSubmitMainPicture,p=e.onSubmitIncluidos,E=(e.onSubmitItinerario,e.onSubmitLugares),b=e.onSubmitActividades,f=e.onFileTooBig,g=fn();return r.a.createElement("div",{className:"w-100"},r.a.createElement("div",{className:g.root},r.a.createElement(dn.a,{orientation:"vertical",variant:"scrollable",value:n,onChange:function(e,a){u(a)},"aria-label":"Vertical tabs",className:g.tabs},r.a.createElement(pn.a,Object.assign({label:"Informaci\xf3n b\xe1sica"},bn(0))),r.a.createElement(pn.a,Object.assign({hidden:!t.idPlan,label:"\xbfQu\xe9 haremos?"},bn(1))),r.a.createElement(pn.a,Object.assign({hidden:!t.idPlan,label:"\xbfQu\xe9 incluye?"},bn(2))),r.a.createElement(pn.a,Object.assign({hidden:!t.idPlan,label:"\xbfD\xf3nde estaremos?"},bn(3))),r.a.createElement(pn.a,Object.assign({hidden:!t.idPlan,label:"Foto de portada"},bn(4)))),r.a.createElement(En,{value:n,index:0},r.a.createElement(Vt,{loading:a,onSubmit:m,plan:t,onPlanChange:s})),r.a.createElement(En,{value:n,index:1},r.a.createElement(mn,{onSubmit:b,actividadesOption:l,loading:a,plan:t,onPlanChange:s})),r.a.createElement(En,{value:n,index:2},r.a.createElement(nn,{onSubmit:p,incluidosOption:o,loading:a,plan:t,onPlanChange:s})),r.a.createElement(En,{value:n,index:3},r.a.createElement(un,{onSubmit:E,loading:a,lugares:c,lugaresOption:i,plan:t,onPlanChange:s})),r.a.createElement(En,{value:n,index:4},r.a.createElement(Wt,{onSubmit:d,loading:a,plan:t,onPlanChange:s,onFileTooBig:f}))))},vn=Object(l.b)((function(e,a){var t=e.loginState,n=e.planState,r=e.incluidoState,c=e.diaState,o=e.lugarState,i=e.actividadState,l=t.usuario,s=n.plan,u=n.loading,m=n.loadingList,d=n.stepForm,p=r.incluidos,E=c.dias,b=o.lugares,f=i.actividades;return{usuario:l,loadingList:m,incluidosOption:function(e){var a=Object(Aa.a)(new Set(e.map((function(e){return e.tipoEs})))),t=e.map((function(e){return{value:e.idIncluido,label:e.es,tipo:e.tipoEs}}));return a=a.map((function(e){return{label:e,options:t.filter((function(a){return a.tipo==e}))}}))}(p),diasOption:E.map((function(e){return{value:e.idDia,text:e.dia}})),lugaresOption:function(e){var a=Object(Aa.a)(new Set(e.map((function(e){return e.isla})))),t=e.map((function(e){return{value:e.idLugar,label:e.lugar,tipo:e.isla}}));return a=a.map((function(e){return{label:e,options:t.filter((function(a){return a.tipo==e}))}}))}(b),actividadesOption:f.map((function(e){return{value:e.idActividad,text:e.es}})),lugares:b,loading:u,plan:s,stepForm:d}}),(function(e){return{changePlan:function(a){return e({type:"PLAN_CHANGE",plan:a})},loadPlan:function(a,t){return e({type:"PLAN_GET_BY_ID",idPlan:a,onSuccess:t})},saveBasicInfo:function(a,t){return e({type:"PLAN_BASIC_INFO_SAVE",plan:a,onSuccess:t})},saveMainPicture:function(a,t,n){return e({type:"PLAN_MAIN_PICTURE_SAVE",idUsuario:a,idPlan:t,file:n})},saveIncluidos:function(a){return e({type:"PLAN_INCLUIDOS_SAVE",plan:a})},saveItinerarios:function(a){return e({type:"PLAN_ITINERARIOS_SAVE",plan:a})},saveLugares:function(a){return e({type:"PLAN_LUGARES_SAVE",plan:a})},saveActividades:function(a){return e({type:"PLAN_ACTIVIDADES_SAVE",plan:a})},changeStepForm:function(a){e({type:"PLAN_STEP_FORM_CHANGE",stepForm:a})},loadDias:function(){return e({type:"DIAS_GET"})},loadLugares:function(){return e({type:"LUGARES_GET"})},loadIncluidos:function(){return e({type:"INCLUIDOS_GET"})},loadActividades:function(){return e({type:"ACTIVIDADES_GET"})},showToast:function(a,t){return e({type:"SHOW_SNACKBAR",mensaje:a,variant:t})}}}))((function(e){var a=e.history,t=e.match,c=e.loadPlan,o=e.loadIncluidos,i=e.loadLugares,l=e.loadActividades,s=e.usuario,u=e.plan,m=e.loadingList,d=e.loading,p=e.lugares,E=e.incluidosOption,f=e.lugaresOption,g=e.actividadesOption,v=e.changePlan,O=e.saveBasicInfo,h=e.saveMainPicture,S=e.saveIncluidos,j=e.saveItinerarios,C=e.saveLugares,y=e.saveActividades,x=e.changeStepForm,N=e.stepForm,_=e.diasOption,R=e.showToast;Object(n.useEffect)((function(){A()}),[]);var A=function(){t.params.idPlan?c(t.params.idPlan,(function(e){e.idPlanner!=s.agencia.idPlanner&&a.push("/404")})):(v({}),x(0)),o(),i(),l()};return r.a.createElement("div",{className:"container-fluid2",style:{marginTop:"6rem"}},r.a.createElement(V,{className:"my-4",title:t.params.idPlan?"Modifica tu plan":"Crea un plan",description:"LLena toda la informaci\xf3n para vender tu plan",button:t.params.idPlan&&r.a.createElement(G,{className:"ml-auto",startIcon:r.a.createElement(ba.a,null),text:b()(u.lastSync).isValid()&&r.a.createElement(ga.a,{date:b()(u.lastSync).toDate()}),color:"primary",loading:m,onClick:A})},r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-md-8 col-sm-12"},m?r.a.createElement(Ft,null):r.a.createElement(gn,{loading:d,plan:u,lugares:p,incluidosOption:E,diasOption:_,lugaresOption:f,actividadesOption:g,onPlanChange:v,onChangeStepForm:x,onSubmitBasicInfo:function(e){return O(Object(Y.a)({},e,{idUsuario:s.idUsuario,idPlanner:s.agencia.idPlanner}),(function(e){return a.replace("/plan/create/"+e)}))},onSubmitMainPicture:function(e){return h(s.idUsuario,u.idPlan,e)},onSubmitIncluidos:function(e){return e.incluidos?S(e):x(3)},onSubmitItinerario:j,onSubmitLugares:C,onSubmitActividades:y,step:N,onFileTooBig:function(){return R("El archivo debe ser menor a 3MB")}})),!m&&r.a.createElement("div",{className:"col-md-4 col-sm-12"},0==N&&r.a.createElement(mt,{icon:"fas fa-info",title:"Informaci\xf3n b\xe1sica",description:"Provee detalles b\xe1sicos acerca del plan que ofreces. Un plan es igual a un tour o un paquete de actividades."}),1==N&&r.a.createElement(mt,{icon:"fas fa-hiking",title:"Actividades",description:'Selecciona las actividades que se podr\xe1n realizar en tu plan.  Esta es una lista de las actividades permitidas en las islas, descritas en el "Plan de Manejo de las \xc1reas protegidas de Gal\xe1pagos para el BUEN VIVIR" (2014)'}),2==N&&r.a.createElement(mt,{icon:"fas fa-toolbox",title:"Incluidos",description:"Selecciona todo lo que provees en tu plan."}),3==N&&r.a.createElement(mt,{icon:"fas fa-map-marked",title:"Lugares",description:"Selecciona los lugares que vas a visitar en este plan."}),4==N&&r.a.createElement(mt,{icon:"fas fa-image",title:"Foto de portada",description:"Sube una foto de portada para este plan, trata de subir una buena foto, de esta manera tendr\xe1s m\xe1s oportunidad de vender tu plan."})))))})),On=Object(ca.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var a=e.children,t=e.classes,n=e.onClose;return r.a.createElement(va.a,{disableTypography:!0,className:t.root},r.a.createElement(ha.a,{variant:"h6"},a),n?r.a.createElement(k.a,{"aria-label":"close",className:t.closeButton,onClick:n},r.a.createElement(ae.a,null)):null)})),hn=Object(ca.a)((function(e){return{root:{padding:e.spacing(2)}}}))(Oa.a);var Sn=Object(l.b)((function(e,a){return{showLoginModal:e.loginState.showLoginModal}}),(function(e){return{hideModal:function(){return e({type:"SHOW_LOGIN_MODAL",show:!1})}}}))((function(e){var a=e.history,t=e.showLoginModal,n=e.hideModal;return r.a.createElement(X.a,{onClose:n,"aria-labelledby":"customized-dialog-title",open:t,fullWidth:!0,maxWidth:"sm"},r.a.createElement(On,{id:"customized-dialog-title",onClose:n},"Login"),r.a.createElement(hn,{dividers:!0},r.a.createElement(Va,{history:a})))})),jn=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).state={center:{lat:-.3830876,lng:-90.983792},errors:{}},t.onSubmit=t.onSubmit.bind(Object(Da.a)(t)),t.onChange=t.onChange.bind(Object(Da.a)(t)),t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({errors:{}});var a=this.props.planner,t={},n=!0;a.agencia&&""!==a.agencia.trim()||(n=!1,t=Object(Y.a)({},t,{agencia:"The name of the agency is required"})),a.about&&""!==a.about.trim()||(n=!1,t=Object(Y.a)({},t,{about:"Tell something about your agency."})),new RegExp(we).test(a.correo)||(n=!1,t=Object(Y.a)({},t,{correo:"A valid email is required"})),new RegExp(Le).test(a.contacto)||(n=!1,t=Object(Y.a)({},t,{contacto:"A valid phone number is required"})),n?this.props.onSubmit(a):this.setState({errors:t})}},{key:"onChange",value:function(e){var a=this.props,t=a.planner,n=a.onPlannerChange;t[e.target.name]=e.target.value,n(t)}},{key:"render",value:function(){var e=this.state.errors,a=this.props,t=a.loading,n=a.planner;return r.a.createElement("form",{onSubmit:this.onSubmit,noValidate:!0},r.a.createElement(ke,{label:"Agency name",name:"agencia",value:n.agencia,onChange:this.onChange,error:e.agencia}),r.a.createElement(ke,{label:"About",name:"about",placeholder:"Tell something that defines the soul of your agency",multiline:!0,rows:3,value:n.about,onChange:this.onChange,error:e.about}),r.a.createElement("div",{className:"row form-group"},r.a.createElement("div",{className:"col-md-6 col-sm-12"},r.a.createElement(ke,{label:"Email bussiness",name:"correo",value:n.correo,onChange:this.onChange,error:e.correo})),r.a.createElement("div",{className:"col-md-6 col-sm-12"},r.a.createElement(ke,{label:"Contact number",name:"contacto",value:n.contacto,onChange:this.onChange,error:e.contacto}))),r.a.createElement(G,{type:"submit",text:"Save",variant:"contained",className:"mr-2",color:"primary",loading:t}))}}]),a}(n.Component),Cn=function(e){var a=e.planner;return r.a.createElement("div",{className:"w-100"},r.a.createElement("h5",null,"Nombre de agencia"),r.a.createElement("p",null,a.agencia),r.a.createElement("hr",{className:"w-100 my-3"}),r.a.createElement("h5",null,"Acerca de la agencia"),r.a.createElement("p",null,a.about),r.a.createElement("hr",{className:"w-100 my-3"}),r.a.createElement("div",{className:"row form-group"},r.a.createElement("div",{className:"col-md-6 col-sm-12"},r.a.createElement("h5",null,"Correo"),r.a.createElement("p",null,a.correo)),r.a.createElement("div",{className:"col-md-6 col-sm-12"},r.a.createElement("h5",null,"Contacto"),r.a.createElement("p",null,a.contacto))))},yn=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).state={center:{lat:-.3830876,lng:-90.983792},zoom:18,errors:{}},t.onChange=t.onChange.bind(Object(Da.a)(t)),t.onChangeCenter=t.onChangeCenter.bind(Object(Da.a)(t)),t.onSubmit=t.onSubmit.bind(Object(Da.a)(t)),t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.planner;e.latitud&&e.longitud?this.setState({zoom:18}):this.getLocation()}},{key:"getLocation",value:function(){var e=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(a){return e.onChangeCenter({lat:function(){return a.coords.latitude},lng:function(){return a.coords.longitude}})}))}},{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({errors:{}});var a=this.props.planner,t={},n=!0;a.idCiudad||(n=!1,t=Object(Y.a)({},t,{idCiudad:"Select your city location"})),a.direccion&&""!==a.direccion.trim()||(n=!1,t=Object(Y.a)({},t,{direccion:"Your bussiness address is required"})),a.latitud&&a.longitud||(n=!1,t=Object(Y.a)({},t,{center:"Select the exact location of your bussiness"})),n?this.props.onSubmit(a):this.setState({errors:t})}},{key:"onChange",value:function(e){var a=this.props,t=a.planner,n=a.onPlannerChange;t[e.target.name]=e.target.value,n(t)}},{key:"onChangeCenter",value:function(e){var a=this.props,t=a.planner,n=a.onPlannerChange,r={lat:e.lat(),lng:e.lng()};n(Object(Y.a)({},t,{latitud:r.lat,longitud:r.lng})),this.setState({center:r})}},{key:"render",value:function(){var e,a=this.state,t=a.errors,n=a.zoom,c=this.props,o=c.loading,i=c.planner,l=c.ciudadesOption;return r.a.createElement("form",{onSubmit:this.onSubmit,noValidate:!0},r.a.createElement(Ne,(e={className:"mt-2",label:"Location",name:"idCiudad"},Object(Ga.a)(e,"className",""),Object(Ga.a)(e,"value",i.idCiudad),Object(Ga.a)(e,"options",l),Object(Ga.a)(e,"onChange",this.onChange),Object(Ga.a)(e,"error",t.idCiudad),e)),r.a.createElement(ke,{label:"Address",name:"direccion",multiline:!0,rows:3,placeholder:"Write down the address of your agency",value:i.direccion,onChange:this.onChange,error:t.direccion}),r.a.createElement("div",{className:"row",style:{height:"25rem"}},r.a.createElement("div",{className:"col-12"},r.a.createElement("label",null,"Set in the map the right location of your agency"),r.a.createElement(At,{onCenterChange:this.onChangeCenter,zoom:n,center:{lat:i.latitud,lng:i.longitud}}))),r.a.createElement("br",null),t.center&&r.a.createElement(ye.a,{error:!0},t.center),r.a.createElement("br",null),r.a.createElement(G,{type:"submit",text:"Save",variant:"contained",className:"mr-2",color:"primary",loading:o}))}}]),a}(n.Component),xn=function(e){var a=e.planner;return r.a.createElement("div",{className:"w-100"},r.a.createElement("h5",null,"Ciudad"),r.a.createElement("p",null,a.ciudad),r.a.createElement("hr",{className:"w-100 my-3"}),r.a.createElement("h5",null,"Direcci\xf3n"),r.a.createElement("p",null,a.direccion),r.a.createElement("hr",{className:"w-100 my-3"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",null,"Ubicaci\xf3n en el mapa")),r.a.createElement("div",{className:"col-12",style:{height:"20rem"}},r.a.createElement(At,{center:{lat:a.latitud,lng:a.longitud}}))))},Nn=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).state={file:{}},t.onSubmit=t.onSubmit.bind(Object(Da.a)(t)),t.onChange=t.onChange.bind(Object(Da.a)(t)),t.onImageChange=t.onImageChange.bind(Object(Da.a)(t)),t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({errors:{}});var a=this.state.file,t={},n=!0;a&&a.name||(n=!1,t=Object(Y.a)({},t,{file:"Select a file"})),n?this.props.onSubmit(a):this.setState({errors:t})}},{key:"onChange",value:function(e){var a=this.props,t=a.planner,n=a.onPlannerChange;t[e.target.name]=e.target.value,n(t)}},{key:"onImageChange",value:function(e){var a=this.props,t=a.planner,n=a.onPlannerChange,r=a.onFileTooBig,c=e.target.files[0];if(c){if(c.size/1024/1024>3)return r();var o=new FileReader;o.readAsDataURL(c),o.onload=function(e){n(Object(Y.a)({},t,{urlLogo:o.result}))},this.setState({file:c})}}},{key:"triggerFileInput",value:function(){document.getElementById("file").click()}},{key:"render",value:function(){var e=this.state,a=e.errors,t=e.file,n=this.props,c=n.loading,o=n.planner;return r.a.createElement("form",{onSubmit:this.onSubmit,noValidate:!0},r.a.createElement("div",{className:"row form-group my-3"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h2",{className:"text-center my-2 mb-4"},o.agencia),o.urlLogo?r.a.createElement(P.a,{src:o.urlLogo,style:{width:"240px",height:"240px"},className:"mx-auto"}):o.agencia&&r.a.createElement(P.a,{style:{width:"240px",height:"240px"},className:"mx-auto"},r.a.createElement("h1",null,o.agencia[0])),r.a.createElement(Ht,{hidden:!0,name:"file",value:t&&t.name,onChange:this.onImageChange,accept:"image/*"}),r.a.createElement("p",{className:"my-1 text-center"},r.a.createElement("a",{href:"javascript:;",onClick:this.triggerFileInput,text:t&&t.name||"Subir archivo"},t&&t.name||"Elige una imagen")),a&&r.a.createElement(ye.a,{error:!0},a.file))),r.a.createElement(G,{type:"submit",text:"Save",variant:"contained",className:"mr-2",color:"primary",loading:c}))}}]),a}(n.Component),_n=function(e){var a=e.planner;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(P.a,{src:a.urlLogo,style:{width:"140px",height:"140px"},className:"mx-auto"}),r.a.createElement("h4",{className:"text-center mt-2"},a.agencia)))))},Rn=t(1033),An=t(1017),In=Object(l.b)((function(e,a){var t=e.loginState,n=e.plannerState,r=e.ciudadState,c=t.usuario,o=n.planner,i=n.loading;return{usuario:c,loadingList:n.loadingList,loading:i,planner:o,stepForm:n.stepForm,ciudadesOption:r.ciudades.map((function(e){return{value:e.idCiudad,text:e.ciudad}}))}}),(function(e){return{changePlanner:function(a){return e({type:"PLANNER_CHANGE",planner:a})},getPlanner:function(a,t){return e({type:"PLANNER_GET_BY_ID_USUARIO",idUsuario:a})},saveBasicInfo:function(a,t){return e({type:"PLANNER_BASIC_INFO_SAVE",planner:a,onSuccess:t})},saveLocationInfo:function(a,t){return e({type:"PLANNER_LOCATION_INFO_SAVE",planner:a,onSuccess:t})},saveBrandInfo:function(a,t,n,r){return e({type:"PLANNER_BRAND_INFO_SAVE",idUsuario:a,idPlanner:t,file:n,onSuccess:r})},loadCiudades:function(){return e({type:"CIUDADES_GET"})},showToast:function(a,t){return e({type:"SHOW_SNACKBAR",mensaje:a,variant:t})}}}))((function(e){var a=e.history,t=e.usuario,c=e.planner,o=e.loadingList,i=e.loading,l=e.changePlanner,s=e.saveBasicInfo,u=e.saveLocationInfo,m=e.saveBrandInfo,d=(e.stepForm,e.ciudadesOption),p=e.getPlanner,E=e.loadCiudades,b=e.showToast,f=Object(n.useState)(!1),g=Object(v.a)(f,2),O=g[0],h=g[1],S=Object(n.useState)(!1),j=Object(v.a)(S,2),C=j[0],y=j[1],x=Object(n.useState)(!1),N=Object(v.a)(x,2),_=N[0],R=N[1];return Object(n.useEffect)((function(){p(t.idUsuario),E()}),[]),r.a.createElement("div",{className:"container",style:{marginTop:"4rem"}},r.a.createElement(V,{className:"mt-4"},r.a.createElement(Rn.a,{className:"mb-2",separator:" \u203a ","aria-label":"breadcrumb"},r.a.createElement(An.a,{color:"inherit",href:"javascript:;",onClick:function(){return a.push("/account/settings")}},"Configuraci\xf3n de cuenta"),r.a.createElement(ha.a,{color:"textPrimary"},"Informaci\xf3n de agencia")),r.a.createElement("h2",null,"Informaci\xf3n de agencia")),r.a.createElement(V,null,r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-md-8 col-sm-12"},o?r.a.createElement(Ft,null):r.a.createElement("div",{className:"w-100"},r.a.createElement("div",{className:"d-flex mb-4"},r.a.createElement("h3",null,"Marca"),_?r.a.createElement(G,{color:"primary",className:"ml-auto",onClick:function(){return R(!1)}},"Cancelar"):r.a.createElement(G,{color:"primary",className:"ml-auto",onClick:function(){R(!0),h(!1),y(!1)}},"Editar")),r.a.createElement(V,null,_?r.a.createElement(Nn,{onSubmit:function(e){return m(c.idUsuario,c.idPlanner,e,(function(){return R(!1)}))},loading:i,planner:c,onPlannerChange:l,onFileTooBig:function(){return b("El archivo debe ser menor a 3MB")}}):r.a.createElement(_n,{planner:c})),r.a.createElement(V,null,r.a.createElement("div",{className:"d-flex mb-4"},r.a.createElement("h3",null,"Informaci\xf3n b\xe1sica"),O?r.a.createElement(G,{color:"primary",className:"ml-auto",onClick:function(){return h(!1)}},"Cancelar"):r.a.createElement(G,{color:"primary",className:"ml-auto",onClick:function(){h(!0),R(!1),y(!1)}},"Editar")),O?r.a.createElement(jn,{loading:i,onSubmit:function(e){return s(Object(Y.a)({},e,{idUsuario:t.idUsuario}),(function(){return h(!1)}))},planner:c,onPlannerChange:l}):r.a.createElement(Cn,{planner:c})),r.a.createElement(V,null,r.a.createElement("div",{className:"d-flex mb-4"},r.a.createElement("h3",null,"Informaci\xf3n de ubicaci\xf3n"),C?r.a.createElement(G,{color:"primary",className:"ml-auto",onClick:function(){return y(!1)}},"Cancelar"):r.a.createElement(G,{color:"primary",className:"ml-auto",onClick:function(){y(!0),R(!1),h(!1)}},"Editar")),C?r.a.createElement(yn,{onSubmit:function(e){return u(Object(Y.a)({},e),(function(){return y(!1)}))},ciudadesOption:d,loading:i,planner:c,onPlannerChange:l}):r.a.createElement(xn,{planner:c})))),!o&&r.a.createElement("div",{className:"col-md-4 col-sm-12"},r.a.createElement(mt,{icon:"fas fa-info",title:"What info you shared about your agency",description:"Provide all the information about your agency"})))))})),Pn=function(e){var a=e.loading,t=e.onSubmit,c=Object(n.useState)({}),o=Object(v.a)(c,2),i=o[0],l=o[1],s=Object(n.useState)({}),u=Object(v.a)(s,2),m=u[0],d=u[1],p=function(e){m[e.target.name]=e.target.value,d(Object(Y.a)({},m))};return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l({errors:{}});var a={},n=!0;m.contrasena&&""!==m.contrasena||(n=!1,a=Object(Y.a)({},a,{contrasena1:"Current password is required"})),m.contrasena1&&m.contrasena1.length<8&&(n=!1,a=Object(Y.a)({},a,{contrasena1:"Password must be at least 8 characters long"})),m.contrasena1!==m.contrasena2&&(n=!1,a=Object(Y.a)({},a,{contrasena1:"Passwords must match",contrasena2:"Passwords must match"})),n?t(m):l(Object(Y.a)({},a))},noValidate:!0},r.a.createElement(ke,{type:"password",label:"Contrase\xf1a actual",name:"contrasena",variant:"outlined",value:m.contrasena,onChange:p,error:i.contrasena}),r.a.createElement(ke,{type:"password",label:"Nueva contrase\xf1a",name:"contrasena1",variant:"outlined",value:m.contrasena1,onChange:p,error:i.contrasena1}),r.a.createElement(ke,{type:"password",label:"Repite la nueva contrase\xf1a",name:"contrasena2",variant:"outlined",value:m.contrasena2,onChange:p,error:i.contrasena2}),r.a.createElement(G,{type:"submit",color:"primary",variant:"contained",text:"Actualizar",loading:a}))},Tn=Object(l.b)((function(e,a){var t=e.loginState,n=e.usuarioState,r=t.usuario;return{loading:n.loading,usuario:r}}),(function(e){return{cambiarContrasena:function(a,t){return e({type:"USUARIO_CHANGE_PASSWORD",usuarioContrasena:a,onSuccess:t})}}}))((function(e){var a=e.history,t=e.loading,c=e.usuario,o=e.loadingList,i=e.cambiarContrasena,l=Object(n.useState)(!1),s=Object(v.a)(l,2),u=s[0],m=s[1];return r.a.createElement("div",{className:"container",style:{marginTop:"4rem"}},r.a.createElement(V,{className:"mt-4"},r.a.createElement(Rn.a,{className:"mb-2",separator:" \u203a ","aria-label":"breadcrumb"},r.a.createElement(An.a,{color:"inherit",href:"javascript:;",onClick:function(){return a.push("/account/settings")}},"Configuraci\xf3n de cuenta"),r.a.createElement(ha.a,{color:"textPrimary"},"Inicio de sesi\xf3n y seguridad")),r.a.createElement("h2",null,"Inicio de sesi\xf3n y seguridad")),r.a.createElement(V,null,r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-md-8 col-sm-12"},r.a.createElement("div",{className:"w-100"},r.a.createElement("h3",{className:"mb-4"},"Login"),r.a.createElement("div",{className:"d-flex my-2"},r.a.createElement("h5",null,"Contrase\xf1a"),u?r.a.createElement(G,{color:"primary",className:"ml-auto",onClick:function(){return m(!1)}},"Cancelar"):r.a.createElement(G,{color:"primary",className:"ml-auto",onClick:function(){return m(!0)}},"Actualizar")),u?r.a.createElement(Pn,{loading:t,onSubmit:function(e){return i(Object(Y.a)({},e,{idUsuario:c.idUsuario}),(function(){return m(!1)}))}}):r.a.createElement("p",null,"\xdaltima vez actualizado"," ",b()(c.feUpdatePassword).format("ddd[,] DD MMM YYYY"))),r.a.createElement("hr",{className:"w-100"})),!o&&r.a.createElement("div",{className:"col-md-4 col-sm-12"},r.a.createElement(mt,{icon:"fas fa-key",title:"Asegura tu cuenta",description:"Cambia la contrase\xf1a de tu cuenta cuando creas necesario."})))))})),kn="https://api.ecodelivery.org",wn=Object(n.createContext)(null),Ln=function(e){var a=Object(n.useState)({}),t=Object(v.a)(a,2),c=t[0],o=t[1];return Object(n.useEffect)((function(){fetch("".concat(kn,"/api/user")).then((function(e){return e.json()})).then((function(e){return o(e)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement(wn.Provider,{value:c},e.children)};Ln.context=wn;var Dn=Ln;function Un(){var e=Object(te.a)(["\n  ","\n  z-index: 1;\n  @media only screen and (max-width: ","px) and (min-width: ","px) {\n    display: none;\n  }\n\n  font-family: ",";\n  font-size: ",";\n  overflow: hidden;\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n  & * {\n    text-decoration: none;\n    list-style-type: none;\n  }\n  > ul {\n    margin: 0;\n    padding: 0;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    > li {\n      flex-grow: 1;\n      // margin-left:.9em;\n      // margin-right:.9em;\n    }\n    > li a {\n      background-color: ",";\n      color: ",";\n      display: flex;\n      flex-direction: column;\n      ",";\n      padding: 0.6em 0 0.6em 0;\n      border-top: 3px solid "," !important;\n      :nth-child(1) {\n        font-size: 0.6em;\n        font-weight: 600;\n      }\n\n      &:hover {\n        border-top: 3px solid "," !important;\n        background-color: ",";\n        color: ",";\n      }\n      &.active {\n        border-top: 3px solid "," !important;\n      }\n    }\n  }\n"]);return Un=function(){return e},e}function Gn(){var e=Object(te.a)(["\n   @media only screen and (max-width: ","px) and (min-width: ","px)  {\n        display:none\n   }\n   & * {\n       text-decoration: none !important;\n       list-style-type: none !important;\n    }\n   flex:6; \n   > ul {\n        font-family:",";\n        font-size:",";\n        display:flex;\n        flex-direction:row;\n        justify-content: space-around;\n        padding:0;\n        margin:0;\n        >li { flex-grow: 1; }\n        > li  a{\n            /* "," */\n            color:",";\n            display:flex;\n            flex-direction:row;\n            ","\n            padding:1em;\n            &:hover{\n                /* "," */\n                // background-color:",";\n            }\n            &.active{\n                /* "," */\n            }\n        }\n    }\n"]);return Gn=function(){return e},e}function Bn(){var e=Object(te.a)(["\n    /* "," */\n    ","\n    flex:2;\n    > img {\n         margin: 1.5vh 0 1.5vh 1.5vw;\n            width: 12em;   \n            @media only screen and (max-width: ","px) and (min-width: ","px) {\n            margin: 1.8vh 0 1.5vh 0;\n            width: 200px;   \n        }\n    }\n\n    \n"]);return Bn=function(){return e},e}function Mn(){var e=Object(te.a)(["\n  margin: 0 9px 0 9px;\n  display: flex;\n  flex-direction: row;\n  background-color: ",";\n  ","\n  ","\n"]);return Mn=function(){return e},e}function Yn(){var e=Object(te.a)(["\n  font-size: 0.9rem;\n  font-weight: 400;\n"]);return Yn=function(){return e},e}function Fn(){var e=Object(te.a)(["\n  font-size: 1.5rem;\n  font-weight: 400;\n"]);return Fn=function(){return e},e}function Vn(){var e=Object(te.a)(["\n  position: -webkit-sticky; /* Safari */\n  position: sticky;\n  top: 0;\n  margin-bottom: 0.6em;\n  z-index: 10;\n"]);return Vn=function(){return e},e}var Hn=re.primary,Wn=re.secondary,zn=re.dark,Kn="border-bottom: 3px solid ".concat(Hn.contrastText," !important;"),qn="border-bottom: 3px solid ".concat(Hn.main," !important;"),$n=(ne.b.div(Vn()),ne.b.span(Fn()),ne.b.span(Yn()),ne.b.div(Mn(),Wn.contrastText,se,le),ne.b.div(Bn(),Kn,ie,pe.TO,pe.FROM),ne.b.div(Gn(),pe.TO,pe.FROM,de.MENU,ue.MENU,Kn,zn.metalblue,ie,qn,Hn.main,qn),ne.b.div(Un(),(function(e){return e.hideTabs&&"\n-webkit-animation: mover 1s forwards;\nanimation: mover 1s forwards;  \n@-webkit-keyframes mover {\n0% { transform: translateY(0); }\n100% { transform: translateY(10vh); }\n}\n@keyframes mover {\n0% { transform: translateY(0); }\n100% { transform: translateY(10vh); }\n}   \n"}),Ee.TO,Ee.FROM,de.MENU,ue.MENU,Hn.contrastText,Hn.main,ie,Hn.contrastText,Hn.main,Hn.main,Hn.contrastText,Hn.main),t(1018));function Jn(){var e=Object(te.a)(["\n\n@import url(",");\n@import url(",");\nhtml {\n  height: 100%;\n}\nbody {\n  \n    font-family: ",";\n\n  \n}\nh1, h2, h3, h4, h5, h6 {\n    color:",";\n    margin-block-start: .3em;\n    margin-block-end: .3em;\n    font-family: 'Poppins', sans-serif;\n    overflow-wrap: break-word;\n\n}\n\n\n\n\n.navbar-nav .nav-link {\n    font-family: ",";\n    font-size:1.2rem;\n    \n}\n\n\np{\n    font-size:.9em;\n    color:",";\n    margin-block-start: .3em;\n    margin-block-end: .3em;\n}"]);return Jn=function(){return e},e}var Xn=Object(ne.a)(Jn(),me.BODY,me.MENU,de.BODY,re.dark.dark,de.MENU,re.dark.gray),Qn=Object(qa.a)({palette:re}),Zn=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).state={hideTabs:!1},t.listenScrollEvent=t.listenScrollEvent.bind(Object(Da.a)(t)),t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"listenScrollEvent",value:function(e){var a=e.currentTarget;this.prev>a.scrollY?this.setState({hideTabs:!1}):this.prev<a.scrollY&&this.setState({hideTabs:!0}),this.prev=a.scrollY}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.listenScrollEvent)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.listenScrollEvent)}},{key:"render",value:function(){var e=this.props;return r.a.createElement($n.a,{theme:Qn},r.a.createElement(Xn,null),r.a.createElement("div",{style:e.style},e.children))}}]),a}(n.Component),er=[{value:"M",text:"Male"},{value:"F",text:"Female"},{value:"O",text:"Other"}],ar=function(e){var a=e.loading,t=e.usuario,c=e.onSubmit,o=e.onUsuarioChange,i=Object(n.useState)({}),l=Object(v.a)(i,2),s=l[0],u=l[1],m=function(e){e.target?t[e.target.name]=e.target.value:t.feNacimiento=e.toDate(),o(t)};return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),u({});var a={},n=!0;t.nombre&&""!==t.nombre.trim()||(n=!1,a=Object(Y.a)({},a,{nombre:"Name is required"})),t.apellido&&""!==t.apellido.trim()||(n=!1,a=Object(Y.a)({},a,{apellido:"Last name is required"})),new RegExp(Le).test(t.contacto)||(n=!1,a=Object(Y.a)({},a,{contacto:"A valid phone number is required"})),t.genero&&""!==t.genero.trim()||(n=!1,a=Object(Y.a)({},a,{genero:"Your gender is required"})),t.feNacimiento||(n=!1,a=Object(Y.a)({},a,{feNacimiento:"Your date of birth is required"})),n?c(t):u(a)},noValidate:!0},r.a.createElement("div",{className:"row form-group"},r.a.createElement("div",{className:"col-md-6 col-sm-12"},r.a.createElement(ke,{label:"Nombre",name:"nombre",value:t.nombre,onChange:m,error:s.nombre})),r.a.createElement("div",{className:"col-md-6 col-sm-12"},r.a.createElement(ke,{label:"Apellido",name:"apellido",value:t.apellido,onChange:m,error:s.apellido}))),r.a.createElement(ke,{label:"Correo personal",name:"correo",disabled:!0,value:t.correo,onChange:m,error:s.correo}),r.a.createElement(ke,{label:"N\xfamero de contacto",name:"contacto",value:t.contacto,onChange:m,error:s.contacto}),r.a.createElement(Ne,{label:"G\xe9nero",name:"genero",value:t.genero,options:er,onChange:m,error:s.genero}),r.a.createElement(Fa,{label:"A\xf1o de nacimiento",name:"feNacimiento",variant:"inline",value:t.feNacimiento,onChange:m,error:s.feNacimiento}),r.a.createElement(G,{type:"submit",text:"Guardar",variant:"contained",className:"mr-2 my-4",color:"primary",loading:a}))},tr=[{value:"M",text:"Male"},{value:"F",text:"Female"},{value:"O",text:"Other"}],nr=function(e){var a=e.usuario,t=tr.find((function(e){return e.value==a.genero}));return r.a.createElement("div",{className:"w-100"},r.a.createElement("h5",null,"Nombre"),r.a.createElement("p",null,"".concat(a.nombre," ").concat(a.apellido)),r.a.createElement("hr",{className:"w-100 my-3"}),r.a.createElement("h5",null,"Correo personal"),r.a.createElement("p",null,a.correo),r.a.createElement("hr",{className:"w-100 my-3"}),r.a.createElement("h5",null,"Contacto"),a.contacto?r.a.createElement("p",null,a.contacto):r.a.createElement("p",{className:"text-muted"},"No provisto"),r.a.createElement("hr",{className:"w-100 my-3"}),r.a.createElement("h5",null,"G\xe9nero"),t&&t.text?r.a.createElement("p",null,t.text):r.a.createElement("p",{className:"text-muted"},"No provisto"),r.a.createElement("hr",{className:"w-100 my-3"}),r.a.createElement("h5",null,"Fecha de nacimiento"),a.feNacimiento?r.a.createElement("p",null,b()(a.feNacimiento).format("MMM DD[,] YYYY")):r.a.createElement("p",{className:"text-muted"},"No provisto"))},rr=Object(l.b)((function(e,a){var t=e.loginState,n=e.usuarioState,r=t.usuario,c=n.loading;return{usuarioSesion:r,usuario:n.usuario,loading:c}}),(function(e){return{usuarioChange:function(a){return e({type:"USUARIO_CHANGE",usuario:a})},saveUsuario:function(a,t){return e({type:"USUARIO_SAVE_PERSONAL_INFO",usuario:a,onSuccess:t})}}}))((function(e){var a=e.history,t=e.usuarioSesion,c=e.usuario,o=e.usuarioChange,i=e.saveUsuario,l=e.loading,s=Object(n.useState)(!1),u=Object(v.a)(s,2),m=u[0],d=u[1];return Object(n.useEffect)((function(){o(t)}),[]),r.a.createElement("div",{className:"container",style:{marginTop:"4rem"}},r.a.createElement(V,{className:"mt-4"},r.a.createElement(Rn.a,{className:"mb-2",separator:" \u203a ","aria-label":"breadcrumb"},r.a.createElement(An.a,{color:"inherit",href:"javascript:;",onClick:function(){return a.push("/account/settings")}},"Configuraci\xf3n de cuenta"),r.a.createElement(ha.a,{color:"textPrimary"},"Informaci\xf3n personal")),r.a.createElement("h2",null,"Informaci\xf3n personal")),r.a.createElement(V,null,r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-md-8 col-sm-12"},r.a.createElement("div",{className:"w-100"},r.a.createElement("div",{className:"d-flex mb-4"},r.a.createElement("h3",null,"Informaci\xf3n"),m?r.a.createElement(G,{color:"primary",className:"ml-auto",onClick:function(){return d(!1)}},"Cancelar"):r.a.createElement(G,{color:"primary",className:"ml-auto",onClick:function(){return d(!0)}},"Editar")),r.a.createElement(V,null,m?r.a.createElement(ar,{loading:l,usuario:c,onUsuarioChange:o,onSubmit:function(e){i({idUsuario:e.idUsuario,nombre:e.nombre,apellido:e.apellido,contacto:e.contacto,genero:e.genero,feNacimiento:e.feNacimiento},(function(){return d(!1)}))}}):r.a.createElement(nr,{usuario:c})))),r.a.createElement("div",{className:"col-md-4 col-sm-12"},r.a.createElement(mt,{icon:"fas fa-info",title:"Que informaci\xf3n tuya compartes",description:"Provee la informaci\xf3n que deseas compartir con otros"})))))}));function cr(e){var a=e.children,t=Object(f.f)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[t]),a}var or=t(1),ir=t.n(or);da.propTypes={date:ir.a.object,trips:ir.a.array,onClickTrip:ir.a.func,onNewTrip:ir.a.func};var lr=function(e){var a=e.loading,t=e.trips,n=e.onClickTrip,c=e.onNewTrip,o=e.onClickDetail,i=e.onClickSeeReservation,l=e.showOccupationSlide;return r.a.createElement("div",{className:"row p-0 m-0"},t.length>0?t.map((function(e){return r.a.createElement("div",{key:e.idSalida,className:"col-12 p-0 m-0"},r.a.createElement(da,Object.assign({},e,{feSalida:e.feSalida,onClick:n,onDetail:o,onSeeReservations:i,showOccupationSlide:l})))})):!a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"No tienes viajes planificados para este d\xeda."),r.a.createElement("hr",{className:"w-100"})),a&&r.a.createElement("div",{className:"col-12 p-0 m-0"},r.a.createElement(H,{size:1,cols:"col-12",disablePhoto:!0})),c&&r.a.createElement("div",{className:"col-12 p-0 m-0"},r.a.createElement(G,{onClick:c,className:"btn btn-block"},"Agregar una nueva disponibiliad")))},sr=function(e){var a=e.idOrden,t=e.idWoo,n=(e.idComercio,e.nombre),c=e.nombreEcobox,o=e.totalOrden,i=e.status,l=e.estado,s=e.feCreacion,u=e.onDetail;e.onChangeOrderState;return r.a.createElement("tr",null,r.a.createElement("th",null,"".concat(a," / ").concat(t)),r.a.createElement("td",null,n),c?r.a.createElement("td",null,c):r.a.createElement("td",null,"-"),"pending"==l?r.a.createElement("td",{style:{color:"#FF4343"}},i):r.a.createElement("td",null,i),r.a.createElement("td",null,b()(s).format("DD[/]MM[/]YYYY hh:mm A")),r.a.createElement("td",null,"$",(+o).toFixed(2)),r.a.createElement("td",{className:"text-center"},r.a.createElement(G,{type:"button",onClick:function(){return u(a)},variant:"contained",color:"primary"},"Detalle")," "))},ur=function(e){var a,t=e.orders,n=e.onDetail;return t||(t=[]),a=e.loading?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"6",className:"text-center px-0"},r.a.createElement(H,{cols:"col-sm-12 px-0",size:1,disablePhoto:!0}))):0===t.length?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"6",className:"text-center"},r.a.createElement("h5",null,r.a.createElement("i",{className:"far fa-sticky-note"})),r.a.createElement("p",null,"No existen pedidos para mostrar."))):t.map((function(e,a){return r.a.createElement(sr,Object.assign({key:e.idOrden},e,{onDetail:n}))})),r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"ID"),r.a.createElement("th",{scope:"col"},"Nombre"),r.a.createElement("th",{scope:"col"},"Ecobox"),r.a.createElement("th",{scope:"col"},"Estado"),r.a.createElement("th",{scope:"col"},"Fecha"),r.a.createElement("th",{scope:"col"},"Total"),r.a.createElement("th",{scope:"col"}))),r.a.createElement("tbody",null,a)))},mr=function(e){var a=e.name,t=e.quantity,n=e.subtotal,c=e.total;return r.a.createElement("tr",null,r.a.createElement("td",null,a),r.a.createElement("td",null,t),r.a.createElement("td",null,n),r.a.createElement("td",null,c))},dr=function(e){var a,t=e.productos,n=e.totalOrden,c=e.loading;return t||(t=[]),a=c?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"6",className:"text-center px-0"},r.a.createElement(H,{cols:"col-sm-12 px-0",size:1,disablePhoto:!0}))):0===t.length?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"6",className:"text-center"},r.a.createElement("h5",null,r.a.createElement("i",{className:"far fa-sticky-note"})),r.a.createElement("p",null,"No existen productos para mostrar."))):t.map((function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(mr,Object.assign({key:e.name+a},e)),a+1==t.length&&r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"3"},"Total"),r.a.createElement("td",null,Number(n).toFixed(2))))})),r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Producto"),r.a.createElement("th",{scope:"col"},"Cantidad"),r.a.createElement("th",{scope:"col"},"Precio"),r.a.createElement("th",{scope:"col"},"Total"))),r.a.createElement("tbody",null,a)))},pr=t(344),Er=t.n(pr);function br(e){var a,t,n,c,o,i,l,s=e.isOpen,u=e.loading,m=e.order,d=e.onClose,p=e.onChangeOrderState,E=e.showConfirm,b=m.productos;return r.a.createElement(Rt,{isOpen:s,onClose:d},r.a.createElement("div",{className:"container"},r.a.createElement(V,{title:"Detalle del pedido",description:"Estos son los productos que debes preparar"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 col-md-4"},r.a.createElement("h4",null,"Cliente"),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-flex mb-4"},r.a.createElement(P.a,{src:m.fotoUsuario,style:{width:"120px",height:"120px"}}),r.a.createElement("div",{className:"mr-auto",style:{display:"flex"}},r.a.createElement("div",{className:"m-auto"},m.nombre&&r.a.createElement("h5",{className:"text-muted"},m.nombre),m.contactoUsuario&&r.a.createElement("p",{className:"text-muted"},r.a.createElement("span",{className:"mx-1"},r.a.createElement("i",{class:"fas fa-phone-square-alt"})),r.a.createElement("a",{href:"https://wa.me/".concat(m.contactoUsuario,"?text=Hola")},m.contactoUsuario)))))))),r.a.createElement("div",{className:"col-sm-12 col-md-4"},r.a.createElement("h4",null,"Datos de facturaci\xf3n"),r.a.createElement(pt,{title:"Nombre",description:null===(a=m.invoice)||void 0===a?void 0:a.nombre}),r.a.createElement(pt,{title:"Identificaci\xf3n",description:null===(t=m.invoice)||void 0===t?void 0:t.identificacion}),r.a.createElement(pt,{title:"Correo",description:null===(n=m.invoice)||void 0===n?void 0:n.correo}),(null===(c=m.invoice)||void 0===c?void 0:c.contacto)&&r.a.createElement(pt,{title:"Tel\xe9fono",description:null===(o=m.invoice)||void 0===o?void 0:o.contacto}),(null===(i=m.invoice)||void 0===i?void 0:i.direccion)&&r.a.createElement(pt,{title:"Direcci\xf3n",description:null===(l=m.invoice)||void 0===l?void 0:l.direccion})),r.a.createElement("div",{className:"col-sm-12 col-md-4"},r.a.createElement("h4",null,"Estado"),r.a.createElement("p",null,m.status),u?r.a.createElement(U.a,{size:24}):r.a.createElement(r.a.Fragment,null,"pending"==m.estado&&r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{type:"button",onClick:function(){return E({titulo:"Aceptar pedido",mensaje:"\xbfEst\xe1s seguro de aceptar el pedido?",confirmText:"Aceptar",cancelText:"Cerrar",onConfirm:function(){return p({idOrden:m.idOrden,idWoo:m.idWoo,idUsuario:m.idUsuario,idComercio:m.idComercio,estado:"processing"})}})},variant:"contained",color:"primary"},r.a.createElement(Er.a,null))," ",r.a.createElement(G,{type:"button",onClick:function(){return E({titulo:"Cancelar pedido",mensaje:"\xbfEst\xe1s seguro de cancelar el pedido?",confirmText:"Aceptar",cancelText:"Cerrar",onConfirm:function(){return p({idOrden:m.idOrden,idWoo:m.idWoo,idUsuario:m.idUsuario,idComercio:m.idComercio,estado:"cancelled"})}})},variant:"contained",color:"accent"},r.a.createElement(ae.a,null)),r.a.createElement("hr",{className:"w-100"}),r.a.createElement("h4",null,"Lugar de entrega"),r.a.createElement("p",null,r.a.createElement("a",{href:"https://www.google.com/maps/search/?api=1&query=".concat(m.location.latitud,",").concat(m.location.longitud),target:"_blank"},m.location.referencia))),"processing"==m.estado&&r.a.createElement(G,{type:"button",onClick:function(){return E({titulo:"Pedido listo",mensaje:"\xbfEl pedido se encuentra listo?",confirmText:"S\xed",cancelText:"Cerrar",onConfirm:function(){return p({idOrden:m.idOrden,idWoo:m.idWoo,idUsuario:m.idUsuario,idComercio:m.idComercio,estado:"order-ready"})}})},variant:"contained",color:"primary",startIcon:r.a.createElement(Er.a,null)},"Pedido listo")))),r.a.createElement(V,{title:"Productos"},r.a.createElement(dr,{productos:b,totalOrden:m.totalOrden})),r.a.createElement(V,{title:"Notas del pedido",description:"Pon atenci\xf3n a las notas de tu cliente"},m.notas?r.a.createElement("p",null,m.notas):r.a.createElement("div",{className:"text-center"},r.a.createElement("h5",null,r.a.createElement("i",{className:"far fa-sticky-note"})),r.a.createElement("p",null,"No hay notas."))))))}var fr=t(489),gr=t.n(fr),vr=t(1019),Or=Object(l.b)((function(e,a){var t=e.orderState,n=e.loginState,r=e.comercioState,c=t.orders,o=t.loadingList,i=t.loading,l=(t.error,t.lastSync),s=r.loadingList,u=r.loading,m=r.comercio;return{orders:c,loadingList:o,loadingOrder:i,usuario:n.usuario,lastSyncOrders:l,loadingComercio:u,loadingComercioList:s,comercio:m}}),(function(e){return{loadOrders:function(a){return e({type:"ORDERS_GET",idComercio:a})},updateOrderState:function(a,t){return e({type:"ORDER_STATE_UPDATE",order:a,onSuccess:t})},updateOpenComercio:function(a){return e({type:"COMERCIO_OPEN_UPDATE",comercio:a})},showConfirm:function(a){return e({type:"OPEN_CONFIRM",config:a})},hideConfirm:function(){return e({type:"CLOSE_CONFIRM"})}}}))((function(e){var a=e.loadingOrder,t=e.loadingList,c=e.orders,o=e.loadOrders,i=e.updateOrderState,l=e.updateOpenComercio,s=e.loadingComercio,u=e.loadingComercioList,m=e.comercio,d=e.usuario,p=e.lastSyncOrders,E=e.showConfirm,f=e.hideConfirm,g=Object(n.useState)({}),O=Object(v.a)(g,2),h=O[0],S=O[1],j=Object(n.useState)(!1),C=Object(v.a)(j,2),y=C[0],x=C[1];Object(n.useEffect)((function(){o(d.idComercio);var e=setInterval((function(){t||o(d.idComercio)}),6e4);return function(){return clearInterval(e)}}),[]);var N=c.find((function(e){return"pending"==e.estado}));return r.a.createElement("div",{className:"container-fluid2",style:{marginTop:"6rem"}},N&&r.a.createElement("audio",{autoPlay:!0,loop:!0},r.a.createElement("source",{src:gr.a,type:"audio/mpeg"}),"Your browser does not support the audio element."),r.a.createElement(V,{className:"mt-4"},r.a.createElement("div",{className:"col-12 px-0"},!u||m.idComercio?r.a.createElement(V,{title:m.nombre,description:m.direccion,button:r.a.createElement(ya.a,{className:"ml-auto",control:s?r.a.createElement(U.a,{size:24}):r.a.createElement(vr.a,{color:1==m.isOpen?"primary":"default",checked:!0,onChange:function(){return l({idComercio:m.idComercio,isOpen:1==m.isOpen?0:1})},name:"isOpen"}),label:1==m.isOpen?"Abierto":"Cerrado"})}):r.a.createElement("div",{className:"row"},r.a.createElement(H,{cols:"col-12 px-0",size:1,disablePhoto:!0})),r.a.createElement(V,{title:"Pedidos",description:"Estos son tus pedidos en Ecodelivery",button:r.a.createElement(G,{className:"ml-auto",startIcon:r.a.createElement(ba.a,null),text:b()(p).isValid()&&r.a.createElement(ga.a,{date:b()(p).toDate()}),color:"primary",loading:t,onClick:function(){return o(d.idComercio)}})},r.a.createElement(ur,{orders:c,loading:t&&0==c.length,onDetail:function(e){S(c.find((function(a){return a.idOrden==e}))),x(!0)}})))),r.a.createElement(br,{isOpen:y,loading:a,order:h,onClose:function(){return x(!1)},showConfirm:function(e){return E(e)},onChangeOrderState:function(e){return f()&&i(e,(function(){x(!1),o()}))}}))}));function hr(){var e=Object(te.a)(["\n  border-radius: 0.3em;\n\n  @media only screen and (min-width: ",") and (max-width: ",") {\n    src: url(",");\n    height: 100%;\n    object-fit: cover;\n    width: 100%;\n  }\n\n  @media only screen and (min-width: ",") and (max-width: ",") {\n    src: url(",");\n    height: 100%;\n    object-fit: cover;\n    width: 100%;\n  }\n"]);return hr=function(){return e},e}var Sr=function(e){var a,t=e.idPlan,n=e.plan,c=e.urlFoto,o=e.descripcion,i=e.onClick;return i&&(a={cursor:"pointer"}),r.a.createElement("div",{className:"w-100"},r.a.createElement("div",{className:"row",style:a,onClick:function(){return i&&i(t)}},r.a.createElement("div",{className:"col"},r.a.createElement(jr,{src:c,draggable:"false"})),r.a.createElement("div",{className:"col"},r.a.createElement("h6",{style:oe.TRUNCATE}," ",n),r.a.createElement("p",{className:"mb-1"},o)),i&&r.a.createElement("div",{className:"col-2"},r.a.createElement(k.a,{"aria-label":"go",style:{borderRadius:"unset",backgroundColor:"unset"},className:"h-100",size:"medium"},r.a.createElement(ra.a,{fontSize:"inherit"})))),r.a.createElement("hr",{className:"w-100"}))},jr=ne.b.img(hr(),Ee.FROM+"px",Ee.TO+"px",(function(e){return e.src}),pe.FROM+"px",pe.TO+"px",(function(e){return e.src})),Cr=function(e){var a=e.loading,t=e.trip,c=e.date,o=e.onSubmit,i=e.onTripChange,l=e.planes,s=e.planOptions,u=e.diasOption,m=e.onCancel,d=Object(n.useState)({}),p=Object(v.a)(d,2),E=p[0],f=p[1],g=Object(n.useState)({}),O=Object(v.a)(g,2),h=O[0],S=O[1];Object(n.useEffect)((function(){if(t&&t.idSalida){var e=l.find((function(e){return e.idPlan==t.idPlan}));S(e)}}));var j=function(e){t[e.target.name]=e.target.value,i(t)},C=function(e,a){t[a]=b()(e),i(t)},y=function(e){for(var a=[],t=0;t<e.cupos+10;t++)t+1==e.cupos?a.push({text:"".concat(t+1," (Por defecto)"),value:t+1}):a.push({text:t+1,value:t+1});return a}(h);return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),f({});var a={},n=!0;t.idPlan||(n=!1,a=Object(Y.a)({},a,{idPlan:"Elige el plan que vas a poner a disposici\xf3n"})),t.cupos||(n=!1,a=Object(Y.a)({},a,{cupos:"Elige de cupos para este viaje"})),b()(t.horaFin).diff(b()(t.horaInicio),"hour",!0)<=1&&(n=!1,a=Object(Y.a)({},a,{horario:"Debe haber al menos una hora de diferencia."})),!t.idSalida||t.precio&&0!==Number(t.precio)||(n=!1,a=Object(Y.a)({},a,{precio:"Ingresa un precio v\xe1lido."})),t.seRepite&&(t.dias&&0!=t.dias.length||(n=!1,a=Object(Y.a)({},a,{dias:"Selecciona al menos un d\xeda."})),t.feHasta||(n=!1,a=Object(Y.a)({},a,{feHasta:"Selecciona una fecha v\xe1lida."})),b()(c).isSameOrAfter(t.feHasta)&&(n=!1,a=Object(Y.a)({},a,{feHasta:"La fecha de finalizaci\xf3n debe ser mayor a la fecha de incio."}))),n?o(Object(Y.a)({},t,{fecha:b()(c).format("YYYY-MM-DD"),horaInicio:b()(t.horaInicio).format("YYYY-MM-DD HH:mm"),horaFin:b()(t.horaFin).format("YYYY-MM-DD HH:mm"),idDia:b()(c).format("ddd").toUpperCase(),precio:t.precio||h.precio})):f(a)},noValidate:!0},r.a.createElement("h2",null,b()(c).format("ddd[,] DD MMM YYYY")),r.a.createElement("hr",null),!t||!t.idSalida&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Elige el plan"),r.a.createElement("p",{className:"mb-2"},"Elige entre las ofertas de planes que posees.")),!t||!t.idSalida&&r.a.createElement(Ne,{className:"mt-2",label:"Plan",name:"idPlan",variant:"outlined",disabled:t&&t.idSalida,value:t.idPlan,options:s,onChange:function(e){t[e.target.name]=e.target.value;var a=l.find((function(e){return e.idPlan==t.idPlan}));i(Object(Y.a)({},t,{cupos:a.cupos})),S(a)},error:E.idPlan}),h.idPlan&&r.a.createElement(Sr,h),r.a.createElement("h3",null,"Informaci\xf3n del viaje"),r.a.createElement("p",{className:"mb-2"},"Confirma la informaci\xf3n del nuevo que vas a agendar."),r.a.createElement(Ne,{label:"Cupos disponibles",name:"cupos",variant:"outlined",value:t.cupos,options:y,onChange:j,error:E.cupos}),t&&t.idSalida&&r.a.createElement(ke,{type:"decimal",label:"Precio por persona",variant:"outlined",name:"precio",value:t.precio,onChange:function(e){return j({target:Object(Y.a)({},e.target,{name:"precio"})})},error:E.precio}),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-md-6 col-sm-12"},r.a.createElement(cn,{label:"Desde",name:"horaInicio",variant:"inline",inputVariant:"outlined",value:t.horaInicio,onChange:function(e){return C(e,"horaInicio")},error:E.horaInicio})),r.a.createElement("div",{className:"col-md-6 col-sm-12"},r.a.createElement(cn,{label:"Hasta",name:"horaFin",variant:"inline",inputVariant:"outlined",value:t.horaFin,onChange:function(e){return C(e,"horaFin")},error:E.horaFin})),E.horario&&r.a.createElement("div",{className:"col-12"},r.a.createElement(ye.a,{error:!0,className:"mt-0"},E.horario))),!t.idSalida&&r.a.createElement(Ne,{label:"Repetir disponibilidad",name:"seRepite",variant:"outlined",value:t.seRepite,options:[{value:0,text:"No se repite"},{value:1,text:"Se repite"}],onChange:j,error:E.seRepite}),1==t.seRepite&&r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-12"},r.a.createElement(tn,{closeMenuOnSelect:!1,className:"mt-2",label:"Dias",name:"dias",value:t.dias?t.dias.map((function(e){return{value:e.idDia,label:e.dia}})):[],options:u,onChange:function(e){e||(e=[]),t.dias=e.map((function(e){return{idDia:e.value,dia:e.label}})),i(t)},error:E.dias})),r.a.createElement("div",{className:"col-12"},r.a.createElement(Fa,{disablePast:!0,label:"Repetir hasta",name:"feHasta",variant:"inline",value:t.feHasta,onChange:function(e){t.feHasta=e.toDate(),i(t)},error:E.feHasta})),t.dias&&t.dias.length>0&&r.a.createElement("div",{className:"col-12"},r.a.createElement("p",null,"Se va a generar la disponibilidad los dias:"," ",r.a.createElement("strong",null,t.dias.map((function(e){return e.dia})).join(", "))),r.a.createElement("p",null,"Desde:"," ",r.a.createElement("strong",null,b()(c).format("ddd[,] DD MMM YYYY"))),r.a.createElement("p",null,"Hasta:"," ",r.a.createElement("strong",null,b()(t.feHasta).format("ddd[,] DD MMM YYYY"))))),r.a.createElement(G,{type:"submit",text:"Guardar",variant:"contained",className:"mr-2",color:"primary",loading:a}),!a&&r.a.createElement(G,{text:"Cancelar",onClick:m}))},yr=function(e){var a=e.trip,t=e.onDelete,n=e.disableDelete,c=e.onReservas;return r.a.createElement("div",{className:"w-100"},r.a.createElement("h4",null,"Plan"),r.a.createElement(Sr,Object.assign({},a,{descripcion:a.descripcion})),r.a.createElement("div",{className:"d-flex",style:{cursor:c?"pointer":"unset"},onClick:c?function(){return c(a.idSalida)}:null},r.a.createElement("h6",null,a.ocupados,"/",a.cupos," reservados"),c&&r.a.createElement(k.a,{"aria-label":"go",style:{borderRadius:"unset",backgroundColor:"unset"},className:"h-100 ml-auto p-0",size:"medium"},r.a.createElement(ra.a,{fontSize:"inherit"}))),r.a.createElement("hr",{className:"w-100 my-3"}),r.a.createElement("div",{className:"row m-0 p-0"},r.a.createElement("div",{className:"col-6 m-0 p-0"},r.a.createElement("h5",null,"Precio"),r.a.createElement("p",null,"$",a.precio)),r.a.createElement("div",{className:"col-6 m-0 p-0"},r.a.createElement("h5",null,"Cupos"),r.a.createElement("p",null,a.cupos))),r.a.createElement("hr",{className:"w-100 my-3"}),r.a.createElement("div",{className:"row m-0 p-0"},r.a.createElement("div",{className:"col-6 m-0 p-0"},r.a.createElement("h5",null,"Desde"),r.a.createElement("p",null,b()(a.horaInicio).format("hh:mm A"))),r.a.createElement("div",{className:"col-6 m-0 p-0"},r.a.createElement("h5",null,"Hasta"),r.a.createElement("p",null,b()(a.horaFin).format("hh:mm A")))),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",{className:"w-100 my-3"}),r.a.createElement("div",{className:"row m-0 p-0"},r.a.createElement("div",{className:"col-12 p-0 m-0"},r.a.createElement(G,{color:"secondary",className:"btn btn-block",disabled:n,onClick:t},"Eliminar del calendario")))))},xr=function(e){var a=e.title,t=e.text1,n=e.text2,c=e.action1,o=e.disableAction1,i=e.action2,l=e.isOnAction;return r.a.createElement("div",{className:"d-flex mb-4"},r.a.createElement("h3",null,a),c&&r.a.createElement(r.a.Fragment,null,l?r.a.createElement(G,{color:"primary",className:"ml-auto",onClick:i},n||"Cancel"):r.a.createElement(G,{color:"primary",disabled:o,className:"ml-auto",onClick:c},t||"Edit")))},Nr=Object(l.b)((function(e,a){var t=e.tripState,n=e.planState,r=e.loginState,c=e.diaState,o=t.trip,i=t.trips,l=t.loadingList,s=t.loading,u=t.lastSync,m=n.planes,d=r.usuario,p=c.dias.map((function(e){return{value:e.idDia,text:e.es}})),E=m.filter((function(e){return e.isInfoCompleted})).map((function(e){return{value:e.idPlan,text:e.plan}}));return{planes:m,planOptions:E,diasOption:p,trip:o,trips:i,loading:s,loadingList:l,usuario:d,lastSyncTrips:u}}),(function(e){return{tripChange:function(a){return e({type:"TRIP_CHANGE",trip:a})},loadTrips:function(){return e({type:"TRIP_GET_BY_PLANNER"})},loadPlanes:function(a){return e({type:"PLANES_GET_BY_PLANNER",idPlanner:a})},loadDias:function(){return e({type:"DIAS_GET"})},saveTrip:function(a,t){return e({type:"TRIP_SAVE",trip:a,onSuccess:t})},updateTrip:function(a,t){return e({type:"TRIP_UPDATE",trip:a,onSuccess:t})},showConfirm:function(a){return e({type:"OPEN_CONFIRM",config:a})},hideConfirm:function(){return e({type:"CLOSE_CONFIRM"})},deleteTrip:function(a,t){return e({type:"TRIP_DELETE",idSalida:a,onSuccess:t})},loadingConfirm:function(a){return e({type:"LOADING_CONFIRM",loading:a})}}}))((function(e){var a=e.history,t=e.loading,c=e.loadingList,o=e.trip,i=e.trips,l=e.planes,s=e.planOptions,u=e.diasOption,m=e.usuario,d=e.loadTrips,p=e.loadPlanes,E=e.loadDias,f=e.tripChange,g=e.saveTrip,O=e.updateTrip,h=e.showConfirm,S=e.hideConfirm,j=e.deleteTrip,C=e.loadingConfirm,y=e.lastSyncTrips,x=Object(n.useState)("TRIP_LIST"),N=Object(v.a)(x,2),_=N[0],R=N[1],A=Object(n.useState)(b()()),I=Object(v.a)(A,2),P=I[0],T=I[1];Object(n.useEffect)((function(){p(m.agencia.idPlanner),E()}),[]);var k=i.map((function(e){return b()(e.feSalida)})),w=function(e,a){return e.filter((function(e){return b()(e.feSalida).isSame(b()(a),"days")}))}(i,P),D=function(){C(!0),j(o.idSalida,(function(){C(!1),S(),R("TRIP_LIST")}))};return r.a.createElement("div",{className:"container-fluid2",style:{marginTop:"6rem"}},r.a.createElement(V,{className:"mt-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 col-md-8 col-lg-7"},r.a.createElement(Tt,{datesChecked:k,value:P,onChange:function(e){T(b()(e)),R("TRIP_LIST")}})),r.a.createElement("div",{className:"col-sm-12 col-md-4 col-lg-5"},"TRIP_LIST"==_&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("h3",{className:"my-auto"},b()(P).format("ddd[,] DD MMM YYYY")),r.a.createElement("div",{className:"ml-auto text-center"},r.a.createElement(G,{startIcon:r.a.createElement(ba.a,null),text:b()(y).isValid()&&r.a.createElement(ga.a,{date:b()(y).toDate()}),color:"primary",loading:c,onClick:d}))),r.a.createElement("hr",{className:"w-100"}),r.a.createElement(lr,{loading:c,trips:w,onClickDetail:function(e){var a=i.find((function(a){return a.idSalida==e.idSalida}));f(a),R("TRIP_INFO")},onClickSeeReservation:function(e){return a.push("/reservation/"+e)},onNewTrip:!c&&b()(P).isSameOrAfter(b()(),"day")?function(){f({horaInicio:new Date,horaFin:new Date,seRepite:0,feHasta:P}),R("TRIP_FORM")}:null})),"TRIP_FORM"==_&&r.a.createElement(Cr,{loading:t,trip:o,date:P,planes:l,planOptions:s,diasOption:u,onTripChange:f,onCancel:function(){return o.idSalida?R("TRIP_INFO"):R("TRIP_LIST")},onSubmit:function(e){e.idSalida?O(e,(function(){return R("TRIP_INFO")})):g(e,(function(){return R("TRIP_LIST")}))}}),"TRIP_INFO"==_&&r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{startIcon:r.a.createElement(L.a,{fontSize:"inherit"}),color:"primary",className:"ml-auto",onClick:function(){return R("TRIP_LIST")}},"Regresar"),r.a.createElement(xr,{title:b()(P).format("ddd[,] DD MMM YYYY"),text1:"Editar",isOnAction:"TRIP_FORM"==_,disableAction1:!b()(P).isSameOrAfter(b()(),"day"),action1:function(){R("TRIP_FORM"),f(o)},action2:function(){R("TRIP_INFO")}}),r.a.createElement(yr,{trip:o,disableDelete:!b()(P).isSameOrAfter(b()(),"day"),onReservas:function(e){return a.push("/reservation/"+e)},onDelete:function(){return h({titulo:"Eliminiar viaje",mensaje:"\xbfEst\xe1s seguro de eliminar este viaje?",confirmText:"Continuar",cancelText:"Cancelar",onConfirm:D})}}))))))})),_r=Object(ca.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var a=e.children,t=e.classes,n=e.onClose;return r.a.createElement(va.a,{disableTypography:!0,className:t.root},r.a.createElement(ha.a,{variant:"h6"},a),n?r.a.createElement(k.a,{"aria-label":"close",className:t.closeButton,onClick:n},r.a.createElement(ae.a,null)):null)})),Rr=Object(ca.a)((function(e){return{root:{padding:e.spacing(2)}}}))(Oa.a);var Ar=Object(l.b)((function(e,a){var t=e.confirmState;return{isOpen:t.isOpen,onConfirm:t.onConfirm,config:t.config,loading:t.loading}}),(function(e){return{closeModal:function(){return e({type:"CLOSE_CONFIRM"})}}}))((function(e){e.history;var a=e.isOpen,t=e.loading,n=e.config,c=e.closeModal,o=function(){n.onCancel&&n.onCancel(),c()};return r.a.createElement(X.a,{onClose:!t&&o,"aria-labelledby":"customized-dialog-title",open:a,maxWidth:"sm",fullWidth:!0},r.a.createElement(_r,{id:"customized-dialog-title",onClose:!t&&o},n.titulo),r.a.createElement(Rr,{dividers:!0},r.a.createElement("p",null,n.mensaje)),r.a.createElement(De.a,null,!t&&r.a.createElement(G,{onClick:function(){n.onCancel&&n.onCancel(),o()},color:"primary"},n&&n.cancelText?n.cancelText:"No"),r.a.createElement(G,{onClick:n.onConfirm,color:"primary",loading:t},n&&n.confirmText?n.confirmText:"yes")))})),Ir=Object(l.b)((function(e,a){var t=e.planState,n=e.loginState,r=t.plan,c=t.planes,o=t.loadingList,i=t.lastSync,l=n.usuario;return{plan:r,usuario:l,agency:l.agencia,planes:c,loadingPlanes:o,lastSyncPlanes:i}}),(function(e){return{setPlan:function(a){return e({type:"PLAN_CHANGE",plan:a})},loadPlan:function(a){return e({type:"PLAN_GET_BY_ID",idPlan:a})},getPlanner:function(a){return e({type:"PLANNER_GET_BY_ID",idPlanner:a})},loadPlanes:function(a){return e({type:"PLANES_GET_BY_PLANNER",idPlanner:a})}}}))((function(e){var a=e.history,t=e.setPlan,c=e.agency,o=e.planes,i=e.loadingPlanes,l=e.loadPlanes,s=e.lastSyncPlanes;Object(n.useEffect)((function(){t({})}),[]);return r.a.createElement("div",{className:"container-fluid2",style:{marginTop:"6rem"}},r.a.createElement(V,{className:"mt-4",title:c.agencia,button:r.a.createElement(G,{color:"primary",variant:"outlined",className:"ml-auto",onClick:function(){return a.push("/plan/create")}},"Crear un nuevo plan")},r.a.createElement("hr",{className:"w-100"}),r.a.createElement(V,null,r.a.createElement(xt,{cols:"col-sm-12 col-md-3 col-lg-3 col-xl-4 mb-4",button:r.a.createElement(G,{className:"ml-auto",startIcon:r.a.createElement(ba.a,null),text:b()(s).isValid()&&r.a.createElement(ga.a,{date:b()(s).toDate()}),color:"primary",loading:i,onClick:function(){return l(c.idPlanner)}}),showCardHeader:!1,showStatus:!0,dummySize:3,title:"Tus planes",planes:o,onPublish:function(e){return console.log("Clicked "+e)},loading:i,onNewDate:function(e){a.push("/calendar")},onEdit:function(e){return a.push("/plan/create/"+e)},onDelete:function(e){return console.log(e)}}))))}));function Pr(){var e=Object(te.a)(["\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 20;\n  position: fixed;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.6); /* Black background with opacity */\n  display: flex;\n  justify-content: center;\n"]);return Pr=function(){return e},e}function Tr(){var e=Object(te.a)(["\n  z-index: 20;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0); /* Black background with opacity */\n  display: flex;\n  justify-content: center;\n"]);return Tr=function(){return e},e}function kr(e){var a=e.children,t=e.loading,n=e.mini;return r.a.createElement(r.a.Fragment,null,n?t?r.a.createElement(wr,null,r.a.createElement("div",{style:Object(Y.a)({backgroundColor:re.white.white0,zIndex:"-1",padding:"3em",borderRadius:"3em"},oe.BOX_SHADOW)},r.a.createElement("i",{className:"fas fa-circle-notch fa-spin fa-5x",style:{color:re.primary.main}}))):a:r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(Lr,null,r.a.createElement("div",{style:Object(Y.a)({backgroundColor:re.white.white0,position:"fixed",zIndex:"-1",padding:"3em",borderRadius:"3em"},oe.BOX_SHADOW)},r.a.createElement("i",{className:"fas fa-circle-notch fa-spin fa-5x",style:{color:re.primary.main}}))),a))}var wr=ne.b.div(Tr()),Lr=ne.b.div(Pr()),Dr=t(339),Ur=function(e){var a=e.data;return r.a.createElement("div",{style:{height:400}},r.a.createElement(Dr.a,{colors:function(e){return e.color},data:a,margin:{top:50,right:30,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"Meses",legendOffset:36,legendPosition:"middle"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"Cantidad",legendOffset:-40,legendPosition:"middle"},pointSize:10,pointBorderWidth:2,pointLabel:"y",pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"top",direction:"row",justify:!1,translateX:0,translateY:-30,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]}))},Gr=t(1022),Br=(t(510),t(266));t(499),t(500),Object($.a)((function(e){return{card:{maxWidth:345},media:{height:0,paddingTop:"56.25%"},expand:{marginLeft:"auto"},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Br.a[500]}}}));var Mr=t(501),Yr=t(513),Fr=function(e){var a=e.data,t=e.keys,n=e.ejeX,c=e.ejeY,o=e.colors,i=e.labelTextColor;return r.a.createElement("div",{style:{height:400}},r.a.createElement(Mr.a,{data:a,keys:t,indexBy:"Month",margin:{top:50,right:30,bottom:50,left:60},padding:.3,colors:o,borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:n,legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:c,legendPosition:"middle",legendOffset:-45},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:i,legends:[{anchor:"top",direction:"column",justify:!1,translateX:0,translateY:-30,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15}))},Vr=function(e){var a=e.data;return r.a.createElement("div",{style:{height:400}},r.a.createElement(Yr.a,{data:a,margin:{top:40,right:80,bottom:80,left:80},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"nivo"},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",.2]]},radialLabelsSkipAngle:10,radialLabelsTextXOffset:6,radialLabelsTextColor:"#333333",radialLabelsLinkOffset:0,radialLabelsLinkDiagonalLength:16,radialLabelsLinkHorizontalLength:24,radialLabelsLinkStrokeWidth:1,radialLabelsLinkColor:{from:"color"},slicesLabelsSkipAngle:10,slicesLabelsTextColor:"#333333",animate:!0,motionStiffness:90,motionDamping:15,defs:[{id:"dots",type:"patternDots",background:"inherit",color:"rgba(255, 255, 255, 0.3)",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"rgba(255, 255, 255, 0.3)",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"ruby"},id:"dots"},{match:{id:"c"},id:"dots"},{match:{id:"go"},id:"dots"},{match:{id:"python"},id:"dots"},{match:{id:"scala"},id:"lines"},{match:{id:"lisp"},id:"lines"},{match:{id:"elixir"},id:"lines"},{match:{id:"javascript"},id:"lines"}],legends:[{anchor:"bottom",direction:"row",translateY:56,itemWidth:100,itemHeight:18,itemTextColor:"#999",symbolSize:18,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:"#000"}}]}]}))},Hr=(t(792),t(337),t(265)),Wr=t(356);function zr(){var e=Object(te.a)(["\n  mutation(\n    $idAgencia: Int!\n    $fechaIni: String!\n    $fechaFin: String!\n    $action: String!\n  ) {\n    getBiComprasAndReservas(\n      idAgencia: $idAgencia\n      fechaIni: $fechaIni\n      fechaFin: $fechaFin\n      action: $action\n    ) {\n      reservas\n      compras\n      month\n      income\n    }\n  }\n"]);return zr=function(){return e},e}function Kr(){var e=Object(te.a)(["\n  mutation(\n    $idAgencia: Int!\n    $fechaIni: String!\n    $fechaFin: String!\n    $action: String!\n  ) {\n    getBiActivities(\n      idAgencia: $idAgencia\n      fechaIni: $fechaIni\n      fechaFin: $fechaFin\n      action: $action\n    ) {\n      idActividad\n      actividad\n      total\n    }\n  }\n"]);return Kr=function(){return e},e}var qr=Object(Wr.a)(Kr()),$r=Object(Wr.a)(zr()),Jr=function(){return JSON.parse(localStorage.getItem("usuario"))},Xr=function(){return localStorage.getItem("token")},Qr=function(){localStorage.removeItem("usuario"),localStorage.removeItem("token")};var Zr=Object(ca.a)((function(e){return{isDisabled:{textDecoration:"line-through",opacity:.7,"&:hover":{cursor:"unset",background:"rgba(0,0,0,0)"}},isSelected:{backgroundColor:re.primary.main,color:re.primary.contrastText},day:{margin:0,width:"40px",borderRadius:"0",height:"36px",padding:"0",fontSize:"0.75rem",fontWeight:"500"},beginCap:{borderRadius:"50% 0 0 50%"},endCap:{borderRadius:"0 50% 50% 0"}}}),{name:"DateRangePicker"})((function(e){var a=e.classes,t=e.label,c=e.value,o=e.onChange,i=e.autoOk,l=(Object(_e.a)(e,["classes","label","value","onChange","autoOk"]),Object(n.useState)(0)),s=Object(v.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(void 0),p=Object(v.a)(d,2),E=p[0],f=p[1],g=Object(n.useRef)(),O=c[0],h=c[1],S=b.a.min([b()(O),b()(h)||b()(E)]),j=b.a.max([b()(O),b()(h)||b()(E)]);return r.a.createElement("div",{className:"form-group"},r.a.createElement(Ma.a,{utils:Ba.a},r.a.createElement(Ya.b,{fullWidth:!0,label:t,autoOk:i,value:O,renderDay:function(e,t,n,c){return r.a.createElement((function(){var t;return r.a.cloneElement(c,{onClick:function(a){a.stopPropagation(),console.log(u),0==u?(m(u+1),o([e,e])):1==u?(m(u+1),o([b()(O).toDate(),b()(e).toDate()].sort((function(e,a){return new Date(e)-new Date(a)})))):(m(1),o([e,e]))},onMouseEnter:function(a){return f(e)},className:Object(Ja.a)(a.day,(t={},Object(Ga.a)(t,a.hidden,c.props.hidden),Object(Ga.a)(t,a.current,c.props.current),Object(Ga.a)(t,a.isSelected,b()(e).isSameOrAfter(b()(S),"day")&&b()(e).isSameOrBefore(b()(j),"day")),Object(Ga.a)(t,a.beginCap,b()(e).isSame(b()(S),"day")),Object(Ga.a)(t,a.endCap,b()(e).isSame(b()(j),"day")),t))})}),null)},onChange:function(){},ref:g,labelFunc:function(e,a){return e&&O&&h?"".concat(b()(O).format("DD[/]MM[/]YYYY")," - ").concat(b()(h).format("DD[/]MM[/]YYYY")):"Selecciona un rango"}})))})),ec=Object($.a)((function(e){return{card:Object(Y.a)({},oe.BOX_SHADOW,{borderRadius:".6em"}),floatRight:{marginLeft:"auto",display:"flex",flexDirection:"row",justifyContent:"space-between"},input:{marginLeft:"2em"}}})),ac=function(e){var a=ec(),t=Object(Hr.a)($r),c=Object(v.a)(t,2),o=c[0],i=c[1],l=i.data,s=i.loading,u=(i.error,Object(Hr.a)(qr)),m=Object(v.a)(u,2),d=m[0],p=m[1],E=p.data,f=p.loading,g=(p.error,Object(n.useState)(b()().subtract(1,"months"))),O=Object(v.a)(g,2),h=O[0],S=O[1],j=Object(n.useState)(b()()),C=Object(v.a)(j,2),y=C[0],x=C[1],N=l&&l.getBiComprasAndReservas?[{id:"Bookings",color:re.primary.main,data:l.getBiComprasAndReservas.map((function(e,a){return{x:{1:"ENE",2:"FEB",3:"MAR",4:"ABR",5:"MAY",6:"JUN",7:"JUL",8:"AGO",9:"SEP",10:"OCT",11:"NOV",12:"DIC"}[e.month],y:e.reservas}}))},{id:"Sales",color:re.secondary.main,data:l.getBiComprasAndReservas.map((function(e,a){return{x:{1:"ENE",2:"FEB",3:"MAR",4:"ABR",5:"MAY",6:"JUN",7:"JUL",8:"AGO",9:"SEP",10:"OCT",11:"NOV",12:"DIC"}[e.month],y:e.compras}}))}]:[],_=E&&E.getBiActivities?E.getBiActivities.map((function(e,a){return{id:e.actividad,label:e.actividad,value:e.total}})):[],R=l&&l.getBiComprasAndReservas?l.getBiComprasAndReservas.map((function(e,a){var t;return t={},Object(Ga.a)(t,"Month",{1:"ENE",2:"FEB",3:"MAR",4:"ABR",5:"MAY",6:"JUN",7:"JUL",8:"AGO",9:"SEP",10:"OCT",11:"NOV",12:"DIC"}[e.month]),Object(Ga.a)(t,"total",e.income),t})):[];return r.a.createElement(ve,{title:"Observa lo que dicen tus datos"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 col-md-5 col-lg-3"},r.a.createElement(Zr,{label:"Rango de fechas",autoOk:!0,value:[h,y],onChange:function(e){return function(e){var a=e.fechaIni,t=e.fechaFin;S(a),x(t);var n=b()(a).format("DD/MM/YYYY"),r=b()(t).format("DD/MM/YYYY"),c=Jr().agencia.idPlanner,i={idAgencia:c,fechaIni:n,fechaFin:r,action:"bi_activities_per_agency"};o({variables:{idAgencia:c,fechaIni:n,fechaFin:r,action:"bi_compras_and_reservas_monthly"}}).then((function(e){e.data})).catch((function(e){return console.log(e)})),d({variables:i}).then((function(e){e.data})).catch((function(e){return console.log(e)}))}({fechaIni:e[0],fechaFin:e[1]})}}))),r.a.createElement(Gr.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:3},r.a.createElement(Gr.a,{item:!0,xs:6},r.a.createElement(kr,{mini:!0,loading:s},r.a.createElement(Ha.a,{className:a.card},r.a.createElement(ht.a,{disableSpacing:!0},r.a.createElement(vt.a,{title:"Ventas y pasajeros",subheader:"Desde: ".concat(b()(h).format("DD/MM/YYYY")," hasta: ").concat(b()(y).format("DD/MM/YYYY"))})),r.a.createElement(Wa.a,null,r.a.createElement(Ur,{data:N}))))),r.a.createElement(Gr.a,{item:!0,xs:6},r.a.createElement(kr,{mini:!0,loading:s},r.a.createElement(Ha.a,{className:a.card},r.a.createElement(ht.a,{disableSpacing:!0},r.a.createElement(vt.a,{title:"Total ventas",subheader:"Desde: ".concat(b()(h).format("DD/MM/YYYY")," hasta: ").concat(b()(y).format("DD/MM/YYYY"))})),r.a.createElement(Wa.a,null,r.a.createElement(Fr,{colors:re.secondary.main,labelTextColor:re.secondary.contrastText,ejeX:"Meses",ejeY:"Ganancias",keys:["total"],data:R}))))),r.a.createElement(Gr.a,{item:!0,xs:6},r.a.createElement(kr,{mini:!0,loading:f},r.a.createElement(Ha.a,{className:a.card},r.a.createElement(ht.a,{disableSpacing:!0},r.a.createElement(vt.a,{title:"Actividades que gustan m\xe1s",subheader:"Desde: ".concat(b()(h).format("DD/MM/YYYY")," hasta: ").concat(b()(y).format("DD/MM/YYYY"))})),r.a.createElement(Wa.a,null,r.a.createElement(Vr,{data:_})))))))},tc=t(83),nc=t(1027),rc=t(1004),cc=t(1026),oc=t(922),ic=t(1025),lc=t(1024),sc=t(506),uc=t.n(sc),mc=t(509),dc=t.n(mc),pc=t(508),Ec=t.n(pc),bc=t(507),fc=t.n(bc),gc=t(1023),vc=Object($.a)({list:{width:250},fullList:{width:"auto"}}),Oc=Object(l.b)((function(e){var a=e.loginState,t=e.sideBarState,n=a.usuario;a.logged,a.menu;return{usuario:n,isLeftSideBarOpen:t.isLeftSideBarOpen}}),(function(e){return{logout:function(){return e({type:"LOGOUT"})},openLeftSideBar:function(){return e({type:"OPEN_LEFT_SIDEBAR"})},closeLeftSideBar:function(){return e({type:"CLOSE_LEFT_SIDEBAR"})}}}))((function(e){var a,t=e.history,n=e.usuario,c=e.logout,o=e.isLeftSideBarOpen,l=e.openLeftSideBar,s=e.closeLeftSideBar,u=vc(),m=r.a.useState({top:!1,left:!1,bottom:!1,right:!1}),d=Object(v.a)(m,2);d[0],d[1];n&&(a=n.idComercio);var p=[];p=a?[{path:"/dashboard",text:"Dashboard",icon:r.a.createElement(uc.a,null)}]:[{path:"/login",text:"Login",icon:r.a.createElement(fc.a,null)}];var E=function(e){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&(e?l():s())}};return r.a.createElement(nc.a,{open:o,onClose:s},r.a.createElement("div",{className:u.list,role:"presentation",onClick:E(!1),onKeyDown:E(!1)},r.a.createElement(rc.a,null,n&&r.a.createElement(oc.a,{className:"my-4"},r.a.createElement(gc.a,{className:"mx-auto"},r.a.createElement(T,{usuario:n}))),n&&r.a.createElement(oc.a,{className:"my-4"},r.a.createElement(lc.a,{primary:r.a.createElement("h5",{className:"text-center"},n.nombre+" "+n.apellido)})),p.map((function(e,a){return r.a.createElement(i.b,{key:e.path,to:e.path,style:{color:"unset",textDecoration:"unset"}},r.a.createElement(oc.a,{button:!0,key:e.path},r.a.createElement(ic.a,null,e.icon),r.a.createElement(lc.a,{primary:e.text})))}))),r.a.createElement(cc.a,null),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(rc.a,null,r.a.createElement(i.b,{to:"/account/settings",style:{color:"unset",textDecoration:"unset"}},r.a.createElement(oc.a,{button:!0},r.a.createElement(ic.a,null,r.a.createElement(Ec.a,null)),r.a.createElement(lc.a,{primary:"Cuenta"})))),r.a.createElement(cc.a,null),r.a.createElement(rc.a,null,r.a.createElement(oc.a,{button:!0,onClick:function(){t.replace("/login"),c()}},r.a.createElement(ic.a,null,r.a.createElement(dc.a,null)),r.a.createElement(lc.a,{primary:"Cerrar sesi\xf3n"}))))))})),hc=t(106),Sc=t(158),jc=t(181);b.a.locale("es");Object(qa.a)({palette:{primary:{main:re.primary.main,contrastText:re.primary.contrastText},secondary:{main:re.secondary.main,contrastText:re.secondary.contrastText},danger:{main:re.secondary.main,contrastText:re.secondary.contrastText}}});var Cc=new hc.a({link:Object(jc.b)({uri:"http://18.219.227.87/graphql"}),cache:new Sc.a}),yc=function(e){function a(e){return Object(s.a)(this,a),Object(m.a)(this,Object(d.a)(a).call(this,e))}return Object(p.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,a=e.usuario,t=e.logged,n=e.loadOrders,r=e.loadComercio;t&&(n(a.idComercio),r(a.idComercio))}},{key:"render",value:function(){var e=this.props,a=e.usuario,t=e.logged,n=e.open,c=e.time,o=e.mensaje,l=e.variant,s=e.close,u=[{path:"/",component:Ka},{path:"/login",component:Ka}],m=[{path:"/plan/create/:idPlan?",component:vn},{path:"/account/agency-info",component:In},{path:"/dashboard",component:Or},{path:"/calendar",component:Nr},{path:"/plans",component:Ir},,{path:"/agency/:idPlanner",component:Mt},{path:"/account/settings",component:dt},{path:"/account/personal-info",component:rr},{path:"/account/login-security",component:Tn},{path:"/reservation/:idTrip",component:wa},{path:"/analytics",component:ac}];return r.a.createElement(tc.a,{client:Cc},r.a.createElement(Dn,null,r.a.createElement(i.a,{history:this.props.history},r.a.createElement(cr,null,r.a.createElement(Zn,{history:this.props.history},r.a.createElement(B,this.props),r.a.createElement("div",{style:{flex:"1 0 auto"}},r.a.createElement(f.c,null,t&&a.idComercio&&m.map((function(e,a){return r.a.createElement(f.a,Object.assign({key:a,exact:!0},e))})),u.map((function(e,a){return r.a.createElement(f.a,Object.assign({key:a,exact:!0},e))})),r.a.createElement(f.a,{path:"/404",component:M}),r.a.createElement(f.a,{component:M})),r.a.createElement($a.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:n,autoHideDuration:c||4e3,variant:l,onClose:s,onExited:s},r.a.createElement(ut,{onClose:s,variant:l||"info",message:o})),r.a.createElement(Sn,{history:this.props.history}),r.a.createElement(Ar,null),r.a.createElement(Oc,{history:this.props.history})))))))}}]),a}(n.Component),xc=Object(g.d)(f.g,Object(l.b)((function(e){var a=e.loginState,t=e.snackbarState;return{usuario:a.usuario,logged:a.logged,open:t.open,time:t.time,mensaje:t.mensaje,variant:t.variant}}),(function(e){return{loadOrders:function(a){return e({type:"ORDERS_GET",idComercio:a})},loadComercio:function(a){return e({type:"COMERCIO_GET_BY_ID",idComercio:a})},close:function(){return e({type:"CLOSE_SNACKBAR",open:!1})}}})))(yc),Nc=t(514),_c=JSON.parse(localStorage.getItem("usuario")),Rc={loading:!1,usuario:_c,logged:!!_c,showLoginModal:!1},Ac=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN":return Object(Y.a)({},e,{loading:!0,login:a.login});case"LOGIN_SUCCESS":return Object(Y.a)({},e,{loading:!1,usuario:Object(Y.a)({},a.usuario),logged:!0});case"LOGIN_ERROR":return Object(Y.a)({},e,{loading:!1,error:a.error});case"LOGOUT":return Object(Y.a)({},e,{logged:!1,usuario:void 0});case"SHOW_LOGIN_MODAL":return Object(Y.a)({},e,{showLoginModal:a.show});default:return Object(Y.a)({},e)}},Ic={loading:!1,loadingList:!1,plan:{},planes:[],stepForm:0,error:{}};var Pc={loading:!1,loadingList:!1,ciudad:{},ciudades:[],error:{}};var Tc={loading:!1,loadingList:!1,lugar:{},lugares:[],error:{}};var kc={loading:!1,registro:{},registrado:!1},wc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kc,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"REGISTRO":return Object(Y.a)({},e,{loading:!0,registro:a.registro});case"REGISTRO_SUCCESS":return Object(Y.a)({},e,{loading:!1});case"REGISTRO_ERROR":return Object(Y.a)({},e,{loading:!1,error:a.error,mensaje:a.mensaje});case"VERIFICAR":return Object(Y.a)({},e,{loading:!0,verified:!1});case"VERIFICAR_SUCCESS":return Object(Y.a)({},e,{loading:!1,verified:!0,mensaje:void 0});case"VERIFICAR_ERROR":return Object(Y.a)({},e,{loading:!1,verified:!1,mensaje:a.mensaje});default:return Object(Y.a)({},e)}},Lc={loading:!1,loadingList:!1,usuario:{},usuarioOldValue:{}};var Dc={loading:!1,loadingList:!1,pais:{},paises:[],error:{}};var Uc={loading:!1,loadingList:!1,planner:{},plannerOldValue:{},stepForm:0};var Gc={open:!1},Bc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gc,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SHOW_SNACKBAR":return Object(Y.a)({},e,{open:!0,mensaje:a.mensaje,time:a.time,variant:a.variant});case"CLOSE_SNACKBAR":return Object(Y.a)({},e,{open:!1});default:return Object(Y.a)({},e)}},Mc={loading:!1,loadingList:!1,incluido:{},incluidos:[],error:{}};var Yc={loading:!1,loadingList:!1,actividad:{},actividades:[],error:{}};var Fc={loading:!1,loadingList:!1,dia:{},dias:[],error:{}};var Vc={loading:!1,loadingList:!1,reserva:{},reservas:[],error:{}};var Hc={loading:!1,loadingList:!1,salida:{},salidas:[],error:{}};var Wc={loading:!1,loadingList:!1,trip:{},trips:[]};var zc={loading:!1,isOpen:!1,config:{}};var Kc={isLeftSideBarOpen:!1};var qc={loading:!1,loadingList:!1,order:{},orders:[],error:{}};var $c={loading:!1,loadingList:!1,comercio:{},comercios:[],error:{}};var Jc=Object(g.c)({loginState:Ac,planState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ic,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PLAN_CHANGE":return Object(Y.a)({},e,{plan:Object(Y.a)({},a.plan)});case"PLAN_STEP_FORM_CHANGE":return Object(Y.a)({},e,{stepForm:a.stepForm});case"PLANES_GET":return Object(Y.a)({},e,{loadingList:!0});case"PLANES_GET_SUCCESS":return Object(Y.a)({},e,{loadingList:!1,planes:Object(Aa.a)(a.planes),lastSync:new Date});case"PLANES_GET_ERROR":return Object(Y.a)({},e,{loadingList:!1,mensaje:a.mensaje,error:a.error});case"PLANES_GET_BY_CIUDAD":case"PLANES_GET_BY_PLANNER":return Object(Y.a)({},e,{loadingList:!0});case"PLANES_GET_BY_PLANNER_SUCCESS":return Object(Y.a)({},e,{loadingList:!1,planes:Object(Aa.a)(a.planes)});case"PLAN_GET_BY_ID":return Object(Y.a)({},e,{loadingList:!0});case"PLAN_GET_BY_ID_SUCCESS":return Object(Y.a)({},e,{loadingList:!1,plan:Object(Y.a)({},a.plan,{lastSync:new Date})});case"PLAN_GET_BY_ID_ERROR":return Object(Y.a)({},e,{loading:!1,mensaje:a.mensaje,error:a.error});case"PLAN_BASIC_INFO_SAVE":case"PLAN_MAIN_PICTURE_SAVE":case"PLAN_INCLUIDOS_SAVE":case"PLAN_ITINERARIOS_SAVE":case"PLAN_LUGARES_SAVE":case"PLAN_ACTIVIDADES_SAVE":return Object(Y.a)({},e,{loading:!0});case"PLAN_SAVE_SUCCESS":var t=e.planes.findIndex((function(e){return e.idPlan==a.plan.idPlan})),n=[];return n=-1==t?[].concat(Object(Aa.a)(e.planes),[a.plan]):r(e.planes,a.plan),Object(Y.a)({},e,{loading:!1,planes:n});case"PLAN_SAVE_ERROR":return Object(Y.a)({},e,{loading:!1,mensaje:a.mensaje,error:a.error});default:return e}function r(e,a){var t=e.findIndex((function(e){return e.idPlan===a.idPlan})),n=Object.assign([],e);return n[t]=a,n}},tripState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wc,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"TRIP_CHANGE":return Object(Y.a)({},e,{trip:Object(Y.a)({},a.trip)});case"TRIP_GET_BY_USUARIO":case"TRIP_GET_BY_PLANNER":return Object(Y.a)({},e,{loadingList:!0,error:void 0});case"TRIP_GET_SUCCESS":return Object(Y.a)({},e,{loadingList:!1,loading:!1,trips:Object(Aa.a)(a.trips),lastSync:new Date});case"TRIP_GET_ERROR":return Object(Y.a)({},e,{loadingList:!1,mensaje:a.mensaje,error:a.error});case"TRIP_GET_BY_ID":return Object(Y.a)({},e,{loadingList:!0,error:void 0});case"TRIP_GET_BY_ID_SUCCESS":return Object(Y.a)({},e,{loadingList:!1,trip:Object(Y.a)({},a.trip,{lastSync:new Date}),trips:Object(Aa.a)(t(e.trips,a.trip))});case"TRIP_PLAN_GET":return Object(Y.a)({},e,{loadingList:!0,error:void 0});case"TRIP_PLAN_GET_SUCCESS":return Object(Y.a)({},e,{loadingList:!1,trip:Object(Y.a)({},a.trip,{lastSync:new Date})});case"TRIP_SAVE":return Object(Y.a)({},e,{loading:!0,error:void 0});case"TRIP_SAVE_SUCCESS":return Object(Y.a)({},e,{loading:!1,trips:[].concat(Object(Aa.a)(e.trips),[a.trip])});case"TRIP_SAVE_ERROR":return Object(Y.a)({},e,{loading:!1,mensaje:a.mensaje,error:a.error});case"TRIP_UPDATE":return Object(Y.a)({},e,{loading:!0,error:void 0});case"TRIP_UPDATE_SUCCESS":return Object(Y.a)({},e,{loading:!1,trips:Object(Aa.a)(t(e.trips,a.trip))});case"TRIP_UPDATE_ERROR":return Object(Y.a)({},e,{loading:!1,mensaje:a.mensaje,error:a.error});case"TRIP_DELETE":return Object(Y.a)({},e,{loading:!0,error:void 0});case"TRIP_DELETE_SUCCESS":return Object(Y.a)({},e,{loading:!1,trips:Object(Aa.a)(e.trips.filter((function(e){return e.idSalida!=a.idSalida})))});case"TRIP_DELETE_ERROR":return Object(Y.a)({},e,{loading:!1,mensaje:a.mensaje,error:a.error});default:return e}function t(e,a){var t=e.findIndex((function(e){return e.idSalida===a.idSalida})),n=Object.assign([],e);return n[t]=a,n}},ciudadState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CIUDADES_GET":return Object(Y.a)({},e,{loadingList:!0});case"CIUDADES_GET_SUCCESS":return Object(Y.a)({},e,{loadingList:!1,ciudades:a.ciudades});case"CIUDAD_GET_BY_ID_SUCCESS":return Object(Y.a)({},e,{loadingList:!1,ciudad:Object(Y.a)({},a.ciudad)});case"CIUDAD_GET_BY_ID_ERROR":return Object(Y.a)({},e,{loadingList:!1,error:Object(Y.a)({},a.error),mensaje:a.mensaje});default:return e}},lugarState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tc,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LUGARES_GET":return Object(Y.a)({},e,{loadingList:!0});case"LUGARES_GET_SUCCESS":return Object(Y.a)({},e,{loadingList:!1,lugares:a.lugares});case"LOAD_LUGAR_BY_ID":return Object(Y.a)({},e,{loading:!0});case"LOAD_LUGAR_BY_ID_SUCCESS":return Object(Y.a)({},e,{loading:!1,lugar:a.lugar});case"CREATE_LUGAR":return Object(Y.a)({},e,{loading:!0});case"CREATE_LUGAR_SUCCESS":return Object(Y.a)({},e,{loading:!1,lugares:[].concat(Object(Aa.a)(e.lugares),[a.lugar])});case"UPDATE_LUGAR":return Object(Y.a)({},e,{loading:!0});case"UPDATE_LUGAR_SUCCESS":return Object(Y.a)({},e,{lugares:Object(Aa.a)(t(e,a.lugar))});case"DELETE_LUGAR":return Object(Y.a)({},e,{loading:!0});case"DELETE_LUGAR_SUCCESS":return Object(Y.a)({},e,{loading:!1,lugares:Object(Aa.a)(e.filter((function(e){return e.idLugar!==a.lugar.idLugar})))});default:return e}function t(e,a){var t=e.findIndex((function(e){return e.idLugar===a.idLugar})),n=Object.assign([],e);return n[t]=a,n}},registroState:wc,reservaState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vc,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"RESERVA_CHANGE":return Object(Y.a)({},e,{reserva:Object(Y.a)({},a.reserva)});case"RESERVA_SAVE":return Object(Y.a)({},e,{loading:!0});case"RESERVA_SAVE_SUCCESS":return Object(Y.a)({},e,{loading:!1,error:!1});case"RESERVA_SAVE_ERROR":return Object(Y.a)({},e,{loading:!1,error:Object(Y.a)({},a.error),mensaje:a.error.mensaje});case"RESERVA_DELETE":return Object(Y.a)({},e,{loading:!0});case"RESERVA_DELETE_SUCCESS":return Object(Y.a)({},e,{loading:!1});case"RESERVA_DELETE_ERROR":return Object(Y.a)({},e,{loading:!1,error:Object(Y.a)({},a.error),mensaje:a.error.mensaje});default:return e}},salidaState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hc,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SALIDA_GET":return Object(Y.a)({},e,{loadingList:!0});case"SALIDA_GET_SUCCESS":return Object(Y.a)({},e,{loadingList:!1,salida:Object(Y.a)({},a.salida)});case"SALIDA_SAVE":return Object(Y.a)({},e,{loading:!0});case"SALIDA_SAVE_SUCCESS":return Object(Y.a)({},e,{loading:!1});default:return e}},usuarioState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USUARIO_CHANGE":return Object(Y.a)({},e,{usuario:Object(Y.a)({},a.usuario)});case"USUARIO_GET_BY_ID":return Object(Y.a)({},e,{loadingList:!0});case"USUARIO_GET_BY_ID_SUCCESS":return Object(Y.a)({},e,{loadingList:!1,usuario:Object(Y.a)({},a.usuario),usuarioOldValue:Object(Y.a)({},a.usuario)});case"USUARIO_GET_BY_ID_ERROR":return Object(Y.a)({},e,{loadingList:!1,mensaje:a.mensaje,error:a.error});case"USUARIO_SAVE_PROFILE_INFO":case"USUARIO_SAVE_PERSONAL_INFO":return Object(Y.a)({},e,{loading:!0});case"USUARIO_SAVE_SUCCESS":return Object(Y.a)({},e,{loading:!1});case"USUARIO_SAVE_ERROR":return Object(Y.a)({},e,{loading:!1,mensaje:a.mensaje,error:a.error});case"USUARIO_CHANGE_PASSWORD":return Object(Y.a)({},e,{loading:!0});case"USUARIO_CHANGE_PASSWORD_SUCCESS":return Object(Y.a)({},e,{loading:!1,usuarioContrasena:void 0});case"USUARIO_CHANGE_PASSWORD_ERROR":return Object(Y.a)({},e,{loading:!1,mensaje:a.mensaje,error:a.error});default:return e}},diaState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fc,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"DIAS_GET":return Object(Y.a)({},e,{loadingList:!0});case"DIAS_GET_SUCCESS":return Object(Y.a)({},e,{loadingList:!1,dias:Object(Aa.a)(a.dias)});case"DIAS_GET_ERROR":return Object(Y.a)({},e,{loadingList:!1,error:a.error,mensaje:a.mensaje});default:return e}},paisState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dc,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PAISES_GET":return Object(Y.a)({},e,{loadingList:!0});case"PAISES_GET_SUCCESS":return Object(Y.a)({},e,{loadingList:!1,paises:a.paises});case"PAISES_GET_ERROR":return Object(Y.a)({},e,{loadingList:!1,error:a.error,mensaje:a.mensaje});default:return e}},incluidoState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mc,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"INCLUIDOS_GET":return Object(Y.a)({},e,{loadingList:!0});case"INCLUIDOS_GET_SUCCESS":return Object(Y.a)({},e,{loadingList:!1,incluidos:Object(Aa.a)(a.incluidos)});case"INCLUIDOS_GET_ERROR":return Object(Y.a)({},e,{loadingList:!1,error:a.error,mensaje:a.mensaje});default:return e}},actividadState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yc,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ACTIVIDADES_GET":return Object(Y.a)({},e,{loadingList:!0});case"ACTIVIDADES_GET_SUCCESS":return Object(Y.a)({},e,{loadingList:!1,actividades:Object(Aa.a)(a.actividades)});case"ACTIVIDADES_GET_ERROR":return Object(Y.a)({},e,{loadingList:!1,error:a.error,mensaje:a.mensaje});default:return e}},plannerState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uc,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PLANNER_CHANGE":return Object(Y.a)({},e,{planner:Object(Y.a)({},a.planner)});case"PLANNNER_STEP_FORM_CHANGE":return Object(Y.a)({},e,{stepForm:a.stepForm});case"PLANNER_GET_BY_ID":return Object(Y.a)({},e,{loadingList:!0});case"PLANNER_GET_BY_ID_SUCCESS":return Object(Y.a)({},e,{loadingList:!1,planner:Object(Y.a)({},a.planner),plannerOldValue:Object(Y.a)({},a.planner)});case"PLANNER_GET_BY_ID_ERROR":return Object(Y.a)({},e,{loadingList:!1,mensaje:a.mensaje,error:a.error});case"PLANNER_GET_BY_ID_USUARIO":return Object(Y.a)({},e,{loadingList:!0});case"PLANNER_GET_BY_ID_USUARIO_SUCCESS":return Object(Y.a)({},e,{loadingList:!1,planner:Object(Y.a)({},a.planner),plannerOldValue:Object(Y.a)({},a.planner),stepForm:a.stepForm});case"PLANNER_GET_BY_ID_USUARIO_ERROR":return Object(Y.a)({},e,{loadingList:!1,mensaje:a.mensaje,error:a.error});case"PLANNER_BASIC_INFO_SAVE":case"PLANNER_LOCATION_INFO_SAVE":case"PLANNER_BRAND_INFO_SAVE":return Object(Y.a)({},e,{loading:!0});case"PLANNER_SAVE_SUCCESS":return Object(Y.a)({},e,{loading:!1});case"PLANNER_SAVE_ERROR":return Object(Y.a)({},e,{loading:!1,mensaje:a.mensaje,error:a.error});default:return e}},snackbarState:Bc,confirmState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zc,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"OPEN_CONFIRM":return Object(Y.a)({},e,{isOpen:!0,config:a.config});case"CLOSE_CONFIRM":return Object(Y.a)({},e,{isOpen:!1});case"LOADING_CONFIRM":return Object(Y.a)({},e,{loading:a.loading});default:return e}},sideBarState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kc,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"OPEN_LEFT_SIDEBAR":return Object(Y.a)({},e,{isLeftSideBarOpen:!0});case"CLOSE_LEFT_SIDEBAR":return Object(Y.a)({},e,{isLeftSideBarOpen:!1});default:return e}},orderState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qc,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ORDERS_GET":return Object(Y.a)({},e,{loadingList:!0});case"ORDERS_GET_SUCCESS":return Object(Y.a)({},e,{loadingList:!1,orders:a.orders,lastSync:new Date});case"ORDERS_GET_ERROR":return Object(Y.a)({},e,{loadingList:!1,error:a.error,mensaje:a.mensaje});case"ORDER_STATE_UPDATE":return Object(Y.a)({},e,{loading:!0});case"ORDER_STATE_UPDATE_SUCCESS":return Object(Y.a)({},e,{loading:!1,orders:Object(Aa.a)(e.orders.map((function(e){return e.idOrden==a.order.idOrden&&(e.estado=a.order.estado),e})))});default:return e}},comercioState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$c,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"COMERCIO_GET_BY_ID":return Object(Y.a)({},e,{loadingList:!0});case"COMERCIO_GET_BY_ID_SUCCESS":return Object(Y.a)({},e,{loadingList:!1,comercio:a.comercio,lastSync:new Date});case"COMERCIO_GET_BY_ID_ERROR":return Object(Y.a)({},e,{loadingList:!1,error:a.error,mensaje:a.mensaje});case"COMERCIO_OPEN_UPDATE":return Object(Y.a)({},e,{loading:!0});case"COMERCIO_OPEN_UPDATE_SUCCESS":return Object(Y.a)({},e,{loading:!1,comercio:Object(Y.a)({},e.comercio,{isOpen:1==e.comercio.isOpen?0:1})});case"COMERCIO_OPEN_UPDATE_ERROR":return Object(Y.a)({},e,{loading:!1,error:a.error,mensaje:a.mensaje});default:return e}}}),Xc=t(13),Qc=t.n(Xc),Zc=t(3),eo=t(23),ao=t.n(eo),to=function(e){console.log(e),e.status&&(500==e.response.status||404==e.response.status||403==e.response.status&&(window.location="/login",Qr()))},no=Qc.a.mark(oo),ro=Qc.a.mark(io),co=function(e){return ao.a.post("".concat(kn,"/login/afiliado"),Object(Y.a)({},e))};function oo(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(co,e.login);case 3:if(a=n.sent,!(t=a.data).success){n.next=14;break}return r=t.usuario,c=t.authToken,localStorage.setItem("usuario",JSON.stringify(r)),localStorage.setItem("token",c),n.next=9,Object(Zc.b)({type:"LOGIN_SUCCESS",usuario:t.usuario});case 9:return e.onSuccess&&e.onSuccess(t.usuario.idComercio),n.next=12,Object(Zc.b)({type:"SHOW_LOGIN_MODAL",show:!1});case 12:n.next=18;break;case 14:return n.next=16,Object(Zc.b)({type:"LOGIN_ERROR",error:t.error,message:t.mensaje});case 16:return n.next=18,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"warning",mensaje:t.mensaje});case 18:n.next=27;break;case 20:return n.prev=20,n.t0=n.catch(0),console.log(n.t0),n.next=25,Object(Zc.b)({type:"LOGIN_ERROR",error:n.t0,mensaje:n.t0.message});case 25:return n.next=27,Object(Zc.b)({type:"NOTIFICATION_SHOW",notification:{type:"error",message:"Something happened! :("}});case 27:case"end":return n.stop()}var r,c}),no,null,[[0,20]])}function io(e){return Qc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Qr();case 1:case"end":return e.stop()}}),ro)}var lo=Qc.a.mark(po),so=Qc.a.mark(Eo),uo=function(e){return ao.a.post("".concat(kn,"/api/registro"),Object(Y.a)({},e))},mo=function(e){return ao.a.post("".concat(kn,"/api/verificar"),{token:e})};function po(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(uo,e.registro);case 3:if(a=n.sent,!(t=a.data).success){n.next=15;break}return e.navigate(),n.next=9,Object(Zc.b)({type:"REGISTRO_SUCCESS"});case 9:return n.next=11,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"success",mensaje:t.mensaje});case 11:return n.next=13,Object(Zc.b)({type:"SHOW_LOGIN_MODAL",show:!1});case 13:n.next=19;break;case 15:return n.next=17,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"warning",mensaje:t.mensaje});case 17:return n.next=19,Object(Zc.b)({type:"REGISTRO_ERROR",error:t.error,mensaje:t.mensaje});case 19:n.next=28;break;case 21:return n.prev=21,n.t0=n.catch(0),console.log(n.t0),n.next=26,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 26:return n.next=28,Object(Zc.b)({type:"REGISTRO_ERROR",error:n.t0,message:"Something went wrong."});case 28:case"end":return n.stop()}}),lo,null,[[0,21]])}function Eo(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(mo,e.token);case 3:if(a=n.sent,!(t=a.data).success){n.next=10;break}return n.next=8,Object(Zc.b)({type:"VERIFICAR_SUCCESS"});case 8:n.next=12;break;case 10:return n.next=12,Object(Zc.b)({type:"VERIFICAR_ERROR",mensaje:t.mensaje});case 12:n.next=19;break;case 14:return n.prev=14,n.t0=n.catch(0),to(n.t0),n.next=19,Object(Zc.b)({type:"VERIFICAR_ERROR",mensaje:"Something happend, try this later."});case 19:case"end":return n.stop()}}),so,null,[[0,14]])}var bo=Qc.a.mark(Co),fo=Qc.a.mark(yo),go=Qc.a.mark(xo),vo=Qc.a.mark(No),Oo=function(e){var a={"x-access-token":Xr()};return ao.a.get("".concat(kn,"/api/usuario/").concat(e),{headers:a})},ho=function(e){var a={"x-access-token":Xr()};return ao.a.post("".concat(kn,"/api/usuario/profile-info"),e,{headers:a})},So=function(e){var a={"x-access-token":Xr()};return ao.a.post("".concat(kn,"/api/usuario/personal-info"),e,{headers:a})},jo=function(e){var a={"x-access-token":Xr()};return ao.a.post("".concat(kn,"/api/usuario/contrasena"),e,{headers:a})};function Co(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(Oo,e.idUsuario);case 3:if(a=n.sent,!(t=a.data).success){n.next=10;break}return n.next=8,Object(Zc.b)({type:"USUARIO_GET_BY_ID_SUCCESS",usuario:t.usuario});case 8:n.next=13;break;case 10:return console.log(t.error),n.next=13,Object(Zc.b)({type:"USUARIO_GET_BY_ID_ERROR",error:t.error,mensaje:t.mensaje});case 13:n.next=20;break;case 15:return n.prev=15,n.t0=n.catch(0),to(n.t0),n.next=20,Object(Zc.b)({type:"USUARIO_GET_BY_ID_ERROR",error:n.t0,mensaje:"Algo sali\xf3 mal al conectarse al servidor."});case 20:case"end":return n.stop()}}),bo,null,[[0,15]])}function yo(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(ho,e.usuario);case 3:if(a=n.sent,!(t=a.data).success){n.next=13;break}return n.next=8,Object(Zc.b)({type:"USUARIO_SAVE_SUCCESS"});case 8:return n.next=10,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"success",mensaje:t.mensaje});case 10:e.onSuccess(),n.next=18;break;case 13:return console.log(t.error),n.next=16,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"warning",mensaje:t.mensaje});case 16:return n.next=18,Object(Zc.b)({type:"USUARIO_SAVE_ERROR",error:t.error,mensaje:t.mensaje});case 18:n.next=27;break;case 20:return n.prev=20,n.t0=n.catch(0),console.log(n.t0),n.next=25,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 25:return n.next=27,Object(Zc.b)({type:"USUARIO_SAVE_ERROR",mensaje:"Something happend, try this later."});case 27:case"end":return n.stop()}}),fo,null,[[0,20]])}function xo(e){var a,t,n;return Qc.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Zc.a)(So,e.usuario);case 3:if(a=r.sent,!(t=a.data).success){r.next=18;break}return r.next=8,Object(Zc.b)({type:"USUARIO_SAVE_SUCCESS"});case 8:return r.next=10,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"success",mensaje:t.mensaje});case 10:return n=JSON.parse(localStorage.getItem("usuario")),n=Object(Y.a)({},n,{},e.usuario),localStorage.setItem("usuario",JSON.stringify(n)),r.next=15,Object(Zc.b)({type:"LOGIN_SUCCESS",usuario:n});case 15:e.onSuccess(),r.next=23;break;case 18:return console.log(t.error),r.next=21,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"warning",mensaje:t.mensaje});case 21:return r.next=23,Object(Zc.b)({type:"USUARIO_SAVE_ERROR",error:t.error,mensaje:t.mensaje});case 23:r.next=32;break;case 25:return r.prev=25,r.t0=r.catch(0),console.log(r.t0),r.next=30,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 30:return r.next=32,Object(Zc.b)({type:"USUARIO_SAVE_ERROR",mensaje:"Something happend, try this later."});case 32:case"end":return r.stop()}}),go,null,[[0,25]])}function No(e){var a,t,n;return Qc.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Zc.a)(jo,e.usuarioContrasena);case 3:if(a=r.sent,!(t=a.data).success){r.next=18;break}return(n=JSON.parse(localStorage.getItem("usuario"))).feUpdatePassword=t.feUpdatePassword,localStorage.setItem("usuario",JSON.stringify(n)),r.next=11,Object(Zc.b)({type:"LOGIN_SUCCESS",usuario:n});case 11:return r.next=13,Object(Zc.b)({type:"USUARIO_CHANGE_PASSWORD_SUCCESS"});case 13:return r.next=15,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"success",mensaje:t.mensaje});case 15:e.onSuccess&&e.onSuccess(),r.next=23;break;case 18:return console.log(t.error),r.next=21,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"warning",mensaje:t.mensaje});case 21:return r.next=23,Object(Zc.b)({type:"USUARIO_CHANGE_PASSWORD_ERROR",error:t.error,mensaje:t.mensaje});case 23:r.next=32;break;case 25:return r.prev=25,r.t0=r.catch(0),console.log(r.t0),r.next=30,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 30:return r.next=32,Object(Zc.b)({type:"USUARIO_SAVE_ERROR",error:r.t0,mensaje:r.t0.message});case 32:case"end":return r.stop()}}),vo,null,[[0,25]])}var _o=Qc.a.mark(Po),Ro=Qc.a.mark(To),Ao=function(e){return ao.a.get("".concat(kn,"/api/ciudad/").concat(e))},Io=function(){return ao.a.get("".concat(kn,"/api/ciudad"))};function Po(){var e,a;return Qc.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Zc.a)(Io);case 3:if(e=t.sent,!(a=e.data).success){t.next=10;break}return t.next=8,Object(Zc.b)({type:"CIUDADES_GET_SUCCESS",ciudades:a.ciudades});case 8:t.next=13;break;case 10:return console.log(a.error),t.next=13,Object(Zc.b)({type:"CIUDADES_GET_ERROR",error:a.error,mensaje:a.mensaje});case 13:t.next=20;break;case 15:return t.prev=15,t.t0=t.catch(0),to(t.t0),t.next=20,Object(Zc.b)({type:"CIUDADES_GET_ERROR",error:t.t0,mensaje:"Algo sali\xf3 mal al conectarse al servidor."});case 20:case"end":return t.stop()}}),_o,null,[[0,15]])}function To(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(Ao,e.idCiudad);case 3:if(a=n.sent,!(t=a.data).success){n.next=10;break}return n.next=8,Object(Zc.b)({type:"CIUDAD_GET_BY_ID_SUCCESS",ciudad:t.ciudad||{}});case 8:n.next=13;break;case 10:return console.log(t.error),n.next=13,Object(Zc.b)({type:"CIUDAD_GET_BY_ID_ERROR",error:t.error,mensaje:t.mensaje});case 13:n.next=20;break;case 15:return n.prev=15,n.t0=n.catch(0),to(n.t0),n.next=20,Object(Zc.b)({type:"CIUDAD_GET_BY_ID_ERROR",error:n.t0,mensaje:n.t0.message});case 20:case"end":return n.stop()}}),Ro,null,[[0,15]])}var ko=Qc.a.mark(Zo),wo=Qc.a.mark(ei),Lo=Qc.a.mark(ai),Do=Qc.a.mark(ti),Uo=Qc.a.mark(ni),Go=Qc.a.mark(ri),Bo=Qc.a.mark(ci),Mo=Qc.a.mark(oi),Yo=Qc.a.mark(ii),Fo=Qc.a.mark(li),Vo=function(){return ao.a.get("".concat(kn,"/api/planes"))},Ho=function(e){return ao.a.get("".concat(kn,"/api/planes/planner/").concat(e))},Wo=function(e){return ao.a.get("".concat(kn,"/api/planes/ciudad/").concat(e))},zo=function(e){return ao.a.get("".concat(kn,"/api/plan/").concat(e))},Ko=function(e){var a={"x-access-token":Xr()};return ao.a.post("".concat(kn,"/api/plan/basic"),e,{headers:a})},qo=function(e,a,t){var n={"x-access-token":Xr()},r=new FormData;return r.append("idUsuario",e),r.append("idPlan",a),r.append("file",t),ao.a.post("".concat(kn,"/api/plan/picture"),r,{headers:Object(Y.a)({accept:"application/json","Content-Type":"multipart/form-data; boundary=".concat(r._boundary)},n)})},$o=function(e){var a={"x-access-token":Xr()};return ao.a.post("".concat(kn,"/api/plan/incluidos"),e,{headers:a})},Jo=function(e){var a={"x-access-token":Xr()};return ao.a.post("".concat(kn,"/api/plan/itinerario"),e,{headers:a})},Xo=function(e){var a={"x-access-token":Xr()};return ao.a.post("".concat(kn,"/api/plan/lugares"),e,{headers:a})},Qo=function(e){var a={"x-access-token":Xr()};return ao.a.post("".concat(kn,"/api/plan/actividades"),e,{headers:a})};function Zo(){var e,a;return Qc.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Zc.a)(Vo);case 3:if(e=t.sent,!(a=e.data).success){t.next=10;break}return t.next=8,Object(Zc.b)({type:"PLANES_GET_SUCCESS",planes:a.planes});case 8:t.next=15;break;case 10:return console.log(a.error),t.next=13,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"No se pudieron sincronizar los planes"});case 13:return t.next=15,Object(Zc.b)({type:"PLANES_GET_ERROR",error:a.error,mensaje:a.mensaje});case 15:t.next=24;break;case 17:return t.prev=17,t.t0=t.catch(0),to(t.t0),t.next=22,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"No se pudieron sincronizar los planes"});case 22:return t.next=24,Object(Zc.b)({type:"PLANES_GET_ERROR",error:t.t0,mensaje:"Algo sali\xf3 mal al conectarse al servidor."});case 24:case"end":return t.stop()}}),ko,null,[[0,17]])}function ei(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(Ho,e.idPlanner);case 3:if(a=n.sent,!(t=a.data).success){n.next=10;break}return n.next=8,Object(Zc.b)({type:"PLANES_GET_SUCCESS",planes:t.planes});case 8:n.next=13;break;case 10:return console.log(t.error),n.next=13,Object(Zc.b)({type:"PLANES_GET_ERROR",error:t.error,mensaje:t.mensaje});case 13:n.next=20;break;case 15:return n.prev=15,n.t0=n.catch(0),to(n.t0),n.next=20,Object(Zc.b)({type:"PLANES_GET_ERROR",error:n.t0,mensaje:"Algo sali\xf3 mal al conectarse al servidor."});case 20:case"end":return n.stop()}}),wo,null,[[0,15]])}function ai(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(Wo,e.idCiudad);case 3:if(a=n.sent,!(t=a.data).success){n.next=10;break}return n.next=8,Object(Zc.b)({type:"PLANES_GET_SUCCESS",planes:t.planes});case 8:n.next=13;break;case 10:return console.log(t.error),n.next=13,Object(Zc.b)({type:"PLANES_GET_ERROR",error:t.error,mensaje:t.mensaje});case 13:n.next=20;break;case 15:return n.prev=15,n.t0=n.catch(0),to(n.t0),n.next=20,Object(Zc.b)({type:"PLANES_GET_ERROR",error:n.t0,mensaje:n.t0.message});case 20:case"end":return n.stop()}}),Lo,null,[[0,15]])}function ti(e){var a,t,n;return Qc.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Zc.a)(zo,e.idPlan);case 3:if(a=r.sent,!(t=a.data).success){r.next=13;break}return(n=t.plan).isInfoCompleted&&e.toPlanPage&&e.toPlanPage(n.idPlan),r.next=10,Object(Zc.b)({type:"PLAN_GET_BY_ID_SUCCESS",plan:n});case 10:e.onSuccess&&e.onSuccess(n),r.next=16;break;case 13:return console.log(t.error),r.next=16,Object(Zc.b)({type:"PLAN_GET_BY_ID_ERROR",error:t.error,mensaje:t.mensaje});case 16:r.next=23;break;case 18:return r.prev=18,r.t0=r.catch(0),to(r.t0),r.next=23,Object(Zc.b)({type:"PLAN_GET_BY_ID_ERROR",error:r.t0,mensaje:"Algo sali\xf3 mal al conectarse al servidor."});case 23:case"end":return r.stop()}}),Do,null,[[0,18]])}function ni(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(Ko,e.plan);case 3:if(a=n.sent,!(t=a.data).success){n.next=15;break}return n.next=8,Object(Zc.b)({type:"PLAN_SAVE_SUCCESS",plan:t.plan});case 8:return n.next=10,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"success",mensaje:t.mensaje});case 10:return!e.plan.idPlan&&e.onSuccess&&e.onSuccess(t.plan.idPlan),n.next=13,Object(Zc.b)({type:"PLAN_GET_BY_ID_SUCCESS",plan:t.plan});case 13:n.next=20;break;case 15:return console.log(t.error),n.next=18,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"warning",mensaje:t.mensaje});case 18:return n.next=20,Object(Zc.b)({type:"PLAN_SAVE_ERROR",error:t.error,mensaje:t.mensaje});case 20:n.next=29;break;case 22:return n.prev=22,n.t0=n.catch(0),console.log(n.t0),n.next=27,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 27:return n.next=29,Object(Zc.b)({type:"PLAN_SAVE_ERROR",mensaje:"Something happend, try this later."});case 29:case"end":return n.stop()}}),Uo,null,[[0,22]])}function ri(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(qo,e.idUsuario,e.idPlan,e.file);case 3:if(a=n.sent,!(t=a.data).success){n.next=14;break}return n.next=8,Object(Zc.b)({type:"PLAN_SAVE_SUCCESS",plan:t.plan});case 8:return n.next=10,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"success",mensaje:t.mensaje});case 10:return n.next=12,Object(Zc.b)({type:"PLAN_GET_BY_ID_SUCCESS",plan:t.plan});case 12:n.next=19;break;case 14:return console.log(t.error),n.next=17,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"warning",mensaje:t.mensaje});case 17:return n.next=19,Object(Zc.b)({type:"PLAN_SAVE_ERROR",error:t.error,mensaje:t.mensaje});case 19:n.next=28;break;case 21:return n.prev=21,n.t0=n.catch(0),console.log(n.t0),n.next=26,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 26:return n.next=28,Object(Zc.b)({type:"PLAN_SAVE_ERROR",mensaje:"Something happend, try this later."});case 28:case"end":return n.stop()}}),Go,null,[[0,21]])}function ci(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)($o,e.plan);case 3:if(a=n.sent,!(t=a.data).success){n.next=14;break}return n.next=8,Object(Zc.b)({type:"PLAN_SAVE_SUCCESS",plan:t.plan});case 8:return n.next=10,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"success",mensaje:t.mensaje});case 10:return n.next=12,Object(Zc.b)({type:"PLAN_GET_BY_ID_SUCCESS",plan:t.plan});case 12:n.next=19;break;case 14:return console.log(t.error),n.next=17,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"warning",mensaje:t.mensaje});case 17:return n.next=19,Object(Zc.b)({type:"PLAN_SAVE_ERROR",error:t.error,mensaje:t.mensaje});case 19:n.next=28;break;case 21:return n.prev=21,n.t0=n.catch(0),console.log(n.t0),n.next=26,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 26:return n.next=28,Object(Zc.b)({type:"PLAN_SAVE_ERROR",mensaje:"Something happend, try this later."});case 28:case"end":return n.stop()}}),Bo,null,[[0,21]])}function oi(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(Jo,e.plan);case 3:if(a=n.sent,!(t=a.data).success){n.next=14;break}return n.next=8,Object(Zc.b)({type:"PLAN_SAVE_SUCCESS",plan:t.plan});case 8:return n.next=10,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"success",mensaje:t.mensaje});case 10:return n.next=12,Object(Zc.b)({type:"PLAN_GET_BY_ID_SUCCESS",plan:t.plan});case 12:n.next=19;break;case 14:return console.log(t.error),n.next=17,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"warning",mensaje:t.mensaje});case 17:return n.next=19,Object(Zc.b)({type:"PLAN_SAVE_ERROR",error:t.error,mensaje:t.mensaje});case 19:n.next=28;break;case 21:return n.prev=21,n.t0=n.catch(0),console.log(n.t0),n.next=26,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 26:return n.next=28,Object(Zc.b)({type:"PLAN_SAVE_ERROR",mensaje:"Something happend, try this later."});case 28:case"end":return n.stop()}}),Mo,null,[[0,21]])}function ii(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(Xo,e.plan);case 3:if(a=n.sent,!(t=a.data).success){n.next=14;break}return n.next=8,Object(Zc.b)({type:"PLAN_SAVE_SUCCESS",plan:t.plan});case 8:return n.next=10,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"success",mensaje:t.mensaje});case 10:return n.next=12,Object(Zc.b)({type:"PLAN_GET_BY_ID_SUCCESS",plan:t.plan});case 12:n.next=19;break;case 14:return console.log(t.error),n.next=17,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"warning",mensaje:t.mensaje});case 17:return n.next=19,Object(Zc.b)({type:"PLAN_SAVE_ERROR",error:t.error,mensaje:t.mensaje});case 19:n.next=28;break;case 21:return n.prev=21,n.t0=n.catch(0),console.log(n.t0),n.next=26,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 26:return n.next=28,Object(Zc.b)({type:"PLAN_SAVE_ERROR",mensaje:"Something happend, try this later."});case 28:case"end":return n.stop()}}),Yo,null,[[0,21]])}function li(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(Qo,e.plan);case 3:if(a=n.sent,!(t=a.data).success){n.next=14;break}return n.next=8,Object(Zc.b)({type:"PLAN_SAVE_SUCCESS",plan:t.plan});case 8:return n.next=10,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"success",mensaje:t.mensaje});case 10:return n.next=12,Object(Zc.b)({type:"PLAN_GET_BY_ID_SUCCESS",plan:t.plan});case 12:n.next=19;break;case 14:return console.log(t.error),n.next=17,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"warning",mensaje:t.mensaje});case 17:return n.next=19,Object(Zc.b)({type:"PLAN_SAVE_ERROR",error:t.error,mensaje:t.mensaje});case 19:n.next=28;break;case 21:return n.prev=21,n.t0=n.catch(0),console.log(n.t0),n.next=26,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 26:return n.next=28,Object(Zc.b)({type:"PLAN_SAVE_ERROR",mensaje:"Something happend, try this later."});case 28:case"end":return n.stop()}}),Fo,null,[[0,21]])}var si=Qc.a.mark(pi),ui=Qc.a.mark(Ei),mi=function(){return ao.a.get("".concat(kn,"/api/lugar"))},di=function(e){return ao.a.get("".concat(kn,"/api/lugar/").concat(e))};function pi(){var e,a;return Qc.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Zc.a)(mi);case 3:if(e=t.sent,!(a=e.data).success){t.next=10;break}return t.next=8,Object(Zc.b)({type:"LUGARES_GET_SUCCESS",lugares:a.lugares});case 8:t.next=13;break;case 10:return console.log(a.error),t.next=13,Object(Zc.b)({type:"LUGARES_GET_ERROR",error:a.error,mensaje:a.mensaje});case 13:t.next=20;break;case 15:return t.prev=15,t.t0=t.catch(0),to(t.t0),t.next=20,Object(Zc.b)({type:"LUGARES_GET_ERROR",error:t.t0,mensaje:"Algo sali\xf3 mal al conectarse al servidor."});case 20:case"end":return t.stop()}}),si,null,[[0,15]])}function Ei(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(di,e.idCiudad);case 3:if(a=n.sent,!(t=a.data).success){n.next=10;break}return n.next=8,Object(Zc.b)({type:"LUGARES_GET_SUCCESS",lugares:t.lugares});case 8:n.next=13;break;case 10:return console.log(t.error),n.next=13,Object(Zc.b)({type:"LUGARES_GET_ERROR",error:t.error,mensaje:t.mensaje});case 13:n.next=20;break;case 15:return n.prev=15,n.t0=n.catch(0),to(n.t0),n.next=20,Object(Zc.b)({type:"LUGARES_GET_ERROR",error:n.t0,mensaje:n.t0.message});case 20:case"end":return n.stop()}}),ui,null,[[0,15]])}var bi=Qc.a.mark(gi),fi=function(){return ao.a.get("".concat(kn,"/api/pais"))};function gi(e){var a,t;return Qc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Zc.a)(fi);case 3:if(a=e.sent,!(t=a.data).success){e.next=10;break}return e.next=8,Object(Zc.b)({type:"PAISES_GET_SUCCESS",paises:t.paises});case 8:e.next=13;break;case 10:return console.log(t.error),e.next=13,Object(Zc.b)({type:"PAISES_GET_ERROR",error:t.error,message:t.mensaje});case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(0),to(e.t0),e.next=20,Object(Zc.b)({type:"PAISES_GET_ERROR",error:e.t0,message:"Algo sali\xf3 mal al conectarse al servidor."});case 20:case"end":return e.stop()}}),bi,null,[[0,15]])}var vi=Qc.a.mark(Ai),Oi=Qc.a.mark(Ii),hi=Qc.a.mark(Pi),Si=Qc.a.mark(Ti),ji=Qc.a.mark(ki),Ci=function(e){return ao.a.get("".concat(kn,"/api/planner/").concat(e))},yi=function(e){var a={"x-access-token":Xr()};return ao.a.get("".concat(kn,"/api/planner/usuario/").concat(e),{headers:a})},xi=function(e){var a={"x-access-token":Xr()};return ao.a.post("".concat(kn,"/api/planner/basic"),e,{headers:a})},Ni=function(e){var a={"x-access-token":Xr()};return ao.a.post("".concat(kn,"/api/planner/location"),e,{headers:a})},_i=function(e,a,t){var n={"x-access-token":Xr()},r=new FormData;return r.append("idUsuario",e),r.append("idPlanner",a),r.append("file",t),ao.a.post("".concat(kn,"/api/planner/brand"),r,{headers:Object(Y.a)({accept:"application/json","Content-Type":"multipart/form-data; boundary=".concat(r._boundary)},n)})},Ri=function(e){var a=JSON.parse(localStorage.getItem("usuario"));return a=Object(Y.a)({},a,{agencia:e}),localStorage.setItem("usuario",JSON.stringify(a)),a};function Ai(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(Ci,e.idPlanner);case 3:if(a=n.sent,!(t=a.data).success){n.next=10;break}return n.next=8,Object(Zc.b)({type:"PLANNER_GET_BY_ID_SUCCESS",planner:t.planner||{}});case 8:n.next=13;break;case 10:return console.log(t.error),n.next=13,Object(Zc.b)({type:"PLANNER_GET_BY_ID_ERROR",error:t.error,mensaje:t.mensaje});case 13:n.next=20;break;case 15:return n.prev=15,n.t0=n.catch(0),to(n.t0),n.next=20,Object(Zc.b)({type:"PLANNER_GET_BY_ID_ERROR",error:n.t0,mensaje:"Algo sali\xf3 mal al conectarse al servidor."});case 20:case"end":return n.stop()}}),vi,null,[[0,15]])}function Ii(e){var a,t,n,r;return Qc.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(Zc.a)(yi,e.idUsuario);case 3:if(a=c.sent,!(t=a.data).success){c.next=13;break}return r=t.planner,n=r?r.direccion&&r.latitud&&r.longitud?2:1:0,r&&r.isInfoCompleted&&e.toAgencyPage&&e.toAgencyPage(r.idPlanner),c.next=11,Object(Zc.b)({type:"PLANNER_GET_BY_ID_USUARIO_SUCCESS",planner:r||{},stepForm:n});case 11:c.next=16;break;case 13:return console.log(t.error),c.next=16,Object(Zc.b)({type:"PLANNER_GET_BY_ID_USUARIO_ERROR",error:t.error,mensaje:t.mensaje});case 16:c.next=23;break;case 18:return c.prev=18,c.t0=c.catch(0),to(c.t0),c.next=23,Object(Zc.b)({type:"PLANNER_GET_BY_ID_USUARIO_ERROR",error:c.t0,mensaje:"Algo sali\xf3 mal al conectarse al servidor."});case 23:case"end":return c.stop()}}),Oi,null,[[0,18]])}function Pi(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(xi,e.planner);case 3:if(a=n.sent,!(t=a.data).success){n.next=17;break}return n.next=8,Object(Zc.b)({type:"PLANNER_SAVE_SUCCESS"});case 8:return n.next=10,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"success",mensaje:t.mensaje});case 10:return n.next=12,Object(Zc.b)({type:"PLANNER_CHANGE",planner:t.planner});case 12:return n.next=14,Object(Zc.b)({type:"PLANNNER_STEP_FORM_CHANGE",stepForm:1});case 14:e.onSuccess&&e.onSuccess(),n.next=22;break;case 17:return console.log(t.error),n.next=20,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"warning",mensaje:t.mensaje});case 20:return n.next=22,Object(Zc.b)({type:"PLANNER_SAVE_ERROR",error:t.error,mensaje:t.mensaje});case 22:n.next=31;break;case 24:return n.prev=24,n.t0=n.catch(0),console.log(n.t0),n.next=29,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 29:return n.next=31,Object(Zc.b)({type:"PLANNER_SAVE_ERROR",error:n.t0,mensaje:n.t0.message});case 31:case"end":return n.stop()}}),hi,null,[[0,24]])}function Ti(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(Ni,e.planner);case 3:if(a=n.sent,!(t=a.data).success){n.next=17;break}return n.next=8,Object(Zc.b)({type:"PLANNER_SAVE_SUCCESS"});case 8:return n.next=10,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"success",mensaje:t.mensaje});case 10:return n.next=12,Object(Zc.b)({type:"PLANNER_CHANGE",planner:t.planner});case 12:return n.next=14,Object(Zc.b)({type:"PLANNNER_STEP_FORM_CHANGE",stepForm:2});case 14:e.onSuccess&&e.onSuccess(),n.next=22;break;case 17:return console.log(t.error),n.next=20,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"warning",mensaje:t.mensaje});case 20:return n.next=22,Object(Zc.b)({type:"PLANNER_SAVE_ERROR",error:t.error,mensaje:t.mensaje});case 22:n.next=31;break;case 24:return n.prev=24,n.t0=n.catch(0),console.log(n.t0),n.next=29,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 29:return n.next=31,Object(Zc.b)({type:"PLANNER_SAVE_ERROR",error:n.t0,mensaje:n.t0.message});case 31:case"end":return n.stop()}}),Si,null,[[0,24]])}function ki(e){var a,t,n;return Qc.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Zc.a)(_i,e.idUsuario,e.idPlanner,e.file);case 3:if(a=r.sent,!(t=a.data).success){r.next=19;break}return r.next=8,Object(Zc.b)({type:"PLANNER_SAVE_SUCCESS"});case 8:return n=Ri(t.planner),r.next=11,Object(Zc.b)({type:"LOGIN_SUCCESS",usuario:n});case 11:return e.toAgencyPage&&e.toAgencyPage(),e.onSuccess&&e.onSuccess(),r.next=15,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"success",mensaje:t.mensaje});case 15:return r.next=17,Object(Zc.b)({type:"PLANNER_GET_BY_ID_USUARIO",idUsuario:e.idUsuario});case 17:r.next=24;break;case 19:return console.log(t.error),r.next=22,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"warning",mensaje:t.mensaje});case 22:return r.next=24,Object(Zc.b)({type:"PLANNER_SAVE_ERROR",error:t.error,mensaje:t.mensaje});case 24:r.next=33;break;case 26:return r.prev=26,r.t0=r.catch(0),console.log(r.t0),r.next=31,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 31:return r.next=33,Object(Zc.b)({type:"PLANNER_SAVE_ERROR",error:r.t0,mensaje:r.t0.message});case 33:case"end":return r.stop()}}),ji,null,[[0,26]])}var wi=Qc.a.mark(Di),Li=function(){var e={"x-access-token":Xr()};return ao.a.get("".concat(kn,"/api/incluido"),{headers:e})};function Di(){var e,a;return Qc.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Zc.a)(Li);case 3:if(e=t.sent,!(a=e.data).success){t.next=10;break}return t.next=8,Object(Zc.b)({type:"INCLUIDOS_GET_SUCCESS",incluidos:a.incluidos});case 8:t.next=13;break;case 10:return console.log(a.error),t.next=13,Object(Zc.b)({type:"INCLUIDOS_GET_ERROR",error:a.error,message:a.mensaje});case 13:t.next=20;break;case 15:return t.prev=15,t.t0=t.catch(0),to(t.t0),t.next=20,Object(Zc.b)({type:"INCLUIDOS_GET_ERROR",error:t.t0,message:"Algo sali\xf3 mal al conectarse al servidor."});case 20:case"end":return t.stop()}}),wi,null,[[0,15]])}var Ui=Qc.a.mark(Bi),Gi=function(){var e={"x-access-token":Xr()};return ao.a.get("".concat(kn,"/api/dia"),{headers:e})};function Bi(){var e,a;return Qc.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Zc.a)(Gi);case 3:if(e=t.sent,!(a=e.data).success){t.next=10;break}return t.next=8,Object(Zc.b)({type:"DIAS_GET_SUCCESS",dias:a.dias});case 8:t.next=13;break;case 10:return console.log(a.error),t.next=13,Object(Zc.b)({type:"DIAS_GET_ERROR",error:a.error,message:a.mensaje});case 13:t.next=20;break;case 15:return t.prev=15,t.t0=t.catch(0),to(t.t0),t.next=20,Object(Zc.b)({type:"DIAS_GET_ERROR",error:t.t0,message:"Algo sali\xf3 mal al conectarse al servidor."});case 20:case"end":return t.stop()}}),Ui,null,[[0,15]])}var Mi=Qc.a.mark(Fi),Yi=function(){var e={"x-access-token":Xr()};return ao.a.get("".concat(kn,"/api/actividad"),{headers:e})};function Fi(){var e,a;return Qc.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Zc.a)(Yi);case 3:if(e=t.sent,!(a=e.data).success){t.next=10;break}return t.next=8,Object(Zc.b)({type:"ACTIVIDADES_GET_SUCCESS",actividades:a.actividades});case 8:t.next=13;break;case 10:return console.log(a.error),t.next=13,Object(Zc.b)({type:"ACTIVIDADES_GET_ERROR",error:a.error,message:a.mensaje});case 13:t.next=20;break;case 15:return t.prev=15,t.t0=t.catch(0),to(t.t0),t.next=20,Object(Zc.b)({type:"ACTIVIDADES_GET_ERROR",error:t.t0,message:"Algo sali\xf3 mal al conectarse al servidor."});case 20:case"end":return t.stop()}}),Mi,null,[[0,15]])}var Vi=Qc.a.mark(Ki),Hi=Qc.a.mark(qi),Wi=function(e){var a={"x-access-token":Xr()};return ao.a.post("".concat(kn,"/api/reserva"),e,{headers:a})},zi=function(e,a){var t={"x-access-token":Xr()},n=Jr().idUsuario;return ao.a.delete("".concat(kn,"/api/reserva/").concat(e,"/").concat(n,"/").concat(a),{headers:t})};function Ki(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(Wi,e.reserva);case 3:if(a=n.sent,!(t=a.data).success){n.next=15;break}return n.next=8,Object(Zc.b)({type:"RESERVA_SAVE_SUCCESS"});case 8:return n.next=10,Object(Zc.b)({type:"TRIP_GET_BY_ID_SUCCESS",trip:t.trip});case 10:return n.next=12,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"success",mensaje:t.mensaje});case 12:e.onSuccess&&e.onSuccess(),n.next=19;break;case 15:return n.next=17,Object(Zc.b)({type:"RESERVA_SAVE_ERROR",message:t.mensaje,error:t.error});case 17:return n.next=19,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 19:n.next=29;break;case 21:return n.prev=21,n.t0=n.catch(0),console.log(n.t0),to(n.t0),n.next=27,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 27:return n.next=29,Object(Zc.b)({type:"RESERVA_SAVE_ERROR",error:n.t0,message:"Algo sali\xf3 mal al conectarse al servidor."});case 29:case"end":return n.stop()}}),Vi,null,[[0,21]])}function qi(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(zi,e.idCompra,e.notificar);case 3:if(a=n.sent,!(t=a.data).success){n.next=15;break}return n.next=8,Object(Zc.b)({type:"RESERVA_DELETE_SUCCESS"});case 8:return n.next=10,Object(Zc.b)({type:"TRIP_GET_BY_ID_SUCCESS",trip:t.trip});case 10:return n.next=12,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"success",mensaje:t.mensaje});case 12:e.onSuccess&&e.onSuccess(),n.next=19;break;case 15:return n.next=17,Object(Zc.b)({type:"RESERVA_DELETE_ERROR",message:t.mensaje,error:t.error});case 17:return n.next=19,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 19:n.next=29;break;case 21:return n.prev=21,n.t0=n.catch(0),console.log(n.t0),to(n.t0),n.next=27,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 27:return n.next=29,Object(Zc.b)({type:"RESERVA_DELETE_ERROR",error:n.t0,message:"Algo sali\xf3 mal al conectarse al servidor."});case 29:case"end":return n.stop()}}),Hi,null,[[0,21]])}var $i=Qc.a.mark(ll),Ji=Qc.a.mark(sl),Xi=Qc.a.mark(ul),Qi=Qc.a.mark(ml),Zi=Qc.a.mark(dl),el=Qc.a.mark(pl),al=Qc.a.mark(El),tl=function(e){var a={"x-access-token":Xr()};return ao.a.get("".concat(kn,"/api/trip/").concat(e),{headers:a})},nl=function(e){var a={"x-access-token":Xr()};return ao.a.get("".concat(kn,"/api/trip/usuario/")+e,{headers:a})},rl=function(){var e={"x-access-token":Xr()},a=Jr().agencia;return ao.a.get("".concat(kn,"/api/trip/planner/").concat(a.idPlanner),{headers:e})},cl=function(e,a){var t={"x-access-token":Xr()};return ao.a.get("".concat(kn,"/api/trip/").concat(e,"/").concat(a),{headers:t})},ol=function(e){var a={"x-access-token":Xr()},t=Jr(),n=t.idUsuario,r=t.agencia;return ao.a.post("".concat(kn,"/api/trip"),Object(Y.a)({},e,{idUsuario:n,idPlanner:r.idPlanner}),{headers:a})},il=function(e){var a={"x-access-token":Xr()},t=Jr().idUsuario;return ao.a.delete("".concat(kn,"/api/trip/").concat(e,"/").concat(t),{headers:a})};function ll(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(tl,e.idSalida);case 3:if(a=n.sent,!(t=a.data).success){n.next=10;break}return n.next=8,Object(Zc.b)({type:"TRIP_GET_BY_ID_SUCCESS",trip:t.trip});case 8:n.next=13;break;case 10:return console.log(t.error),n.next=13,Object(Zc.b)({type:"TRIP_GET_ERROR",error:t.error,mensaje:t.mensaje});case 13:n.next=20;break;case 15:return n.prev=15,n.t0=n.catch(0),to(n.t0),n.next=20,Object(Zc.b)({type:"TRIP_GET_ERROR",error:n.t0,mensaje:"Algo sali\xf3 mal al conectarse al servidor."});case 20:case"end":return n.stop()}}),$i,null,[[0,15]])}function sl(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(nl,e.idUsuario);case 3:if(a=n.sent,!(t=a.data).success){n.next=10;break}return n.next=8,Object(Zc.b)({type:"TRIP_GET_SUCCESS",trips:t.trips});case 8:n.next=13;break;case 10:return console.log(t.error),n.next=13,Object(Zc.b)({type:"TRIP_GET_ERROR",error:t.error,mensaje:t.mensaje});case 13:n.next=20;break;case 15:return n.prev=15,n.t0=n.catch(0),to(n.t0),n.next=20,Object(Zc.b)({type:"TRIP_GET_ERROR",error:n.t0,mensaje:"Algo sali\xf3 mal al conectarse al servidor."});case 20:case"end":return n.stop()}}),Ji,null,[[0,15]])}function ul(e){var a,t;return Qc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Zc.a)(rl);case 3:if(a=e.sent,!(t=a.data).success){e.next=10;break}return e.next=8,Object(Zc.b)({type:"TRIP_GET_SUCCESS",trips:t.trips});case 8:e.next=15;break;case 10:return console.log(t.error),e.next=13,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"No se pudieron sincronizar los viajes"});case 13:return e.next=15,Object(Zc.b)({type:"TRIP_GET_ERROR",error:t.error,mensaje:t.mensaje});case 15:e.next=24;break;case 17:return e.prev=17,e.t0=e.catch(0),to(e.t0),e.next=22,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"No se pudieron sincronizar los viajes"});case 22:return e.next=24,Object(Zc.b)({type:"TRIP_GET_ERROR",error:e.t0,mensaje:e.t0.message});case 24:case"end":return e.stop()}}),Xi,null,[[0,17]])}function ml(e){var a,t,n,r;return Qc.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(Zc.a)(cl,e.idSalida,e.idPlan);case 3:if(a=c.sent,!(t=a.data).success){c.next=13;break}return n=t.trip,r=t.plan,c.next=9,Object(Zc.b)({type:"TRIP_PLAN_GET_SUCCESS",trip:n});case 9:return c.next=11,Object(Zc.b)({type:"PLAN_GET_BY_ID_SUCCESS",plan:r});case 11:c.next=16;break;case 13:return console.log(t.error),c.next=16,Object(Zc.b)({type:"TRIP_GET_ERROR",error:t.error,mensaje:t.mensaje});case 16:c.next=23;break;case 18:return c.prev=18,c.t0=c.catch(0),to(c.t0),c.next=23,Object(Zc.b)({type:"TRIP_GET_ERROR",error:c.t0,mensaje:"Algo sali\xf3 mal al conectarse al servidor."});case 23:case"end":return c.stop()}}),Qi,null,[[0,18]])}function dl(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(ol,e.trip);case 3:if(a=n.sent,!(t=a.data).success){n.next=18;break}if(!t.trips){n.next=11;break}return n.next=9,Object(Zc.b)({type:"TRIP_GET_SUCCESS",trips:t.trips});case 9:n.next=13;break;case 11:return n.next=13,Object(Zc.b)({type:"TRIP_SAVE_SUCCESS",trip:t.trip});case 13:return n.next=15,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"success",mensaje:t.mensaje});case 15:e.onSuccess&&e.onSuccess(),n.next=23;break;case 18:return console.log(t.error),n.next=21,Object(Zc.b)({type:"TRIP_SAVE_ERROR",error:t.error,message:t.mensaje});case 21:return n.next=23,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"warning",mensaje:t.mensaje});case 23:n.next=30;break;case 25:return n.prev=25,n.t0=n.catch(0),to(n.t0),n.next=30,Object(Zc.b)({type:"TRIP_SAVE_ERROR",error:n.t0,message:"Algo sali\xf3 mal al conectarse al servidor."});case 30:case"end":return n.stop()}}),Zi,null,[[0,25]])}function pl(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(ol,e.trip);case 3:if(a=n.sent,!(t=a.data).success){n.next=15;break}return n.next=8,Object(Zc.b)({type:"TRIP_UPDATE_SUCCESS",trip:t.trip});case 8:return n.next=10,Object(Zc.b)({type:"TRIP_CHANGE",trip:t.trip});case 10:return n.next=12,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"success",mensaje:t.mensaje});case 12:e.onSuccess&&e.onSuccess(),n.next=20;break;case 15:return console.log(t.error),n.next=18,Object(Zc.b)({type:"TRIP_UPDATE_ERROR",error:t.error,message:t.mensaje});case 18:return n.next=20,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"warning",mensaje:t.mensaje});case 20:n.next=27;break;case 22:return n.prev=22,n.t0=n.catch(0),to(n.t0),n.next=27,Object(Zc.b)({type:"TRIP_UPDATE_ERROR",error:n.t0,message:"Algo sali\xf3 mal al conectarse al servidor."});case 27:case"end":return n.stop()}}),el,null,[[0,22]])}function El(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(il,e.idSalida);case 3:if(a=n.sent,!(t=a.data).success){n.next=13;break}return n.next=8,Object(Zc.b)({type:"TRIP_DELETE_SUCCESS",idSalida:e.idSalida});case 8:return n.next=10,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"success",mensaje:t.mensaje});case 10:e.onSuccess&&e.onSuccess(),n.next=22;break;case 13:return console.log(t.error),n.next=16,Object(Zc.b)({type:"TRIP_DELETE_ERROR",error:t.error,message:t.mensaje});case 16:return n.next=18,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"warning",mensaje:t.mensaje});case 18:return n.next=20,Object(Zc.b)({type:"LOADING_CONFIRM",loading:!1});case 20:return n.next=22,Object(Zc.b)({type:"CLOSE_CONFIRM"});case 22:n.next=29;break;case 24:return n.prev=24,n.t0=n.catch(0),to(n.t0),n.next=29,Object(Zc.b)({type:"TRIP_DELETE_ERROR",error:n.t0,message:"Algo sali\xf3 mal al conectarse al servidor."});case 29:case"end":return n.stop()}}),al,null,[[0,24]])}var bl=Qc.a.mark(Ol),fl=Qc.a.mark(hl),gl=function(e){return ao.a.get("".concat(kn,"/order/afiliado/").concat(e))},vl=function(e){return ao.a.put("".concat(kn,"/order/state"),e)};function Ol(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(gl,e.idComercio);case 3:if(a=n.sent,!(t=a.data).success){n.next=10;break}return n.next=8,Object(Zc.b)({type:"ORDERS_GET_SUCCESS",orders:t.data});case 8:n.next=13;break;case 10:return console.log(t.error),n.next=13,Object(Zc.b)({type:"ORDERS_GET_ERROR",error:t.error,message:t.mensaje});case 13:n.next=20;break;case 15:return n.prev=15,n.t0=n.catch(0),to(n.t0),n.next=20,Object(Zc.b)({type:"ORDERS_GET_ERROR",error:n.t0,message:"Algo sali\xf3 mal al conectarse al servidor."});case 20:case"end":return n.stop()}}),bl,null,[[0,15]])}function hl(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=4,Object(Zc.a)(vl,e.order);case 4:if(a=n.sent,!(t=a.data).success){n.next=15;break}return n.next=10,Object(Zc.b)({type:"ORDER_STATE_UPDATE_SUCCESS",order:e.order});case 10:return n.next=12,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"success",mensaje:t.mensaje});case 12:e.onSuccess&&e.onSuccess(),n.next=19;break;case 15:return n.next=17,Object(Zc.b)({type:"ORDER_STATE_UPDATE_ERROR",message:t.mensaje,error:t.error});case 17:return n.next=19,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 19:n.next=29;break;case 21:return n.prev=21,n.t0=n.catch(0),console.log(n.t0),to(n.t0),n.next=27,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 27:return n.next=29,Object(Zc.b)({type:"ORDER_STATE_UPDATE_ERROR",error:n.t0,message:"Algo sali\xf3 mal al conectarse al servidor."});case 29:case"end":return n.stop()}}),fl,null,[[0,21]])}var Sl=Qc.a.mark(xl),jl=Qc.a.mark(Nl),Cl=function(e){return ao.a.get("".concat(kn,"/comercio/").concat(e))},yl=function(e){return ao.a.put("".concat(kn,"/comercio/open"),e)};function xl(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(Cl,e.idComercio);case 3:if(a=n.sent,!(t=a.data)){n.next=10;break}return n.next=8,Object(Zc.b)({type:"COMERCIO_GET_BY_ID_SUCCESS",comercio:t});case 8:n.next=13;break;case 10:return console.log(t.error),n.next=13,Object(Zc.b)({type:"COMERCIO_GET_BY_ID_ERROR",error:t.error,message:t.mensaje});case 13:n.next=20;break;case 15:return n.prev=15,n.t0=n.catch(0),to(n.t0),n.next=20,Object(Zc.b)({type:"COMERCIO_GET_BY_ID_ERROR",error:n.t0,message:"Algo sali\xf3 mal al conectarse al servidor."});case 20:case"end":return n.stop()}}),Sl,null,[[0,15]])}function Nl(e){var a,t;return Qc.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Zc.a)(yl,e.comercio);case 3:if(a=n.sent,!(t=a.data).success){n.next=13;break}return n.next=8,Object(Zc.b)({type:"COMERCIO_OPEN_UPDATE_SUCCESS"});case 8:return n.next=10,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"success",mensaje:t.mensaje});case 10:e.onSuccess&&e.onSuccess(),n.next=17;break;case 13:return n.next=15,Object(Zc.b)({type:"COMERCIO_OPEN_UPDATE_ERROR",message:t.mensaje,error:t.error});case 15:return n.next=17,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 17:n.next=27;break;case 19:return n.prev=19,n.t0=n.catch(0),console.log(n.t0),to(n.t0),n.next=25,Object(Zc.b)({type:"SHOW_SNACKBAR",variant:"error",mensaje:"Something happened! :("});case 25:return n.next=27,Object(Zc.b)({type:"COMERCIO_OPEN_UPDATE_ERROR",error:n.t0,message:"Algo sali\xf3 mal al conectarse al servidor."});case 27:case"end":return n.stop()}}),jl,null,[[0,19]])}var _l=Qc.a.mark(Rl);function Rl(){return Qc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zc.c)("LOGIN",oo);case 2:return e.next=4,Object(Zc.c)("LOGOUT",io);case 4:return e.next=6,Object(Zc.c)("REGISTRO",po);case 6:return e.next=8,Object(Zc.c)("VERIFICAR",Eo);case 8:return e.next=10,Object(Zc.c)("USUARIO_GET_BY_ID",Co);case 10:return e.next=12,Object(Zc.c)("USUARIO_SAVE_PROFILE_INFO",yo);case 12:return e.next=14,Object(Zc.c)("USUARIO_SAVE_PERSONAL_INFO",xo);case 14:return e.next=16,Object(Zc.c)("USUARIO_CHANGE_PASSWORD",No);case 16:return e.next=18,Object(Zc.c)("PLANNER_GET_BY_ID",Ai);case 18:return e.next=20,Object(Zc.c)("PLANNER_GET_BY_ID_USUARIO",Ii);case 20:return e.next=22,Object(Zc.c)("PLANNER_BASIC_INFO_SAVE",Pi);case 22:return e.next=24,Object(Zc.c)("PLANNER_LOCATION_INFO_SAVE",Ti);case 24:return e.next=26,Object(Zc.c)("PLANNER_BRAND_INFO_SAVE",ki);case 26:return e.next=28,Object(Zc.c)("PLANES_GET",Zo);case 28:return e.next=30,Object(Zc.c)("PLANES_GET_BY_PLANNER",ei);case 30:return e.next=32,Object(Zc.c)("PLANES_GET_BY_CIUDAD",ai);case 32:return e.next=34,Object(Zc.c)("PLAN_GET_BY_ID",ti);case 34:return e.next=36,Object(Zc.c)("PLAN_BASIC_INFO_SAVE",ni);case 36:return e.next=38,Object(Zc.c)("PLAN_MAIN_PICTURE_SAVE",ri);case 38:return e.next=40,Object(Zc.c)("PLAN_INCLUIDOS_SAVE",ci);case 40:return e.next=42,Object(Zc.c)("PLAN_ITINERARIOS_SAVE",oi);case 42:return e.next=44,Object(Zc.c)("PLAN_LUGARES_SAVE",ii);case 44:return e.next=46,Object(Zc.c)("PLAN_ACTIVIDADES_SAVE",li);case 46:return e.next=48,Object(Zc.c)("TRIP_GET_BY_ID",ll);case 48:return e.next=50,Object(Zc.c)("TRIP_GET_BY_USUARIO",sl);case 50:return e.next=52,Object(Zc.c)("TRIP_GET_BY_PLANNER",ul);case 52:return e.next=54,Object(Zc.c)("TRIP_PLAN_GET",ml);case 54:return e.next=56,Object(Zc.c)("TRIP_SAVE",dl);case 56:return e.next=58,Object(Zc.c)("TRIP_UPDATE",pl);case 58:return e.next=60,Object(Zc.c)("TRIP_UPDATE",pl);case 60:return e.next=62,Object(Zc.c)("TRIP_DELETE",El);case 62:return e.next=64,Object(Zc.c)("RESERVA_SAVE",Ki);case 64:return e.next=66,Object(Zc.c)("RESERVA_DELETE",qi);case 66:return e.next=68,Object(Zc.c)("CIUDADES_GET",Po);case 68:return e.next=70,Object(Zc.c)("CIUDADES_GET_BY_ID",To);case 70:return e.next=72,Object(Zc.c)("LUGARES_GET",pi);case 72:return e.next=74,Object(Zc.c)("LUGARES_GET_BY_CIUDAD",Ei);case 74:return e.next=76,Object(Zc.c)("DIAS_GET",Bi);case 76:return e.next=78,Object(Zc.c)("INCLUIDOS_GET",Di);case 78:return e.next=80,Object(Zc.c)("ACTIVIDADES_GET",Fi);case 80:return e.next=82,Object(Zc.c)("PAISES_GET",gi);case 82:return e.next=84,Object(Zc.c)("ORDERS_GET",Ol);case 84:return e.next=86,Object(Zc.c)("ORDER_STATE_UPDATE",hl);case 86:return e.next=88,Object(Zc.c)("COMERCIO_GET_BY_ID",xl);case 88:return e.next=90,Object(Zc.c)("COMERCIO_OPEN_UPDATE",Nl);case 90:case"end":return e.stop()}}),_l)}var Al,Il=Object(Nc.a)();window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__();Al=Object(g.e)(Jc,Object(g.d)(Object(g.a)(Il))),Il.run(Rl);var Pl=Al;o.a.render(r.a.createElement((function(){var e=Pl.getState().loginState;return r.a.createElement(l.a,{store:Pl},r.a.createElement(i.a,null,r.a.createElement(xc,{loginState:e})))}),null),document.getElementById("root"))}},[[579,1,2]]]);
//# sourceMappingURL=main.6ac80a16.chunk.js.map